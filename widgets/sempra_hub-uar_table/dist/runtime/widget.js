System.register(["jimu-core","jimu-theme","jimu-arcgis","jimu-ui","jimu-layouts/layout-runtime","jimu-core/data-source","jimu-core/react","esri/core/reactiveUtils","esri/layers/FeatureLayer"], function(__WEBPACK_DYNAMIC_EXPORT__, __system_context__) {
	var __WEBPACK_EXTERNAL_MODULE_jimu_core__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_theme__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_ui__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__ = {};
	var __WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__ = {};
	var __WEBPACK_EXTERNAL_MODULE_react__ = {};
	var __WEBPACK_EXTERNAL_MODULE_esri_core_reactiveUtils__ = {};
	var __WEBPACK_EXTERNAL_MODULE__arcgis_core_layers_FeatureLayer__ = {};
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_theme__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_ui__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_react__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE_esri_core_reactiveUtils__, "__esModule", { value: true });
	Object.defineProperty(__WEBPACK_EXTERNAL_MODULE__arcgis_core_layers_FeatureLayer__, "__esModule", { value: true });
	return {
		setters: [
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_theme__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_arcgis__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_ui__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_react__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE_esri_core_reactiveUtils__[key] = module[key];
				});
			},
			function(module) {
				Object.keys(module).forEach(function(key) {
					__WEBPACK_EXTERNAL_MODULE__arcgis_core_layers_FeatureLayer__[key] = module[key];
				});
			}
		],
		execute: function() {
			__WEBPACK_DYNAMIC_EXPORT__(
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style_widget.css":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style_widget.css ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.placeholder-inProgress-modal .modal-content {
  /*This is used to display the in progress loading icon. Not used at the moment*/
  display: contents;
}`, "",{"version":3,"sources":["webpack://./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style_widget.css"],"names":[],"mappings":"AAAA;EACI,+EAAA;EACA,iBAAA;AACJ","sourcesContent":[".placeholder-inProgress-modal .modal-content {\r\n    /*This is used to display the in progress loading icon. Not used at the moment*/\r\n    display: contents;\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

"use strict";


/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

"use strict";


module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style_widget.css":
/*!***********************************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style_widget.css ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_widget_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!../../../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./style_widget.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!./node_modules/resolve-url-loader/index.js??ruleSet[1].rules[3].use[2]!./node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[3]!./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style_widget.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_widget_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_widget_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_widget_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_ruleSet_1_rules_3_use_1_node_modules_resolve_url_loader_index_js_ruleSet_1_rules_3_use_2_node_modules_sass_loader_dist_cjs_js_ruleSet_1_rules_3_use_3_style_widget_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

"use strict";


var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

"use strict";


var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";


/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

"use strict";


/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./jimu-icons/svg/outlined/application/more-horizontal.svg":
/*!*****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/application/more-horizontal.svg ***!
  \*****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M2 7a1 1 0 1 0 0 2 1 1 0 0 0 0-2m5 1a1 1 0 1 1 2 0 1 1 0 0 1-2 0m6 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/directional/arrow-left.svg":
/*!************************************************************!*\
  !*** ./jimu-icons/svg/outlined/directional/arrow-left.svg ***!
  \************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M15 7.5a.52.52 0 0 1-.516.527H2.976L6.473 11.6a.535.535 0 0 1 0 .746.51.51 0 0 1-.73 0L1 7.5l4.743-4.846a.51.51 0 0 1 .73 0 .535.535 0 0 1 0 .746L2.976 6.973h11.508c.285 0 .516.236.516.527\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/clear-selection-general.svg":
/*!********************************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/clear-selection-general.svg ***!
  \********************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 17\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M0 12v-1.5h1V12h1.5v1H1a1 1 0 0 1-1-1M1 1h1.5v1H1v1.5H0V2a1 1 0 0 1 1-1m0 7.5H0v-3h1zM4.5 2V1h3v1zm5 0V1H11a1 1 0 0 1 1 1v1.5h-1V2zm4.813 14.02-3.535-3.535-3.536 3.535-.707-.707 3.536-3.535-3.536-3.536.707-.707 3.536 3.536 3.535-3.536.707.707-3.535 3.536 3.535 3.535z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/close.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/close.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"m8.745 8 6.1 6.1a.527.527 0 1 1-.745.746L8 8.746l-6.1 6.1a.527.527 0 1 1-.746-.746l6.1-6.1-6.1-6.1a.527.527 0 0 1 .746-.746l6.1 6.1 6.1-6.1a.527.527 0 0 1 .746.746z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/list-visible.svg":
/*!*********************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/list-visible.svg ***!
  \*********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M16 0H0v1h16z\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M5 11a3 3 0 1 0 6 0 3 3 0 0 0-6 0m3 2a2 2 0 1 0 0-4 2 2 0 0 0 0 4\" clip-rule=\"evenodd\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M8 6q3.874 0 7.75 4.349a.97.97 0 0 1 0 1.302Q11.874 16.001 8 16T.25 11.651a.97.97 0 0 1 0-1.302Q4.126 5.999 8 6m0 1c-2.237 0-4.558 1.303-6.961 4 2.403 2.698 4.724 4 6.96 4 2.238 0 4.559-1.303 6.962-4C12.558 8.303 10.237 7 8 7\" clip-rule=\"evenodd\"></path><path fill=\"#000\" d=\"M0 3h13v1H0zM3 6H0v1h3z\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/menu.svg":
/*!*************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/menu.svg ***!
  \*************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M.438 1C.196 1 0 1.224 0 1.5s.196.5.438.5h15.125c.241 0 .437-.224.437-.5s-.196-.5-.437-.5zM0 7.5c0-.276.196-.5.438-.5h15.125c.241 0 .437.224.437.5s-.196.5-.437.5H.438C.196 8 0 7.776 0 7.5M0 13.5c0-.276.196-.5.438-.5h15.125c.241 0 .437.224.437.5s-.196.5-.437.5H.438C.196 14 0 13.776 0 13.5\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/refresh.svg":
/*!****************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/refresh.svg ***!
  \****************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M7.986 1a6.99 6.99 0 0 1 5.723 2.969l-2.551-.938a.5.5 0 1 0-.345.938l4.228 1.555.163-.944.013-.005-.009-.019.6-3.471a.5.5 0 1 0-.985-.17l-.403 2.33A8 8 0 0 0 0 7.5c-.016.277.21.501.486.501a.53.53 0 0 0 .517-.5A7 7 0 0 1 7.986 1M8.015 15a6.99 6.99 0 0 1-5.724-2.969l2.551.938a.497.497 0 0 0 .642-.296.5.5 0 0 0-.297-.642L.96 10.476l-.163.944-.013.005.009.019-.6 3.471a.5.5 0 1 0 .985.17l.403-2.33A8 8 0 0 0 16 8.5a.477.477 0 0 0-.485-.501.53.53 0 0 0-.518.5A7 7 0 0 1 8.015 15\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/search.svg":
/*!***************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/search.svg ***!
  \***************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0m-1.27 4.936a6.5 6.5 0 1 1 .707-.707l4.136 4.137a.5.5 0 1 1-.707.707z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/show-selection--rtl.svg":
/*!****************************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/show-selection--rtl.svg ***!
  \****************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M15.88 2.825a.5.5 0 0 0-.759-.65l-2.323 2.71-1.265-1.265a.5.5 0 1 0-.707.707l1.265 1.265a1 1 0 0 0 1.466-.056zm0 8a.5.5 0 0 0-.759-.65l-2.323 2.71-1.265-1.265a.5.5 0 1 0-.707.708l1.265 1.264a1 1 0 0 0 1.466-.056zM9 4.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 .5.5M8.5 13a.5.5 0 0 0 0-1h-8a.5.5 0 0 0 0 1z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/show-selection.svg":
/*!***********************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/show-selection.svg ***!
  \***********************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M16 4.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 .5.5M16 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1 0-1h8a.5.5 0 0 1 .5.5M5.146 2.12a.5.5 0 0 1 .055.705l-2.324 2.71a1 1 0 0 1-1.466.057L.146 4.327a.5.5 0 0 1 .708-.707l1.264 1.265 2.323-2.71a.5.5 0 0 1 .705-.055M5.146 10.12a.5.5 0 0 1 .055.705l-2.324 2.71a1 1 0 0 1-1.466.057L.146 12.328a.5.5 0 1 1 .708-.708l1.264 1.265 2.323-2.71a.5.5 0 0 1 .705-.055\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/editor/trash.svg":
/*!**************************************************!*\
  !*** ./jimu-icons/svg/outlined/editor/trash.svg ***!
  \**************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M6 6.5a.5.5 0 0 1 1 0v6a.5.5 0 0 1-1 0zM9.5 6a.5.5 0 0 0-.5.5v6a.5.5 0 0 0 1 0v-6a.5.5 0 0 0-.5-.5\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M11 0H5a1 1 0 0 0-1 1v2H.5a.5.5 0 0 0 0 1h1.6l.81 11.1a1 1 0 0 0 .995.9h8.19a1 1 0 0 0 .995-.9L13.9 4h1.6a.5.5 0 0 0 0-1H12V1a1 1 0 0 0-1-1m0 3V1H5v2zm1.895 1h-9.79l.8 11h8.19z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/svg/outlined/suggested/info.svg":
/*!****************************************************!*\
  !*** ./jimu-icons/svg/outlined/suggested/info.svg ***!
  \****************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 16 16\"><path fill=\"#000\" d=\"M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/assets/icon.svg":
/*!**********************************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/runtime/assets/icon.svg ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 20 20\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M2 1h16a1 1 0 0 1 1 1v5H1V2a1 1 0 0 1 1-1m11 7H7v3h6zm0 4H7v3h6zm1 3v-3h5v3zm-1 1H7v3h6zm1 3h4a1 1 0 0 0 1-1v-2h-5zm0-8V8h5v3zM1 8h5v3H1zm0 4h5v3H1zm0 4h5v3H2a1 1 0 0 1-1-1zM0 2a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/assets/icons/placeholder-table.svg":
/*!*****************************************************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/runtime/assets/icons/placeholder-table.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

module.exports = "<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 400 400\"><path fill=\"#000\" d=\"M0 0h400v40H0z\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M80 55H20v9h60zm100 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60zM20 135h60v9H20zm160 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60zM20 215h60v9H20zm160 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60zM20 295h60v9H20zm160 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60zM20 95h60v9H20zm160 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60zM20 175h60v9H20zm160 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60zM20 255h60v9H20zm160 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60zM20 334h60v9H20zm160 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60zM20 374h60v9H20zm160 0h-60v9h60zm40 0h60v9h-60zm160 0h-60v9h60z\" clip-rule=\"evenodd\"></path><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M0 39h1v40h98V39h1v40h99V39h1v40h99V39h1v40h99V39h1v360h-1v-40h-99v40h99v1H0V39m1 320v40h98v-40zm98-1H1v-39h98zm1 1v40h99v-40zm99-1h-99v-39h99zm1 1v40h99v-40zm99-1h-99v-39h99zm1 0h99v-39h-99zM1 318v-38h98v38zm99 0v-38h99v38zm0-39h99v-39h-99zm100 39v-38h99v38zm0-39h99v-39h-99zm100 39v-38h99v38zm0-39h99v-39h-99zM1 279h98v-39H1zm0-79v39h98v-39zm98-1H1v-39h98zm1 1v39h99v-39zm99-1h-99v-39h99zm1 1v39h99v-39zm99-1h-99v-39h99zm1 1v39h99v-39zm99-1h-99v-39h99zM1 159v-39h98v39zm99 0v-39h99v39zm0-40h99V80h-99zm100 40v-39h99v39zm0-40h99V80h-99zm100 40v-39h99v39zm0-40h99V80h-99zM1 119h98V80H1z\" clip-rule=\"evenodd\"></path></svg>"

/***/ }),

/***/ "./jimu-icons/outlined/application/more-horizontal.tsx":
/*!*************************************************************!*\
  !*** ./jimu-icons/outlined/application/more-horizontal.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MoreHorizontalOutlined: () => (/* binding */ MoreHorizontalOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_application_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/application/more-horizontal.svg */ "./jimu-icons/svg/outlined/application/more-horizontal.svg");
/* harmony import */ var _svg_outlined_application_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_application_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const MoreHorizontalOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_application_more_horizontal_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/directional/arrow-left.tsx":
/*!********************************************************!*\
  !*** ./jimu-icons/outlined/directional/arrow-left.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ArrowLeftOutlined: () => (/* binding */ ArrowLeftOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_directional_arrow_left_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/directional/arrow-left.svg */ "./jimu-icons/svg/outlined/directional/arrow-left.svg");
/* harmony import */ var _svg_outlined_directional_arrow_left_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_directional_arrow_left_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const ArrowLeftOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_directional_arrow_left_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/clear-selection-general.tsx":
/*!****************************************************************!*\
  !*** ./jimu-icons/outlined/editor/clear-selection-general.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ClearSelectionGeneralOutlined: () => (/* binding */ ClearSelectionGeneralOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_clear_selection_general_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/clear-selection-general.svg */ "./jimu-icons/svg/outlined/editor/clear-selection-general.svg");
/* harmony import */ var _svg_outlined_editor_clear_selection_general_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_clear_selection_general_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const ClearSelectionGeneralOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_clear_selection_general_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/close.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/close.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CloseOutlined: () => (/* binding */ CloseOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/close.svg */ "./jimu-icons/svg/outlined/editor/close.svg");
/* harmony import */ var _svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const CloseOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_close_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/list-visible.tsx":
/*!*****************************************************!*\
  !*** ./jimu-icons/outlined/editor/list-visible.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ListVisibleOutlined: () => (/* binding */ ListVisibleOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_list_visible_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/list-visible.svg */ "./jimu-icons/svg/outlined/editor/list-visible.svg");
/* harmony import */ var _svg_outlined_editor_list_visible_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_list_visible_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const ListVisibleOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_list_visible_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/menu.tsx":
/*!*********************************************!*\
  !*** ./jimu-icons/outlined/editor/menu.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MenuOutlined: () => (/* binding */ MenuOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_menu_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/menu.svg */ "./jimu-icons/svg/outlined/editor/menu.svg");
/* harmony import */ var _svg_outlined_editor_menu_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_menu_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const MenuOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_menu_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/refresh.tsx":
/*!************************************************!*\
  !*** ./jimu-icons/outlined/editor/refresh.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   RefreshOutlined: () => (/* binding */ RefreshOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_refresh_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/refresh.svg */ "./jimu-icons/svg/outlined/editor/refresh.svg");
/* harmony import */ var _svg_outlined_editor_refresh_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_refresh_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const RefreshOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_refresh_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/search.tsx":
/*!***********************************************!*\
  !*** ./jimu-icons/outlined/editor/search.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SearchOutlined: () => (/* binding */ SearchOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/search.svg */ "./jimu-icons/svg/outlined/editor/search.svg");
/* harmony import */ var _svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const SearchOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_search_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/show-selection.tsx":
/*!*******************************************************!*\
  !*** ./jimu-icons/outlined/editor/show-selection.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ShowSelectionOutlined: () => (/* binding */ ShowSelectionOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_show_selection_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/show-selection.svg */ "./jimu-icons/svg/outlined/editor/show-selection.svg");
/* harmony import */ var _svg_outlined_editor_show_selection_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_show_selection_svg__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _svg_outlined_editor_show_selection_rtl_svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../svg/outlined/editor/show-selection--rtl.svg */ "./jimu-icons/svg/outlined/editor/show-selection--rtl.svg");
/* harmony import */ var _svg_outlined_editor_show_selection_rtl_svg__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_show_selection_rtl_svg__WEBPACK_IMPORTED_MODULE_2__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



const ShowSelectionOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component has-rtl-svg', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_show_selection_svg__WEBPACK_IMPORTED_MODULE_1___default()), srcRTL: (_svg_outlined_editor_show_selection_rtl_svg__WEBPACK_IMPORTED_MODULE_2___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/editor/trash.tsx":
/*!**********************************************!*\
  !*** ./jimu-icons/outlined/editor/trash.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TrashOutlined: () => (/* binding */ TrashOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/editor/trash.svg */ "./jimu-icons/svg/outlined/editor/trash.svg");
/* harmony import */ var _svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const TrashOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_editor_trash_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./jimu-icons/outlined/suggested/info.tsx":
/*!************************************************!*\
  !*** ./jimu-icons/outlined/suggested/info.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InfoOutlined: () => (/* binding */ InfoOutlined)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _svg_outlined_suggested_info_svg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../svg/outlined/suggested/info.svg */ "./jimu-icons/svg/outlined/suggested/info.svg");
/* harmony import */ var _svg_outlined_suggested_info_svg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_svg_outlined_suggested_info_svg__WEBPACK_IMPORTED_MODULE_1__);
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


const InfoOutlined = (props) => {
    const SVG = window.SVG;
    const { className } = props, others = __rest(props, ["className"]);
    const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-icon jimu-icon-component', className);
    if (!SVG)
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement("svg", Object.assign({ className: classes }, others));
    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.createElement(SVG, Object.assign({ className: classes, src: (_svg_outlined_suggested_info_svg__WEBPACK_IMPORTED_MODULE_1___default()) }, others));
};


/***/ }),

/***/ "./your-extensions/widgets/sempra_hub-uar_table/src/config.ts":
/*!********************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/config.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayerHonorModeType: () => (/* binding */ LayerHonorModeType),
/* harmony export */   ResponsiveType: () => (/* binding */ ResponsiveType),
/* harmony export */   SelectionModeType: () => (/* binding */ SelectionModeType),
/* harmony export */   TableArrangeType: () => (/* binding */ TableArrangeType),
/* harmony export */   TableDataActionType: () => (/* binding */ TableDataActionType)
/* harmony export */ });
var TableArrangeType;
(function (TableArrangeType) {
    TableArrangeType["Dropdown"] = "DROPDOWN";
    TableArrangeType["Tabs"] = "TABS";
})(TableArrangeType || (TableArrangeType = {}));
var SelectionModeType;
(function (SelectionModeType) {
    SelectionModeType["Single"] = "SINGLE";
    SelectionModeType["Multiple"] = "MULTIPLE";
})(SelectionModeType || (SelectionModeType = {}));
var LayerHonorModeType;
(function (LayerHonorModeType) {
    LayerHonorModeType["Webmap"] = "WEBMAP";
    LayerHonorModeType["Custom"] = "CUSTOM";
})(LayerHonorModeType || (LayerHonorModeType = {}));
var ResponsiveType;
(function (ResponsiveType) {
    ResponsiveType["Fit"] = "FIT";
    ResponsiveType["Fixed"] = "FIXED";
})(ResponsiveType || (ResponsiveType = {}));
var TableDataActionType;
(function (TableDataActionType) {
    TableDataActionType["View"] = "VIEW";
    TableDataActionType["Add"] = "ADD";
})(TableDataActionType || (TableDataActionType = {}));


/***/ }),

/***/ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style.ts":
/*!***************************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getStyle: () => (/* binding */ getStyle),
/* harmony export */   getSuggestionStyle: () => (/* binding */ getSuggestionStyle)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");


function getStyle(theme, mobileFlag, searchOn, partProps) {
    var _a, _b, _c, _d, _e, _f;
    const { id, isHeightAuto, isWidthAuto, headerFontSetting, horizontalTag, widgetWidth } = partProps;
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    ${'&.table-widget-' + id} {
      .table-indent{
        width: calc(100% - 32px);
        height: calc(100% - 26px);
        margin: 10px 16px 16px;
        display: inline-block;
        ${isHeightAuto && 'min-height: 190px;'};
        ${isWidthAuto && 'min-width: 360px;'};
        .horizontal-action-dropdown{
          button{
            width: 32px;
            height: 32px;
          }
        }
        .tool-dividing-line{
          height: 16px;
          width: 1px;
          display: inline-flex;
          background-color: ${theme.ref.palette.neutral[500]};
          margin: 8px 4px;
        }
        .data-action-btn{
          position: relative;
        }
      }
      .tab-title{
        user-select: none;
        margin: auto;
      }
      .tab-flex{
        width: 100%;
        overflow-x: auto;
        .closeable{
          height: 31px;
        }
      }
      .top-drop{
        width: 30%;
        min-width: 150px;
        button{
          line-height: 1.5;
        }
      }
      .nav-underline{
        height: 32px;
        border-bottom: 1px solid ${theme.ref.palette.neutral[400]};
        .nav-item{
          height: 31px;
          max-width: calc(${widgetWidth / 2}px - ${mobileFlag ? '40px' : '120px'});
        }
      }
      .nav-item + .nav-item{
        margin-left: 0;
      }
      .csv-dropdown-con{
        button{
          border-radius: 13px;
        }
      }
      .vertical-tag-list{
        width: 20%;
        display: inline-block;
        .tagBtn{
          width: 100%;
        }
      }
      .horizontal-tag-list{
        .tagBtn{
          width: 150px;
        }
        .tab-content{
          height: 8px;
        }
      }
      .vertical-tag-list,
      .horizontal-tag-list{
        margin-bottom: 4px;
        .activeBtn{
          color: #fff;
          background-color: #076fe5;
        }
      }
      .dropdown-tag-list{
        height: 40px;
        margin-bottom: 4px;
        .dropdown-button{
          height: 32px;
        }
      }
      .vertical-render-con{
        width: 80%;
        position: absolute;
        left: 20%;
        height: 100%;
        top: 0;
      }
      .dropdown-render-con,
      .horizontal-render-con{
        width: 100%;
        height: calc(100% - 45px);
      }
      .top-button-list{
        ${!searchOn && !horizontalTag && `
          position: absolute;
          right: 17px;
        `}
        ${mobileFlag ? 'display: none' : 'display: flex'};
        .top-button{
          display: inline-flex;
          button{
            width: 32px;
            height: 32px;
          }
        }
      }
      .table-search-div{
        .table-search{
          .search-icon{
            z-index: 2;
          }
          .search-input{
            border: 1px solid ${theme.ref.palette.neutral[500]};
            border-radius: 2px;
            .input-wrapper{
              height: 30px;
              border: none;
            }
          }
        }
      }
      .table-header{
        height: ${searchOn ? '40px' : '0'};
        width: 100%;
        display: flex;
        justify-content: space-between;
        .placeholder-approve-btn{
          border-radius: 10px;
          border-color: green;
          border-bottom-width: thick;
          font-weight: bold;
          opacity: 0.8;
          font-size: 120%;
        }
        .placeholder-cancel-btn{
          border-radius: 10px;
          border-color: darkred;
          border-bottom-width: thick;
          font-weight: bold;
          opacity: 0.8;
          font-size: 120%;
        }
      }
      .table-con{
        width: 100%;
        height: ${searchOn ? 'calc(100% - 40px);' : '100%'};
        .esri-widget{
          background-color: transparent;
          vaadin-grid-cell-content:has(.esri-column__header-content) {
            ${(headerFontSetting === null || headerFontSetting === void 0 ? void 0 : headerFontSetting.backgroundColor) && `background-color: ${headerFontSetting.backgroundColor};`}
            ${(headerFontSetting === null || headerFontSetting === void 0 ? void 0 : headerFontSetting.fontSize) && `font-size: ${headerFontSetting.fontSize}px;`}
            ${(headerFontSetting === null || headerFontSetting === void 0 ? void 0 : headerFontSetting.bold) && 'font-weight: bold;'}
            ${(headerFontSetting === null || headerFontSetting === void 0 ? void 0 : headerFontSetting.color) && `color: ${headerFontSetting.color};`}
            ${overrideTableStyle(headerFontSetting)}
          }
        }
        .esri-grid .esri-column__sorter{
          overflow-x: auto;
          overflow-y: hidden;
        }
        .esri-field-column__header-content{
          width: calc(100% - 26px);
          overflow: unset;
        }
        .esri-feature-table__loader-container{
          position: absolute;
          left: 50%;
          top: 50%;
          margin-left: -16px;
          margin-top: -20px;
          z-index: 2;
        }
        .esri-feature-table__content{
          min-height: 145px;
        }
      }
      .adv-select-con{
        width: 200px;
        visibility: hidden;
        position: absolute;
        right: 17px;
        top: 56px;
      }
      .placeholder-table-con{
        height: ${searchOn ? 'calc(100% - 40px)' : '100%'};
        width: 100%;
        position: relative;
        .jimu-widget-placeholder{
          width: 100%;
        }
        .placeholder-alert-con{
          position: absolute;
          right: 10px;
          bottom: 10px;
        }
      }
      .placeholder-reset-con{
        height: calc(100% - 114px);
        width: calc(100% - 32px);
        position: absolute;
        top: 95px;
        z-index: 1001;
        .placeholder-reset-button{
          position: absolute;
          top: calc(50% + 42px);
          left: 50%;
          transform: translateX(-50%) translateY(-50%);
        }
      }
      .ds-container{
        position: absolute;
        display: none;
      }
      .dropdown-button-content{
        .table-action-option-close{
          display: none;
        }
      }
      .refresh-loading-con {
        right: 0;
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
        .auto-refresh-loading {
          background: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba((_b = (_a = theme === null || theme === void 0 ? void 0 : theme.ref.palette) === null || _a === void 0 ? void 0 : _a.neutral) === null || _b === void 0 ? void 0 : _b[200], 0.65)};
          color: ${(_c = theme.ref.palette) === null || _c === void 0 ? void 0 : _c.black};
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
          line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
          ${!mobileFlag && `padding: 0 ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(7)};`}
          .icon-btn{
            padding: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(1)};
          }
        }
      }
      .table-count{
        left: 0;
        bottom: 0;
        height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
        .total-count-text{
          background: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rgba((_e = (_d = theme === null || theme === void 0 ? void 0 : theme.ref.palette) === null || _d === void 0 ? void 0 : _d.neutral) === null || _e === void 0 ? void 0 : _e[200], 0.65)};
          color: ${(_f = theme.ref.palette) === null || _f === void 0 ? void 0 : _f.black};
          font-size: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(12)};
          line-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(16)};
          padding: 0 ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(7)};
        }
      }
      .dropdown-list-container{
        ${searchOn && `
          position: absolute;
          right: 17px;
          top: 55px;
        `}
        ${!searchOn && !horizontalTag && `
          position: absolute;
          right: 17px;
        `}
        .dropdown-list{
          ${!mobileFlag && 'display: none;'}
          width: 32px;
          height: 32px;
        }
      }
    }
  `;
}
function getSuggestionStyle(suggestionWidth) {
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    & {
      max-height: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(300)};
      min-width: ${jimu_core__WEBPACK_IMPORTED_MODULE_0__.polished.rem(200)};
      overflow: auto;
    }
    button {
      display: block;
      width: 100%;
      text-align: left;
      border: none;
      border-radius: 0;
    }
    button:hover {
      border: none;
    }
  `;
}
function darkenHexColor(hexColor, depth = 80) {
    let useHexColor = hexColor;
    if (!useHexColor.startsWith('#')) {
        useHexColor = (0,jimu_theme__WEBPACK_IMPORTED_MODULE_1__.getThemeColorValue)(hexColor);
    }
    // turn hex to RGB
    let r = parseInt(useHexColor.substring(1, 3), 16);
    let g = parseInt(useHexColor.substring(3, 5), 16);
    let b = parseInt(useHexColor.substring(5, 7), 16);
    // darken color
    r = Math.max(0, Math.min(255, r - depth));
    g = Math.max(0, Math.min(255, g - depth));
    b = Math.max(0, Math.min(255, b - depth));
    // back to hex
    return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
}
function overrideTableStyle(headerFontSetting) {
    const styles = [];
    if (headerFontSetting) {
        // override background color
        if (headerFontSetting.backgroundColor) {
            styles.push(`--calcite-color-foreground-1: ${headerFontSetting.backgroundColor};`);
            styles.push('--calcite-color-foreground-2: #0000000a;');
            styles.push('--calcite-color-foreground-3: #0000000a;');
        }
        // override title color
        if (headerFontSetting.color) {
            styles.push(`--calcite-color-text-3: ${headerFontSetting.color};`);
            const darkenColor = darkenHexColor(headerFontSetting.color);
            styles.push(`--calcite-color-text-1: ${darkenColor};`);
        }
        // override font
        if (headerFontSetting.fontSize)
            styles.push(`--calcite-font-size--2: ${headerFontSetting.fontSize};`);
        if (headerFontSetting.bold)
            styles.push('--calcite-ui-text-3: bold;');
    }
    return styles.join(' ');
}


/***/ }),

/***/ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/translations/default.ts":
/*!******************************************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/runtime/translations/default.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    _widgetLabel: 'Table',
    _widgetDescription: 'This is an interactive table widget',
    showAllRecords: 'Show all records',
    showHideCols: 'Show/hide columns',
    toggleSelect: 'Show selection/all',
    _action_viewInTable_label: 'View in table',
    tableDataActionLabel: '{layer} table selection',
    tableCount: 'Total: {total} | Selection: {selected}',
    _action_addToTable_label: 'Add to table',
    deleteRecords: 'Delete selection'
});


/***/ }),

/***/ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/utils.ts":
/*!***************************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/runtime/utils.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fetchSuggestionRecords: () => (/* binding */ fetchSuggestionRecords),
/* harmony export */   getGlobalTableTools: () => (/* binding */ getGlobalTableTools),
/* harmony export */   minusArray: () => (/* binding */ minusArray)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};

function fetchSuggestionRecords(searchText, config, datasource) {
    return __awaiter(this, void 0, void 0, function* () {
        const option = {
            searchText,
            searchFields: (config === null || config === void 0 ? void 0 : config.searchFields) || [],
            dataSource: datasource,
            exact: config === null || config === void 0 ? void 0 : config.searchExact
        };
        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.querySuggestions(option);
    });
}
function minusArray(array1, array2, key) {
    const keyField = key || 'jimuName';
    const lengthFlag = array1.length > array2.length;
    const arr1 = lengthFlag ? array1 : array2;
    const arr2 = lengthFlag ? array2 : array1;
    return arr1.filter(item => {
        const hasField = arr2.some(ele => {
            return (ele === null || ele === void 0 ? void 0 : ele[keyField]) === (item === null || item === void 0 ? void 0 : item[keyField]);
        });
        return !hasField;
    });
}
function getGlobalTableTools(theme) {
    return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.css) `
    .esri-button-menu__item .esri-button-menu__item-label{
      padding: 4px 15px !important;
    }
    .table-popup-search{
      .search-icon{
        z-index: 2;
      }
      .popup-search-input{
        border: 1px solid ${theme.ref.palette.neutral[500]};
        border-radius: 2px;
        .input-wrapper{
          height: 30px;
          border: none;
        }
      }
    }
    .table-action-option{
      width: 100%;
      display: inline-flex;
      flex-direction: row;
      .table-action-option-tab{
        margin: auto 8px;
      }
      .table-action-option-close{
        flex: 1;
        button{
          :hover {
            color: ${theme.ref.palette.white};
          }
          float: right;
        }
      }
    }
    .esri-popover--open{
      z-index: 1005 !important;
      .esri-date-picker__calendar{
        background-color: ${theme.ref.palette.white};
      }
    }
    .table-hide-hover-color{
      color: unset !important;
      border: none !important;
      &:hover{
        color: unset !important; /* use color of dropdown item */
      }
    }
  `;
}


/***/ }),

/***/ "./your-extensions/widgets/sempra_hub-uar_table/src/version-manager.ts":
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/version-manager.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   versionManager: () => (/* binding */ versionManager)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ "./your-extensions/widgets/sempra_hub-uar_table/src/config.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};


class VersionManager extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.BaseVersionManager {
    constructor() {
        super(...arguments);
        this.versions = [{
                version: '1.6.0',
                description: 'Add editable to table fields.',
                upgrader: (oldConfig, id) => {
                    let newConfig = oldConfig;
                    if (newConfig.layersConfig.length === 0) {
                        return newConfig;
                    }
                    newConfig.layersConfig.forEach((config, i) => {
                        const newTableFields = config.tableFields.map(field => {
                            return Object.assign(Object.assign({}, field), { editAuthority: true });
                        });
                        newConfig = newConfig.setIn(['layersConfig', i, 'tableFields'], newTableFields);
                    });
                    return newConfig;
                }
            }, {
                version: '1.10.0',
                description: 'Add visible to table fields.',
                upgrader: (oldConfig) => {
                    let newConfig = oldConfig;
                    if (newConfig.layersConfig.length === 0) {
                        return newConfig;
                    }
                    newConfig.layersConfig.forEach((config, i) => {
                        const newTableFields = config.tableFields.map(field => {
                            return Object.assign(Object.assign({}, field), { visible: true });
                        });
                        newConfig = newConfig.setIn(['layersConfig', i, 'tableFields'], newTableFields);
                    });
                    return newConfig;
                }
            }, {
                version: '1.12.0',
                description: 'Add header setting options.',
                upgrader: (oldConfig) => {
                    let newConfig = oldConfig;
                    if (newConfig.layersConfig.length === 0) {
                        return newConfig;
                    }
                    newConfig.layersConfig.forEach((config, i) => {
                        const defaultHeaderFontSetting = {
                            backgroundColor: '',
                            fontSize: 14,
                            bold: false,
                            color: ''
                        };
                        config = config.set('headerFontSetting', defaultHeaderFontSetting);
                        newConfig = newConfig.setIn(['layersConfig', i], config);
                    });
                    return newConfig;
                }
            }, {
                version: '1.13.0',
                description: 'Add "showCount" and "updateText" options.',
                upgrader: (oldConfig) => {
                    let newConfig = oldConfig;
                    if (newConfig.layersConfig.length === 0) {
                        return newConfig;
                    }
                    newConfig.layersConfig.forEach((config, i) => {
                        config = config.set('showCount', false).set('updateText', true);
                        newConfig = newConfig.setIn(['layersConfig', i], config);
                        // searchFields update
                        if ((config === null || config === void 0 ? void 0 : config.searchFields) && typeof (config === null || config === void 0 ? void 0 : config.searchFields) === 'string') {
                            const newSearchFields = config.searchFields.split(',') || [];
                            newConfig = newConfig.setIn(['layersConfig', i, 'searchFields'], newSearchFields);
                        }
                        else if (!(config === null || config === void 0 ? void 0 : config.searchFields)) {
                            newConfig = newConfig.setIn(['layersConfig', i, 'searchFields'], []);
                        }
                    });
                    return newConfig;
                }
            }, {
                version: '1.14.0',
                description: 'Update honor webmap options',
                upgrader: (oldConfig) => __awaiter(this, void 0, void 0, function* () {
                    let newConfig = oldConfig;
                    const newLayersConfig = newConfig.layersConfig.map(config => {
                        return Object.assign(Object.assign({}, config), { layerHonorMode: _config__WEBPACK_IMPORTED_MODULE_1__.LayerHonorModeType.Custom });
                    });
                    newConfig = newConfig.setIn(['layersConfig'], newLayersConfig);
                    return newConfig;
                })
            }, {
                version: '1.15.0',
                description: 'Update column setting',
                upgrader: (oldConfig) => __awaiter(this, void 0, void 0, function* () {
                    let newConfig = oldConfig;
                    const newLayersConfig = newConfig.layersConfig.map(config => {
                        return Object.assign(Object.assign({}, config), { columnSetting: {
                                responsiveType: _config__WEBPACK_IMPORTED_MODULE_1__.ResponsiveType.Fixed,
                                columnWidth: 200
                            } });
                    });
                    newConfig = newConfig.setIn(['layersConfig'], newLayersConfig);
                    return newConfig;
                })
            }];
    }
}
const versionManager = new VersionManager();


/***/ }),

/***/ "esri/core/reactiveUtils":
/*!******************************************!*\
  !*** external "esri/core/reactiveUtils" ***!
  \******************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_esri_core_reactiveUtils__;

/***/ }),

/***/ "@arcgis/core/layers/FeatureLayer":
/*!*******************************************!*\
  !*** external "esri/layers/FeatureLayer" ***!
  \*******************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE__arcgis_core_layers_FeatureLayer__;

/***/ }),

/***/ "jimu-arcgis":
/*!******************************!*\
  !*** external "jimu-arcgis" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_arcgis__;

/***/ }),

/***/ "jimu-core":
/*!****************************!*\
  !*** external "jimu-core" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core__;

/***/ }),

/***/ "jimu-core/data-source":
/*!****************************************!*\
  !*** external "jimu-core/data-source" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_core_data_source__;

/***/ }),

/***/ "react":
/*!**********************************!*\
  !*** external "jimu-core/react" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "jimu-layouts/layout-runtime":
/*!**********************************************!*\
  !*** external "jimu-layouts/layout-runtime" ***!
  \**********************************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_layouts_layout_runtime__;

/***/ }),

/***/ "jimu-theme":
/*!*****************************!*\
  !*** external "jimu-theme" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_theme__;

/***/ }),

/***/ "jimu-ui":
/*!**************************!*\
  !*** external "jimu-ui" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = __WEBPACK_EXTERNAL_MODULE_jimu_ui__;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other entry modules.
(() => {
/*!******************************************!*\
  !*** ./jimu-core/lib/set-public-path.ts ***!
  \******************************************/
/**
 * Webpack will replace __webpack_public_path__ with __webpack_require__.p to set the public path dynamically.
 * The reason why we can't set the publicPath in webpack config is: we change the publicPath when download.
 * */
// eslint-disable-next-line
// @ts-ignore
__webpack_require__.p = window.jimuConfig.baseUrl;

})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*****************************************************************************!*\
  !*** ./your-extensions/widgets/sempra_hub-uar_table/src/runtime/widget.tsx ***!
  \*****************************************************************************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   __set_webpack_public_path__: () => (/* binding */ __set_webpack_public_path__),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var jimu_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jimu-core */ "jimu-core");
/* harmony import */ var jimu_theme__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jimu-theme */ "jimu-theme");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ "./your-extensions/widgets/sempra_hub-uar_table/src/config.ts");
/* harmony import */ var jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jimu-arcgis */ "jimu-arcgis");
/* harmony import */ var _translations_default__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./translations/default */ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/translations/default.ts");
/* harmony import */ var jimu_ui__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jimu-ui */ "jimu-ui");
/* harmony import */ var _version_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../version-manager */ "./your-extensions/widgets/sempra_hub-uar_table/src/version-manager.ts");
/* harmony import */ var jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jimu-layouts/layout-runtime */ "jimu-layouts/layout-runtime");
/* harmony import */ var _style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./style */ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./utils */ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/utils.ts");
/* harmony import */ var jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jimu-icons/outlined/editor/search */ "./jimu-icons/outlined/editor/search.tsx");
/* harmony import */ var jimu_icons_outlined_directional_arrow_left__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! jimu-icons/outlined/directional/arrow-left */ "./jimu-icons/outlined/directional/arrow-left.tsx");
/* harmony import */ var jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! jimu-icons/outlined/editor/close */ "./jimu-icons/outlined/editor/close.tsx");
/* harmony import */ var jimu_icons_outlined_editor_menu__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! jimu-icons/outlined/editor/menu */ "./jimu-icons/outlined/editor/menu.tsx");
/* harmony import */ var jimu_icons_outlined_editor_clear_selection_general__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! jimu-icons/outlined/editor/clear-selection-general */ "./jimu-icons/outlined/editor/clear-selection-general.tsx");
/* harmony import */ var jimu_icons_outlined_editor_refresh__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! jimu-icons/outlined/editor/refresh */ "./jimu-icons/outlined/editor/refresh.tsx");
/* harmony import */ var jimu_icons_outlined_editor_list_visible__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! jimu-icons/outlined/editor/list-visible */ "./jimu-icons/outlined/editor/list-visible.tsx");
/* harmony import */ var jimu_icons_outlined_editor_show_selection__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! jimu-icons/outlined/editor/show-selection */ "./jimu-icons/outlined/editor/show-selection.tsx");
/* harmony import */ var jimu_icons_outlined_application_more_horizontal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! jimu-icons/outlined/application/more-horizontal */ "./jimu-icons/outlined/application/more-horizontal.tsx");
/* harmony import */ var jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! jimu-icons/outlined/editor/trash */ "./jimu-icons/outlined/editor/trash.tsx");
/* harmony import */ var jimu_core_data_source__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! jimu-core/data-source */ "jimu-core/data-source");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var esri_core_reactiveUtils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! esri/core/reactiveUtils */ "esri/core/reactiveUtils");
/* harmony import */ var jimu_icons_outlined_suggested_info__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! jimu-icons/outlined/suggested/info */ "./jimu-icons/outlined/suggested/info.tsx");
/* harmony import */ var _arcgis_core_layers_FeatureLayer__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @arcgis/core/layers/FeatureLayer */ "@arcgis/core/layers/FeatureLayer");
/* harmony import */ var _style_widget_css__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./style_widget.css */ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/style_widget.css");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
/** @jsx jsx */


























// import warningIcon from 'jimu-icons/svg/outlined/suggested/warning.svg'
const { BREAK_POINTS, SELECTION_DATA_VIEW_ID, DATA_VIEW_ID_FOR_NO_SELECTION } = jimu_core__WEBPACK_IMPORTED_MODULE_0__.CONSTANTS;
const EMPTY_QUERY_PARAMS = { where: '1=1', sqlExpression: null };
const tablePlaceholderIcon = __webpack_require__(/*! ./assets/icons/placeholder-table.svg */ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/assets/icons/placeholder-table.svg");
const runtimeDataSourceKey = 'runtime-usedDs-info';
const SEARCH_TOOL_MIN_SIZE = 300;
const TABLE_BOTTOM_BREAK_POINTS = 430;
const notLoad = [jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.NotReady, jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.LoadError];
const Sanitizer = jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.Sanitizer;
const sanitizer = new Sanitizer();
const messages = Object.assign({}, _translations_default__WEBPACK_IMPORTED_MODULE_4__["default"], jimu_ui__WEBPACK_IMPORTED_MODULE_5__.defaultMessages);
class Widget extends jimu_core__WEBPACK_IMPORTED_MODULE_0__.React.PureComponent {
    constructor(props) {
        var _a, _b;
        super(props);
        this.promises = [];
        this.FeatureTable = null;
        this.FeatureLayer = null;
        this.ImageryLayer = null;
        this.OrientedImageryLayer = null;
        this.TableTemplate = null;
        this.geometryEngine = null;
        this.Polygon = null;
        this.getTimezone = (dataSource) => {
            return jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getTimezoneAPIFromRuntime(dataSource.getTimezone());
        };
        // deal with runtime update caused by setting change
        this.onSettingChangeRuntime = () => {
            var _a, _b, _c, _d;
            const { id } = this.props;
            const optionChangeSuggestion = ((_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.stateProps) === null || _b === void 0 ? void 0 : _b.optionChangeSuggestion) || false;
            const removeLayerFlag = ((_d = (_c = this.props) === null || _c === void 0 ? void 0 : _c.stateProps) === null || _d === void 0 ? void 0 : _d.removeLayerFlag) || false;
            if (optionChangeSuggestion) {
                this.setState({ isShowSuggestion: false });
                this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'optionChangeSuggestion', false));
            }
            if (removeLayerFlag) {
                const popover = document.getElementsByClassName('esri-popover esri-popover--open');
                if (popover && popover.length > 0)
                    popover[0].remove();
                this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'removeLayerFlag', false));
            }
        };
        // view-in-table filter change
        this.onFilterChange = (newActiveTabId) => {
            var _a, _b;
            const { dataSource, activeTabId } = this.state;
            const { viewInTableObj } = this.props;
            if (viewInTableObj && activeTabId === newActiveTabId) {
                const viewInTableIds = Object.keys(viewInTableObj);
                const currentTabViewTableIndex = viewInTableIds.findIndex(a => a === newActiveTabId);
                if (currentTabViewTableIndex > -1) {
                    const activeViewDs = viewInTableObj[newActiveTabId].daLayerItem.dataActionDataSource;
                    const activeUseDs = viewInTableObj[newActiveTabId].daLayerItem.useDataSource;
                    let dsParam;
                    if (activeViewDs) {
                        dsParam = activeViewDs.getCurrentQueryParams();
                    }
                    else if (activeUseDs && dataSource) {
                        dsParam = dataSource.getCurrentQueryParams();
                    }
                    const orgExpression = (_b = (_a = this.table) === null || _a === void 0 ? void 0 : _a.layer) === null || _b === void 0 ? void 0 : _b.definitionExpression;
                    if (orgExpression !== undefined && orgExpression !== (dsParam === null || dsParam === void 0 ? void 0 : dsParam.where)) {
                        this.table.layer.definitionExpression = dsParam === null || dsParam === void 0 ? void 0 : dsParam.where;
                    }
                }
            }
        };
        // setting options change
        this.settingOptionsChange = (prevCurConfig, newCurConfig) => {
            var _a, _b, _c;
            let optionChangeFlag = false;
            if ((prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig.id) !== (newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.id))
                return optionChangeFlag;
            const optionKeys = [
                'enableAttachements',
                'enableEdit',
                'allowCsv',
                'enableSelect',
                'selectMode',
                'layerHonorMode',
                'tableFields',
                'columnSetting'
            ];
            const referenceTypeKeys = ['tableFields', 'columnSetting'];
            for (const item of optionKeys) {
                const changeFlag = referenceTypeKeys.includes(item) ? !jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual(prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig[item], newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig[item]) : ((prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig[item]) !== (newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig[item]));
                if (changeFlag) {
                    optionChangeFlag = true;
                    break;
                }
            }
            // when in 'Fit to data' mode, change font size need rerender
            if (((_a = prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig.headerFontSetting) === null || _a === void 0 ? void 0 : _a.fontSize) !== ((_b = newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.headerFontSetting) === null || _b === void 0 ? void 0 : _b.fontSize) && ((_c = newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.columnSetting) === null || _c === void 0 ? void 0 : _c.responsiveType) === _config__WEBPACK_IMPORTED_MODULE_2__.ResponsiveType.Fit) {
                optionChangeFlag = true;
            }
            return optionChangeFlag;
        };
        this.getFieldsFromDatasource = () => {
            var _a;
            const { config } = this.props;
            const { layersConfig } = config;
            const { activeTabId } = this.state;
            const daLayersConfig = this.getDataActionTable();
            const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
            const curLayer = allLayersConfig
                .find(item => item.id === activeTabId);
            // 'allFields' need recalculate(chart output ds), if dataActionDataSource exists, use it
            const selectedDs = (curLayer === null || curLayer === void 0 ? void 0 : curLayer.dataActionDataSource) || this.dsManager.getDataSource((_a = curLayer === null || curLayer === void 0 ? void 0 : curLayer.useDataSource) === null || _a === void 0 ? void 0 : _a.dataSourceId);
            const allFieldsSchema = selectedDs === null || selectedDs === void 0 ? void 0 : selectedDs.getSchema();
            const allFields = (allFieldsSchema === null || allFieldsSchema === void 0 ? void 0 : allFieldsSchema.fields) ? Object.values(allFieldsSchema === null || allFieldsSchema === void 0 ? void 0 : allFieldsSchema.fields) : [];
            const defaultInvisible = [
                'CreationDate',
                'Creator',
                'EditDate',
                'Editor',
                'GlobalID'
            ];
            let tableFields = allFields.filter(item => !defaultInvisible.includes(item.jimuName));
            // If there are too many columns, only the first 50 columns will be displayed by default
            if ((tableFields === null || tableFields === void 0 ? void 0 : tableFields.length) > 50) {
                tableFields = tableFields.slice(0, 50);
            }
            return { allFields, tableFields };
        };
        this.onToolStyleChange = (width, height) => {
            width < BREAK_POINTS[0]
                ? this.setState({ mobileFlag: true })
                : this.setState({ mobileFlag: false });
            width < SEARCH_TOOL_MIN_SIZE
                ? this.setState({ searchToolFlag: true })
                : this.setState({ searchToolFlag: false });
            width < TABLE_BOTTOM_BREAK_POINTS
                ? this.setState({ bottomResponsiveFlag: true })
                : this.setState({ bottomResponsiveFlag: false });
            this.setState({ widgetWidth: width });
        };
        this.onDataSourceCreated = (dataSource) => {
            this.setState({ dataSource });
            const isSelectionView = (dataSource === null || dataSource === void 0 ? void 0 : dataSource.dataViewId) === SELECTION_DATA_VIEW_ID;
            // The first time you switch a TAB and the target TAB is using dataView, the ds changes after the update
            const isDataView = (dataSource === null || dataSource === void 0 ? void 0 : dataSource.dataViewId) && (dataSource === null || dataSource === void 0 ? void 0 : dataSource.dataViewId) !== 'output' && !isSelectionView;
            const hasNoSelectionView = !!dataSource.getMainDataSource().getDataView(DATA_VIEW_ID_FOR_NO_SELECTION);
            const dsChangeCreateTable = !this.updatingTable && ((isSelectionView && hasNoSelectionView) || isDataView);
            if (dsChangeCreateTable) {
                this.updatingTable = true;
                this.dataSourceUrl = dataSource.url;
                this.destroyTable().then(() => {
                    if (this.table) {
                        if (this.table.highlightIds) {
                            this.table.highlightIds.removeAll();
                        }
                        this.resetTable();
                    }
                    this.createTable(dataSource);
                });
            }
        };
        this.onCreateDataSourceFailed = (err) => {
            if (this.permisionIssue === undefined) {
                this.permisionIssue = "You may not have permission to access the data source. Please contact the support team.";
                this.setState({ isPermissionModalOpen: true });
            }
        };
        // onSelectionChange = (selectedRecords: any): void => { 
        //   if (selectedRecords && selectedRecords[0] != undefined) {
        //     console.log("Record selected OID: " + Number(selectedRecords[0]))            
        //   }
        //   else {
        //     console.log("No record selected. ")
        //   } 
        // }
        this.updateGeometryAndSql = (dataSource) => {
            var _a;
            if (!((_a = this.table) === null || _a === void 0 ? void 0 : _a.layer))
                return;
            const { tableLoaded } = this.state;
            const dsParam = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getCurrentQueryParams();
            const orgExpression = this.table.layer.definitionExpression;
            const isDefaultExpression = orgExpression === '' && (dsParam === null || dsParam === void 0 ? void 0 : dsParam.where) === '1=1';
            if (!isDefaultExpression && orgExpression !== (dsParam === null || dsParam === void 0 ? void 0 : dsParam.where)) {
                if (!tableLoaded) {
                    this.lastSql = dsParam === null || dsParam === void 0 ? void 0 : dsParam.where;
                }
                else {
                    this.table.layer.definitionExpression = dsParam === null || dsParam === void 0 ? void 0 : dsParam.where;
                    this.lastSql = '';
                }
            }
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.changeJimuArcGISQueryToJSAPIQuery(dataSource, (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(dsParam)).then(res => {
                var _a, _b;
                if (!res)
                    return;
                const { geometry, distance, units } = res;
                if (!geometry)
                    return;
                const sr = geometry === null || geometry === void 0 ? void 0 : geometry.spatialReference;
                const geometryType = geometry === null || geometry === void 0 ? void 0 : geometry.type;
                const { isWGS84, isWebMercator } = sr;
                // eslint-disable-next-line @typescript-eslint/unbound-method
                const useBufferMethod = (isWGS84 || isWebMercator) ? this.geometryEngine.geodesicBuffer : this.geometryEngine.buffer;
                const orgGeometryJson = (_b = (_a = this.table) === null || _a === void 0 ? void 0 : _a.filterGeometry) === null || _b === void 0 ? void 0 : _b.toJSON();
                if (geometryType !== 'polygon' && distance && distance <= 0) {
                    const emptyBuff = new this.Polygon({ rings: [] });
                    if (!jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual(orgGeometryJson, emptyBuff === null || emptyBuff === void 0 ? void 0 : emptyBuff.toJSON())) {
                        this.table.filterGeometry = emptyBuff;
                    }
                }
                else if (distance && units) {
                    const geometryBuff = useBufferMethod(geometry, distance, units);
                    if (!jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual(orgGeometryJson, geometryBuff === null || geometryBuff === void 0 ? void 0 : geometryBuff.toJSON())) {
                        this.table.filterGeometry = geometryBuff;
                    }
                }
                else { // only extent change
                    this.table.filterGeometry = geometry;
                }
            });
            setTimeout(() => {
                this.asyncSelectedRebuild(dataSource);
            }, 500);
        };
        this.onDataSourceInfoChange = (info, preInfo) => {
            var _a, _b, _c, _d;
            if (!info) {
                this.destroyTable().then(() => {
                    // ds is inaccessible or delete, don't show 'notReady' warning
                    this.setState({ notReady: false, emptyTable: true, tableTotal: 0, tableSelected: 0 });
                });
                return;
            }
            this.dataSourceChange = true;
            if ((info === null || info === void 0 ? void 0 : info.status) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Loaded && (preInfo === null || preInfo === void 0 ? void 0 : preInfo.status) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Loaded) {
                this.dataSourceChange = false;
            }
            let { dataSource } = this.state;
            const { selectQueryFlag, activeTabId, selfDsChange } = this.state;
            const { config, state } = this.props;
            const { layersConfig } = config;
            const daLayersConfig = this.getDataActionTable();
            const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
            const curLayer = allLayersConfig.find(item => item.id === activeTabId);
            const useDS = curLayer === null || curLayer === void 0 ? void 0 : curLayer.useDataSource;
            const isViewSnapshot = curLayer.dataActionType === _config__WEBPACK_IMPORTED_MODULE_2__.TableDataActionType.View;
            // If other widgets load data, status will be loaded at the first time
            // This time state.dataSource is undefined
            if ((!dataSource && useDS) || (!isViewSnapshot && (dataSource === null || dataSource === void 0 ? void 0 : dataSource.id) !== (useDS === null || useDS === void 0 ? void 0 : useDS.dataSourceId))) {
                dataSource = this.dsManager.getDataSource(useDS === null || useDS === void 0 ? void 0 : useDS.dataSourceId);
                if (!dataSource) {
                    this.setState({ emptyTable: true, tableTotal: 0, tableSelected: 0 });
                    return;
                }
            }
            else if (!dataSource && !useDS) {
                return;
            }
            // selection view: status is loaded, but if there is no selection, it should be an empty table
            const isEmptySelectionView = (dataSource === null || dataSource === void 0 ? void 0 : dataSource.dataViewId) === SELECTION_DATA_VIEW_ID && ((_a = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getSourceRecords()) === null || _a === void 0 ? void 0 : _a.length) === 0;
            if (!curLayer.dataActionObject) {
                if (!(info === null || info === void 0 ? void 0 : info.status) || (info === null || info === void 0 ? void 0 : info.status) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.NotReady || isEmptySelectionView) {
                    this.destroyTable().then(() => {
                        this.setState({ notReady: true, emptyTable: true, tableTotal: 0, tableSelected: 0 });
                    });
                    return;
                }
                else {
                    this.setState({ notReady: false, emptyTable: false });
                }
            }
            // loading status
            const showLoading = this.getLoadingStatus(dataSource, info === null || info === void 0 ? void 0 : info.status);
            const interval = (dataSource === null || dataSource === void 0 ? void 0 : dataSource.getAutoRefreshInterval()) || 0;
            // toggle auto refresh loading status
            this.toggleAutoRefreshLoading(dataSource, showLoading, interval);
            this.setState({ showLoading, interval });
            // shielding info change
            const preSelectedIds = preInfo === null || preInfo === void 0 ? void 0 : preInfo.selectedIds;
            const newSelectedIds = info === null || info === void 0 ? void 0 : info.selectedIds;
            const preSourceVersion = preInfo === null || preInfo === void 0 ? void 0 : preInfo.sourceVersion;
            const newSourceVersion = info === null || info === void 0 ? void 0 : info.sourceVersion;
            const newVersion = info === null || info === void 0 ? void 0 : info.gdbVersion;
            const preVersion = preInfo === null || preInfo === void 0 ? void 0 : preInfo.gdbVersion;
            const newClientVersion = info === null || info === void 0 ? void 0 : info.version;
            const preClientVersion = preInfo === null || preInfo === void 0 ? void 0 : preInfo.version;
            const infoStatusNotChange = ((_b = curLayer === null || curLayer === void 0 ? void 0 : curLayer.useDataSource) === null || _b === void 0 ? void 0 : _b.dataSourceId) === (dataSource === null || dataSource === void 0 ? void 0 : dataSource.id) &&
                (preInfo === null || preInfo === void 0 ? void 0 : preInfo.status) === (info === null || info === void 0 ? void 0 : info.status) &&
                (preInfo === null || preInfo === void 0 ? void 0 : preInfo.instanceStatus) === (info === null || info === void 0 ? void 0 : info.instanceStatus) &&
                (info === null || info === void 0 ? void 0 : info.widgetQueries) === (preInfo === null || preInfo === void 0 ? void 0 : preInfo.widgetQueries) &&
                preSelectedIds === newSelectedIds &&
                // If the version change is caused by the table's own modifications, do not renrender
                (preSourceVersion === newSourceVersion || (state === jimu_core__WEBPACK_IMPORTED_MODULE_0__.WidgetState.Active && preSourceVersion !== newSourceVersion)) &&
                newVersion === preVersion;
            if (notLoad.includes(info === null || info === void 0 ? void 0 : info.status) ||
                this.updatingTable ||
                infoStatusNotChange) {
                return;
            }
            // update ds selection (data-action)
            this.setState({ selectRecords: dataSource === null || dataSource === void 0 ? void 0 : dataSource.getSelectedRecords() });
            // ds ready create table and selected features change
            const sourceVersionChange = newSourceVersion !== preSourceVersion;
            const clientVersionChange = newClientVersion !== preClientVersion;
            const tabChange = ((_c = curLayer === null || curLayer === void 0 ? void 0 : curLayer.useDataSource) === null || _c === void 0 ? void 0 : _c.dataSourceId) !== (dataSource === null || dataSource === void 0 ? void 0 : dataSource.id);
            const outputReapply = (!(preInfo === null || preInfo === void 0 ? void 0 : preInfo.status) || notLoad.includes(preInfo === null || preInfo === void 0 ? void 0 : preInfo.status)) && info && !notLoad.includes(info === null || info === void 0 ? void 0 : info.status) && (info === null || info === void 0 ? void 0 : info.instanceStatus) !== jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.NotCreated;
            const selectedChange = preSelectedIds !== newSelectedIds && ((preSelectedIds === null || preSelectedIds === void 0 ? void 0 : preSelectedIds.length) !== 0 || (newSelectedIds === null || newSelectedIds === void 0 ? void 0 : newSelectedIds.length) !== 0);
            const infoNotChange = (info === null || info === void 0 ? void 0 : info.status) === (preInfo === null || preInfo === void 0 ? void 0 : preInfo.status) && (info === null || info === void 0 ? void 0 : info.instanceStatus) === (preInfo === null || preInfo === void 0 ? void 0 : preInfo.instanceStatus);
            const isOutputDs = (_d = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getDataSourceJson()) === null || _d === void 0 ? void 0 : _d.isOutputFromWidget;
            const dsCreated = !curLayer.dataActionObject && (info === null || info === void 0 ? void 0 : info.status) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Unloaded && (info === null || info === void 0 ? void 0 : info.instanceStatus) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Created &&
                !selectedChange && !infoNotChange && !isOutputDs;
            if (outputReapply || tabChange || dsCreated || sourceVersionChange || clientVersionChange) {
                const dataActionFlag = (curLayer === null || curLayer === void 0 ? void 0 : curLayer.dataActionType) === _config__WEBPACK_IMPORTED_MODULE_2__.TableDataActionType.View ||
                    ((curLayer === null || curLayer === void 0 ? void 0 : curLayer.dataActionType) === _config__WEBPACK_IMPORTED_MODULE_2__.TableDataActionType.Add && (dataSource === null || dataSource === void 0 ? void 0 : dataSource.dataViewId) !== SELECTION_DATA_VIEW_ID);
                if (dataActionFlag)
                    return;
                if (!this.dataActionCanLoad)
                    return;
                this.updatingTable = true;
                this.destroyTable().then(() => {
                    this.createTable(dataSource);
                });
                return;
            }
            // async click selected
            // Action table does not need to be selected synchronously
            if (preSelectedIds !== newSelectedIds) {
                if (selectQueryFlag) {
                    this.asyncSelectedWhenSelection(newSelectedIds || (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)([]));
                    setTimeout(() => {
                        this.asyncSelectedRebuild(dataSource);
                    }, 500);
                }
                else {
                    if (selfDsChange) {
                        this.setState({ selfDsChange: false });
                    }
                    else {
                        setTimeout(() => {
                            this.asyncSelectedRebuild(dataSource);
                        }, 500);
                    }
                }
            }
        };
        this.compareAndUpdateTable = (curDsQueryInfo, preDsQueryInfo, isBelongto) => {
            const { dataSource, activeTabId } = this.state;
            const { config } = this.props;
            const { layersConfig } = config;
            const daLayersConfig = this.getDataActionTable();
            const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
            const curLayer = allLayersConfig.find(item => item.id === activeTabId);
            const { widgetQueries: preWidgetQueries, gdbVersion: preGdbVersion, sourceVersion: presSourceVersion } = preDsQueryInfo;
            const { widgetQueries, gdbVersion, needRefresh, sourceVersion } = curDsQueryInfo;
            const gdbVersionChange = preGdbVersion && gdbVersion && gdbVersion !== preGdbVersion && this.table;
            const widgetQueryChange = !curLayer.dataActionObject && widgetQueries !== preWidgetQueries;
            const belongtoSourceVersionChange = isBelongto && presSourceVersion !== sourceVersion;
            // gdbVersion/sourceVersion change & auto refresh
            if (gdbVersionChange) {
                const tableLayer = this.table.layer;
                tableLayer.gdbVersion = gdbVersion;
                this.onTableRefresh();
                return;
            }
            else if (needRefresh) {
                this.onTableRefresh();
                return;
            }
            // belongto ds sourceVersion change(can't get sql change with getCurrentQueryParams)
            if (belongtoSourceVersionChange) {
                this.updatingTable = true;
                this.destroyTable().then(() => {
                    this.createTable();
                });
                return;
            }
            // widgetQuery change
            if (widgetQueryChange) {
                this.updateGeometryAndSql(dataSource);
            }
        };
        this.onQueryRequired = (queryRequiredInfo, preQueryRequiredInfo) => {
            var _a, _b, _c, _d, _e, _f, _g;
            const { dataSource } = this.state;
            const isDataActionTable = (_c = (_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.stateProps) === null || _b === void 0 ? void 0 : _b.dataActionActiveObj) === null || _c === void 0 ? void 0 : _c.dataActionTable;
            if (isDataActionTable || !preQueryRequiredInfo)
                return;
            const dataSourceId = dataSource === null || dataSource === void 0 ? void 0 : dataSource.id;
            // time extent change
            const dsParam = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getCurrentQueryParams();
            const time = dsParam === null || dsParam === void 0 ? void 0 : dsParam.time;
            const tableLayer = (_d = this.table) === null || _d === void 0 ? void 0 : _d.layer;
            if (time) {
                const apiTime = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.changeJimuTimeToJSAPITimeExtent(time);
                const orgTimeExtent = tableLayer === null || tableLayer === void 0 ? void 0 : tableLayer.timeExtent;
                const timeNotChange = (time === null || time === void 0 ? void 0 : time[0]) === ((_e = orgTimeExtent === null || orgTimeExtent === void 0 ? void 0 : orgTimeExtent.start) === null || _e === void 0 ? void 0 : _e.getTime()) && (time === null || time === void 0 ? void 0 : time[1]) === ((_f = orgTimeExtent === null || orgTimeExtent === void 0 ? void 0 : orgTimeExtent.end) === null || _f === void 0 ? void 0 : _f.getTime());
                if (!timeNotChange && tableLayer)
                    tableLayer.timeExtent = apiTime;
            }
            else {
                if (tableLayer)
                    tableLayer.timeExtent = null;
            }
            // ds/belongtoDs info
            const curDsRequiredInfo = queryRequiredInfo === null || queryRequiredInfo === void 0 ? void 0 : queryRequiredInfo[dataSourceId];
            const preDsRequiredInfo = preQueryRequiredInfo === null || preQueryRequiredInfo === void 0 ? void 0 : preQueryRequiredInfo[dataSourceId];
            const belongtoDsId = (_g = dataSource === null || dataSource === void 0 ? void 0 : dataSource.belongToDataSource) === null || _g === void 0 ? void 0 : _g.id;
            const curBelongtoDsInfo = queryRequiredInfo === null || queryRequiredInfo === void 0 ? void 0 : queryRequiredInfo[belongtoDsId];
            const preBelongtoDsInfo = preQueryRequiredInfo === null || preQueryRequiredInfo === void 0 ? void 0 : preQueryRequiredInfo[belongtoDsId];
            if (!curDsRequiredInfo && !curBelongtoDsInfo)
                return;
            // belongToDataSource info change
            if (curBelongtoDsInfo) {
                this.compareAndUpdateTable(curBelongtoDsInfo, preBelongtoDsInfo, true);
                return;
            }
            // dataSource info change
            this.compareAndUpdateTable(curDsRequiredInfo, preDsRequiredInfo);
        };
        this.getLayerObjectIdField = () => {
            var _a, _b, _c;
            const { dataSource } = this.state;
            const objectIdField = ((_b = (_a = this.table) === null || _a === void 0 ? void 0 : _a.layer) === null || _b === void 0 ? void 0 : _b.objectIdField) ||
                ((_c = dataSource === null || dataSource === void 0 ? void 0 : dataSource.layer) === null || _c === void 0 ? void 0 : _c.objectIdField) ||
                'OBJECTID';
            return objectIdField;
        };
        this.asyncSelectedWhenSelection = (newSelectedIds) => {
            const { dataSource } = this.state;
            const objectIdField = this.getLayerObjectIdField();
            const curQuery = dataSource && dataSource.getCurrentQueryParams();
            let legal = true;
            newSelectedIds.forEach(id => {
                if (!id)
                    legal = false;
            });
            const selectedQuery = (newSelectedIds.length > 0 && legal)
                ? `${objectIdField} IN (${newSelectedIds
                    .map(id => {
                    return id;
                })
                    .join()})`
                : curQuery.where;
            if (this.table && this.table.layer) {
                this.table.clearSelectionFilter();
                const tableInstance = this.table;
                tableInstance.layer.definitionExpression = selectedQuery;
            }
        };
        this.getImageryLayer = (dataSource, dataRecords) => {
            var _a, _b, _c, _d;
            const ds = dataSource;
            const isImagery = dataSource.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.ImageryLayer;
            const isOrientedImagery = dataSource.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.OrientedImageryLayer;
            const notToLoad = (_a = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getDataSourceJson()) === null || _a === void 0 ? void 0 : _a.isDataInDataSourceInstance;
            let imageLayer;
            if ((dataRecords === null || dataRecords === void 0 ? void 0 : dataRecords.length) > 0) {
                return jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.createJSAPIFeatureLayerByRecords(ds, dataRecords);
            }
            else {
                const curQuery = ds.getCurrentQueryParams();
                if (notToLoad) {
                    const q = {
                        returnGeometry: true,
                        outFields: ['*'],
                        notAddFieldsToClient: true
                    };
                    // Current data source is selection view and selection view is empty indicate that widget is actually using no_selection now.
                    const usingNoSelectionView = ds.dataViewId === SELECTION_DATA_VIEW_ID && (!ds.sourceRecords || ds.sourceRecords.length === 0);
                    // If widget is using no_selection view, should use pageSize of the no_selection view to load records.
                    if (usingNoSelectionView) {
                        const noSelectionView = ds.getMainDataSource().getDataView(DATA_VIEW_ID_FOR_NO_SELECTION);
                        if (noSelectionView) {
                            q.pageSize = (_d = (_c = (_b = ds.getMainDataSource().getDataSourceJson()) === null || _b === void 0 ? void 0 : _b.dataViews) === null || _c === void 0 ? void 0 : _c[DATA_VIEW_ID_FOR_NO_SELECTION]) === null || _d === void 0 ? void 0 : _d.pageSize;
                        }
                    }
                    // chart output and selected features need load
                    return ds.query(q).then((_e) => __awaiter(this, [_e], void 0, function* ({ records }) {
                        const dataRecords = yield Promise.resolve(records);
                        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.createJSAPIFeatureLayerByRecords(ds, dataRecords);
                    }));
                }
                if (ds.itemId) {
                    const layerId = ds.layerId ? parseInt(ds.layerId) : '';
                    const layerConfig = {
                        portalItem: {
                            id: ds.itemId,
                            portal: {
                                url: ds.portalUrl
                            }
                        },
                        definitionExpression: curQuery.where,
                        layerId: layerId || undefined
                    };
                    if (ds.url)
                        layerConfig.url = ds.url;
                    imageLayer = isImagery ? new this.ImageryLayer(layerConfig) : new this.OrientedImageryLayer(layerConfig);
                }
                else if (ds.url) {
                    imageLayer = isImagery
                        ? new this.ImageryLayer({
                            definitionExpression: curQuery.where,
                            url: ds.url
                        })
                        : new this.OrientedImageryLayer({
                            definitionExpression: curQuery.where,
                            url: ds.url
                        });
                }
                else if (ds.layer) {
                    return ds === null || ds === void 0 ? void 0 : ds.createJSAPILayerByDataSource().then(layer => {
                        return layer;
                    });
                }
            }
            if (isImagery) {
                if (!this.ImageryLayer)
                    return Promise.resolve(imageLayer);
            }
            else if (isOrientedImagery) {
                if (!this.OrientedImageryLayer)
                    return Promise.resolve(imageLayer);
            }
            return Promise.resolve(imageLayer);
        };
        this.getFeatureLayer = (dataSource, dataRecords) => {
            var _a, _b, _c, _d;
            if (dataSource.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.ImageryLayer || dataSource.type === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.OrientedImageryLayer) {
                return this.getImageryLayer(dataSource, dataRecords);
            }
            const ds = dataSource;
            const notToLoad = (_a = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getDataSourceJson()) === null || _a === void 0 ? void 0 : _a.isDataInDataSourceInstance;
            let featureLayer;
            if ((dataRecords === null || dataRecords === void 0 ? void 0 : dataRecords.length) > 0) {
                return jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.createJSAPIFeatureLayerByRecords(ds, dataRecords);
            }
            else {
                const curQuery = dataSource && dataSource.getCurrentQueryParams();
                if (notToLoad) {
                    const q = {
                        returnGeometry: true,
                        outFields: ['*'],
                        notAddFieldsToClient: true
                    };
                    // Current data source is selection view and selection view is empty indicate that widget is actually using no_selection now.
                    const usingNoSelectionView = ds.dataViewId === SELECTION_DATA_VIEW_ID && (!ds.sourceRecords || ds.sourceRecords.length === 0);
                    // If widget is using no_selection view, should use pageSize of the no_selection view to load records.
                    if (usingNoSelectionView) {
                        const noSelectionView = ds.getMainDataSource().getDataView(DATA_VIEW_ID_FOR_NO_SELECTION);
                        if (noSelectionView) {
                            q.pageSize = (_d = (_c = (_b = ds.getMainDataSource().getDataSourceJson()) === null || _b === void 0 ? void 0 : _b.dataViews) === null || _c === void 0 ? void 0 : _c[DATA_VIEW_ID_FOR_NO_SELECTION]) === null || _d === void 0 ? void 0 : _d.pageSize;
                        }
                    }
                    // chart output and selected features need load
                    return ds.query(q).then((_e) => __awaiter(this, [_e], void 0, function* ({ records }) {
                        const dataRecords = yield Promise.resolve(records);
                        return jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.createJSAPIFeatureLayerByRecords(ds, dataRecords);
                    }));
                }
                // Adjust the order, because ds.layer is a reference type that changes the original data
                // csv upload type ds: only have layer, but not itemId and url
                if (!this.FeatureLayer)
                    return Promise.resolve(featureLayer);
                if (ds.itemId) {
                    const layerId = ds.layerId ? parseInt(ds.layerId) : '';
                    const layerConfig = {
                        portalItem: {
                            id: ds.itemId,
                            portal: {
                                url: ds.portalUrl
                            }
                        },
                        definitionExpression: curQuery.where,
                        layerId: layerId || undefined
                    };
                    if (ds.url)
                        layerConfig.url = ds.url;
                    featureLayer = new this.FeatureLayer(layerConfig);
                }
                else if (ds.url) {
                    featureLayer = new this.FeatureLayer({
                        definitionExpression: curQuery.where,
                        url: ds.url
                    });
                }
                else if (ds.layer) {
                    // The original method of creating a layer by querying records will lose
                    // the data in ds when the filter is set first and then view in table.
                    return ds === null || ds === void 0 ? void 0 : ds.createJSAPILayerByDataSource().then(layer => {
                        return layer;
                    });
                }
                else {
                    return Promise.resolve(featureLayer);
                }
            }
            if (notToLoad) { // output ds (dynamic layer, load will rise bug)
                return Promise.resolve(featureLayer);
            }
            else { // need load to get layer.capabilities
                return featureLayer.load().then(() => __awaiter(this, void 0, void 0, function* () {
                    return yield Promise.resolve(featureLayer);
                }));
            }
        };
        this.getDsAccessibleInfo = (url) => {
            if (!url)
                return Promise.resolve(false);
            const request = jimu_core__WEBPACK_IMPORTED_MODULE_0__.esri.restRequest.request;
            return request(`${url}?f=json`).then(info => {
                if (Object.keys(info).includes('error')) {
                    return false;
                }
                else {
                    return true;
                }
            }).catch(err => {
                return false;
            });
        };
        this.getFieldEditable = (layerDefinition, jimuName) => {
            const fieldsConfig = (layerDefinition === null || layerDefinition === void 0 ? void 0 : layerDefinition.fields) || [];
            const orgField = fieldsConfig.find(config => config.name === jimuName);
            const fieldEditable = orgField ? orgField === null || orgField === void 0 ? void 0 : orgField.editable : true;
            return fieldEditable;
        };
        this.dsAsyncSelectTable = (dataSource, selectedItems, rowClick, versionChangeClear) => {
            const { id } = this.props;
            const tableInstance = this.table;
            const selectedIds = selectedItems === null || selectedItems === void 0 ? void 0 : selectedItems.map(item => {
                var _a;
                if (item.dataSource) {
                    return (_a = item.getId()) === null || _a === void 0 ? void 0 : _a.toString();
                }
                else {
                    return item === null || item === void 0 ? void 0 : item.toString();
                }
            });
            if (versionChangeClear)
                dataSource.clearSelection();
            const syncSqlResult = (records) => {
                jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataRecordsSelectionChangeMessage(id, records));
                tableInstance.layer.queryFeatureCount().then(count => {
                    count === 0 ? this.setState({ emptyData: true }) : this.setState({ emptyData: false });
                });
                if (records.length > 0) {
                    dataSource.selectRecordsByIds(records.map(record => record.getId()), records);
                }
                else {
                    dataSource.clearSelection();
                }
                if (!rowClick) {
                    setTimeout(() => {
                        this.asyncSelectedRebuild(dataSource);
                    }, 500);
                }
            };
            if ((selectedIds === null || selectedIds === void 0 ? void 0 : selectedIds.length) > 0) {
                dataSource.query({
                    objectIds: selectedIds,
                    returnGeometry: true,
                    outFields: ['*'],
                    notAddFieldsToClient: true
                }, { scope: jimu_core_data_source__WEBPACK_IMPORTED_MODULE_20__.QueryScope.InAllData }).then(result => {
                    const records = result === null || result === void 0 ? void 0 : result.records;
                    if (records)
                        syncSqlResult(records);
                });
            }
            else {
                syncSqlResult([]);
            }
        };
        this.isDataSourceAccessible = (dataSourceId, isDataAction, actionDataSource) => {
            var _a;
            const hasInstance = !!this.dsManager.getDataSource(dataSourceId);
            let dataSourceIsInProps = false;
            if (actionDataSource) {
                dataSourceIsInProps = true;
            }
            else {
                dataSourceIsInProps = isDataAction ? hasInstance : (((_a = this.props.useDataSources) === null || _a === void 0 ? void 0 : _a.filter(useDs => dataSourceId === useDs.dataSourceId).length) > 0);
            }
            return dataSourceIsInProps;
        };
        this.resetUpdatingStatus = (emptyTable = false) => {
            this.dataSourceChange = false;
            this.dataActionCanLoad = true;
            this.updatingTable = false;
            this.setState({ emptyTable });
        };
        this.getIsAdvancedPermission = (currentLayerDs) => __awaiter(this, void 0, void 0, function* () {
            var _c;
            if (!currentLayerDs)
                return false;
            const layerItemInfo = yield (currentLayerDs === null || currentLayerDs === void 0 ? void 0 : currentLayerDs.fetchItemInfo().then(info => {
                return info;
            }).catch(err => {
                console.warn(err);
            }));
            if (!layerItemInfo || !layerItemInfo.url)
                return false;
            // user is admin/owner, or user and item are in the same update org
            // If there is no portalUrl, it means it's non-hosted (sampleserver6)
            const portalUrl = (_c = jimu_core__WEBPACK_IMPORTED_MODULE_0__.ServiceManager.getInstance().getServerInfoByServiceUrl(layerItemInfo.url)) === null || _c === void 0 ? void 0 : _c.owningSystemUrl;
            if (!portalUrl)
                return false;
            const sessionForItem = jimu_core__WEBPACK_IMPORTED_MODULE_0__.SessionManager.getInstance().getSessionByUrl(portalUrl);
            // If there is no session, it means there was no pop-up login
            if (!sessionForItem)
                return false;
            const user = yield sessionForItem.getUser();
            const isAdmin = (user === null || user === void 0 ? void 0 : user.role) === 'org_admin' && (layerItemInfo === null || layerItemInfo === void 0 ? void 0 : layerItemInfo.isOrgItem);
            const isOwner = layerItemInfo.owner === (user === null || user === void 0 ? void 0 : user.username);
            const isInUpdatedGroup = yield jimu_core__WEBPACK_IMPORTED_MODULE_0__.privilegeUtils.isItemInTheUpdatedGroup(layerItemInfo.id, sessionForItem);
            return isAdmin || isOwner || isInUpdatedGroup;
        });
        this.getFilteredUseFields = (schemaFields, definitionFields) => {
            let filteredUseFields = [];
            const schemaFieldsKeys = Object.keys(schemaFields);
            // use layer definition fields
            if ((definitionFields === null || definitionFields === void 0 ? void 0 : definitionFields.length) >= (schemaFieldsKeys === null || schemaFieldsKeys === void 0 ? void 0 : schemaFieldsKeys.length)) {
                filteredUseFields = definitionFields.filter(item => schemaFieldsKeys.includes(item.jimuName || item.name));
            }
            else {
                schemaFieldsKeys.forEach(key => {
                    const currentField = schemaFields[key];
                    const hasDefinitionField = definitionFields.find(field => field.name === key);
                    // some definition has domain info, if exist, need to merge this info into schemaFields
                    filteredUseFields.push(Object.assign(Object.assign({}, currentField), hasDefinitionField));
                });
            }
            return filteredUseFields;
        };
        this.dsAsyncClick = (dataSource, selectedItems, rowClick, versionChangeClear) => {
            if (this.clickTimer) {
                clearTimeout(this.clickTimer);
            }
            this.clickTimer = setTimeout(() => {
                this.dsAsyncSelectTable(dataSource, selectedItems, rowClick);
                clearTimeout(this.clickTimer);
                this.clickTimer = null;
            }, 400);
        };
        this.getLayerAndNewTable = (dataSource, curLayerConfig, dataRecords) => {
            const { tableShowColumns, selectQueryFlag } = this.state;
            const { id } = this.props;
            const newId = this.currentRequestId + 1;
            this.currentRequestId++;
            const isSceneLayer = (dataSource === null || dataSource === void 0 ? void 0 : dataSource.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.SceneLayer || (dataSource === null || dataSource === void 0 ? void 0 : dataSource.type) === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AllDataSourceTypes.BuildingComponentSubLayer;
            const dataSourceUsed = isSceneLayer ? dataSource.getAssociatedDataSource() : dataSource;
            if (dataSourceUsed) {
                const getPrivilege = () => {
                    return jimu_core__WEBPACK_IMPORTED_MODULE_0__.privilegeUtils.checkExbAccess(jimu_core__WEBPACK_IMPORTED_MODULE_0__.privilegeUtils.CheckTarget.Experience).then(exbAccess => {
                        return exbAccess === null || exbAccess === void 0 ? void 0 : exbAccess.capabilities;
                    });
                };
                const tablePromise = jimu_core__WEBPACK_IMPORTED_MODULE_0__.cancelablePromise.cancelable(this.getFeatureLayer(dataSourceUsed, dataRecords).then((layer) => __awaiter(this, void 0, void 0, function* () {
                    var _a, _b, _c, _d, _e, _f;
                    if (newId !== this.currentRequestId || !layer || !this.FeatureTable || !this.refs.currentEl || !this.refs.tableContainer || !document) {
                        this.resetUpdatingStatus();
                        return;
                    }
                    const featureLayer = (layer === null || layer === void 0 ? void 0 : layer.layer) || layer;
                    // If 'view in table', use selection view as layer dataSource
                    let layerDs = null;
                    if ((dataRecords === null || dataRecords === void 0 ? void 0 : dataRecords.length) > 0) {
                        this.viewTableId++;
                        const newDsId = `${dataSourceUsed.id}-${id}-view_in_table-${this.viewTableId}`;
                        const newSourceLabel = `${(_a = dataSourceUsed.belongToDataSource) === null || _a === void 0 ? void 0 : _a.getDataSourceJson().sourceLabel}-${this.viewTableId}`;
                        const layerDsJson = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)({
                            id: newDsId,
                            type: jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceTypes.FeatureLayer,
                            sourceLabel: newSourceLabel
                        });
                        const layerDsOption = {
                            id: newDsId,
                            dataSourceJson: layerDsJson,
                            layer: featureLayer
                        };
                        layerDs = yield this.dsManager.createDataSource(layerDsOption);
                        this.setState({ dataSource: layerDs });
                    }
                    // fetch to confirm whether it's a public source
                    const accessible = yield this.getDsAccessibleInfo(layer === null || layer === void 0 ? void 0 : layer.url);
                    // use exb privilege instead of api's supportsUpdateByOthers
                    const privilege = yield getPrivilege();
                    const privilegeEditable = privilege === null || privilege === void 0 ? void 0 : privilege.canEditFeature;
                    // New logic of API: The user with advanced permissions can modify the configuration regardless of the configuration
                    const isAdvancedPermission = yield this.getIsAdvancedPermission(layerDs || dataSource);
                    // full editing privileges
                    const fullEditingPrivileges = featureLayer === null || featureLayer === void 0 ? void 0 : featureLayer.userHasFullEditingPrivileges;
                    // check layer capabilities for delete operation
                    const layerDefinition = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getLayerDefinition();
                    const layerEditingEnabled = (_b = featureLayer === null || featureLayer === void 0 ? void 0 : featureLayer.editingEnabled) !== null && _b !== void 0 ? _b : true;
                    const isHonorWebmap = curLayerConfig.layerHonorMode === _config__WEBPACK_IMPORTED_MODULE_2__.LayerHonorModeType.Webmap;
                    const canEditFeature = accessible || privilegeEditable;
                    const normalEditPermission = isHonorWebmap ? canEditFeature : curLayerConfig.enableEdit && canEditFeature;
                    const normalDeletePermission = isHonorWebmap ? canEditFeature : curLayerConfig.enableDelete && canEditFeature;
                    let editable = false;
                    let deletable = false;
                    if (isAdvancedPermission || (fullEditingPrivileges && layerEditingEnabled)) {
                        editable = true;
                        deletable = true;
                    }
                    else if (fullEditingPrivileges && !layerEditingEnabled) {
                        editable = false;
                        deletable = false;
                    }
                    else {
                        editable = normalEditPermission;
                        deletable = normalDeletePermission;
                    }
                    // 'deletable' obtained by advanced permission is not used for the time being #13361
                    // this.setState({ allowDel: deletable })
                    this.setState({
                        allowDel: curLayerConfig.enableDelete && canEditFeature,
                        exbPrivilege: canEditFeature
                    });
                    // fieldConfigs: Priority needs to be considered for 'editable'
                    const allFieldsSchema = dataSourceUsed === null || dataSourceUsed === void 0 ? void 0 : dataSourceUsed.getSchema();
                    // sort fields
                    const queryParams = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getCurrentQueryParams();
                    const sortFieldsArray = (queryParams === null || queryParams === void 0 ? void 0 : queryParams.orderByFields) || [];
                    const sortFields = {};
                    sortFieldsArray.forEach((item, index) => {
                        var _a;
                        const fieldSort = item.split(' ');
                        sortFields[fieldSort[0]] = { direction: (_a = fieldSort[1]) === null || _a === void 0 ? void 0 : _a.toLowerCase(), initialSortPriority: index };
                    });
                    // construct tableTemplate
                    const columnSetting = curLayerConfig.columnSetting;
                    const fieldColumnAttr = (columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.responsiveType) === _config__WEBPACK_IMPORTED_MODULE_2__.ResponsiveType.Fit ? { autoWidth: true } : { autoWidth: false, width: (columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.columnWidth) || 200 };
                    const { allFields } = this.getFieldsFromDatasource();
                    const curColumns = tableShowColumns ? tableShowColumns.map(col => { return { jimuName: col.value }; }) : curLayerConfig.tableFields.filter(item => item.visible);
                    const invisibleColumns = (0,_utils__WEBPACK_IMPORTED_MODULE_9__.minusArray)(allFields, curColumns).map(item => {
                        return item.jimuName;
                    });
                    // For dataview, need to merge its sorting information into default
                    let tableTemplate;
                    if (isHonorWebmap) { //  && dataSource.isDataView && dataSource?.dataViewId !== OUTPUT_DATA_VIEW_ID
                        const popupInfo = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getPopupInfo();
                        const popupAllFieldInfos = (popupInfo === null || popupInfo === void 0 ? void 0 : popupInfo.fieldInfos) || [];
                        // use schemaFields to filter used fields, some field is special and invisible in schema
                        const schemaFieldsKeys = Object.keys(allFieldsSchema === null || allFieldsSchema === void 0 ? void 0 : allFieldsSchema.fields);
                        const filteredPopupFieldInfos = popupAllFieldInfos.filter(item => schemaFieldsKeys.includes(item.fieldName));
                        const useFields = ((_c = layerDefinition === null || layerDefinition === void 0 ? void 0 : layerDefinition.fields) === null || _c === void 0 ? void 0 : _c.length) > 0 ? layerDefinition.fields : allFields;
                        const filteredUseFields = this.getFilteredUseFields(allFieldsSchema === null || allFieldsSchema === void 0 ? void 0 : allFieldsSchema.fields, useFields);
                        tableTemplate = ((_d = popupInfo === null || popupInfo === void 0 ? void 0 : popupInfo.fieldInfos) === null || _d === void 0 ? void 0 : _d.length) > 0
                            ? new this.TableTemplate({
                                columnTemplates: filteredPopupFieldInfos.map(item => {
                                    var _a;
                                    const itemKey = item.fieldName;
                                    return Object.assign(Object.assign(Object.assign(Object.assign({}, item), fieldColumnAttr), { type: 'field', editable: (_a = item.isEditable) !== null && _a !== void 0 ? _a : false }), (sortFields[itemKey] ? sortFields[itemKey] : {}));
                                })
                            })
                            : new this.TableTemplate({
                                columnTemplates: filteredUseFields.map(item => {
                                    const itemKey = item.jimuName || item.name;
                                    return Object.assign(Object.assign(Object.assign(Object.assign({}, item), fieldColumnAttr), { type: 'field', fieldName: itemKey, label: item.alias || item.name, editable: this.getFieldEditable(layerDefinition, itemKey), visible: true }), (sortFields[itemKey] ? sortFields[itemKey] : {}));
                                })
                            });
                    }
                    else if (!isHonorWebmap) {
                        tableTemplate = new this.TableTemplate({
                            columnTemplates: curLayerConfig.tableFields.map(item => {
                                var _a;
                                const itemKey = item.jimuName || item.name;
                                const newItem = (_a = allFieldsSchema === null || allFieldsSchema === void 0 ? void 0 : allFieldsSchema.fields) === null || _a === void 0 ? void 0 : _a[itemKey];
                                return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({ type: 'field' }, fieldColumnAttr), { fieldName: itemKey, label: newItem === null || newItem === void 0 ? void 0 : newItem.alias }), (editable ? { editable: this.getFieldEditable(layerDefinition, itemKey) && (item === null || item === void 0 ? void 0 : item.editAuthority) } : {})), { visible: invisibleColumns.indexOf(itemKey) < 0 }), (sortFields[itemKey] ? sortFields[itemKey] : {}));
                            })
                        });
                    }
                    // when unselect all fields, do not render table
                    if (((_e = tableTemplate === null || tableTemplate === void 0 ? void 0 : tableTemplate.columnTemplates) === null || _e === void 0 ? void 0 : _e.length) === 0 && !isHonorWebmap) {
                        this.resetUpdatingStatus();
                        return;
                    }
                    if (editable || deletable) {
                        // eslint-disable-next-line
                        const that = this;
                        featureLayer.on('edits', function (event) {
                            var _a, _b, _c;
                            const { updatedFeatures, deletedFeatures } = event;
                            // There is no 'add' in api for now
                            const updates = updatedFeatures && updatedFeatures.length > 0;
                            const deletes = deletedFeatures && deletedFeatures.length > 0;
                            if (updates) {
                                const updateFeature = (_b = (_a = event === null || event === void 0 ? void 0 : event.edits) === null || _a === void 0 ? void 0 : _a.updateFeatures) === null || _b === void 0 ? void 0 : _b[0];
                                if (updateFeature) {
                                    const record = dataSource.buildRecord(updateFeature);
                                    dataSource.afterUpdateRecord(record);
                                }
                            }
                            if (deletes) {
                                const deleteFeatures = (_c = event === null || event === void 0 ? void 0 : event.edits) === null || _c === void 0 ? void 0 : _c.deleteFeatures;
                                if (deleteFeatures.length > 0) {
                                    const deleteIds = [];
                                    deleteFeatures.forEach(deleteFeature => {
                                        const record = dataSource.buildRecord(deleteFeature);
                                        deleteIds.push(record.getId());
                                    });
                                    dataSource.afterDeleteRecordsByIds(deleteIds);
                                }
                            }
                        });
                    }
                    const dsGdbVersion = dataSource.getGDBVersion();
                    if (dsGdbVersion)
                        featureLayer.gdbVersion = dsGdbVersion;
                    const timeExtent = queryParams === null || queryParams === void 0 ? void 0 : queryParams.time;
                    if (timeExtent) {
                        const apiTime = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.changeJimuTimeToJSAPITimeExtent(timeExtent);
                        featureLayer.timeExtent = apiTime;
                    }
                    // Clear table container before create new table.
                    this.refs.tableContainer.innerHTML = '';
                    const container = document.createElement('div');
                    container.className = `table-container-${id}`;
                    this.refs.tableContainer.appendChild(container);
                    this.table = new this.FeatureTable(Object.assign(Object.assign({ layer: featureLayer, container: container, visibleElements: {
                            header: false,
                            menu: false,
                            menuItems: {
                                clearSelection: false,
                                refreshData: false,
                                toggleColumns: false
                            },
                            selectionColumn: false
                        }, menuConfig: { items: [] } }, (tableTemplate ? { tableTemplate } : {})), { multiSortEnabled: true, attachmentsEnabled: curLayerConfig.enableAttachements, editingEnabled: editable, timeZone: this.getTimezone(dataSource) }));
                    // for table total/selected count
                    esri_core_reactiveUtils__WEBPACK_IMPORTED_MODULE_22__["default"].watch(() => { var _a, _b; return (_b = (_a = this.table) === null || _a === void 0 ? void 0 : _a.viewModel) === null || _b === void 0 ? void 0 : _b.size; }, tableTotal => {
                        this.setState({ tableTotal });
                    });
                    esri_core_reactiveUtils__WEBPACK_IMPORTED_MODULE_22__["default"].watch(() => { var _a, _b; return (_b = (_a = this.table) === null || _a === void 0 ? void 0 : _a.highlightIds) === null || _b === void 0 ? void 0 : _b.length; }, tableSelected => {
                        this.setState({ tableSelected });
                    });
                    // table editing state, for api limitation, click through while editing will cause the selected event to be triggered
                    esri_core_reactiveUtils__WEBPACK_IMPORTED_MODULE_22__["default"].watch(() => { var _a; return (_a = this.table) === null || _a === void 0 ? void 0 : _a.columns.some(column => !!column.activeEditInfo); }, isTableEditing => {
                        this.setState({ isTableEditing });
                    });
                    // When table is not loaded, buttons in tool should be disabled
                    esri_core_reactiveUtils__WEBPACK_IMPORTED_MODULE_22__["default"].watch(() => this.table.state, (tableState) => {
                        if (tableState === 'loaded') {
                            this.setState({ tableLoaded: true });
                        }
                        else {
                            this.setState({ tableLoaded: false });
                        }
                    });
                    // async selected
                    // View in table does not need to be selected synchronously
                    const dataActionIsAdd = curLayerConfig.dataActionType === _config__WEBPACK_IMPORTED_MODULE_2__.TableDataActionType.Add;
                    const dataActionObject = curLayerConfig.dataActionObject;
                    if (!dataActionObject) {
                        setTimeout(() => {
                            if (selectQueryFlag)
                                this.asyncSelectedWhenSelection((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(dataSource.getSelectedRecordIds() || []));
                        }, 500);
                    }
                    if (dataActionIsAdd) {
                        setTimeout(() => {
                            this.asyncSelectedRebuild(dataSource);
                        }, 500);
                    }
                    const tableInstance = this.table;
                    // Because the api does not handle the bubbling of double-click events, double-clicking a line to
                    // start editing results in selecting and then canceling, so the deferred canceling method is used
                    if (curLayerConfig.enableSelect) {
                        const rowClickFn = ({ feature, objectId: thisId }) => {
                            // click uncontent cell (ed. title)
                            if (!feature)
                                return;
                            // edit mode cancel cell-click
                            if (this.state.isTableEditing)
                                return;
                            // Delay click function
                            clearTimeout(this.timerFn);
                            this.timerFn = setTimeout(() => {
                                var _a;
                                this.setState({ selfDsChange: true });
                                const objectId = thisId || feature.getObjectId();
                                const originalSelected = this.table.highlightIds;
                                const thisSelected = originalSelected.includes(objectId);
                                if (curLayerConfig.selectMode === _config__WEBPACK_IMPORTED_MODULE_2__.SelectionModeType.Single) {
                                    this.table.highlightIds.removeAll();
                                }
                                thisSelected
                                    ? this.table.highlightIds.remove(objectId)
                                    : this.table.highlightIds.add(objectId);
                                const selectedIds = (_a = tableInstance.highlightIds) === null || _a === void 0 ? void 0 : _a.toArray();
                                if ((selectedIds === null || selectedIds === void 0 ? void 0 : selectedIds.length) === 0) {
                                    if (this.state.selectQueryFlag)
                                        this.table.clearSelectionFilter();
                                    this.resetTableExpression();
                                    this.setState({ selectQueryFlag: false });
                                }
                                const isViewSnapshot = curLayerConfig.dataActionType === _config__WEBPACK_IMPORTED_MODULE_2__.TableDataActionType.View;
                                this.dsAsyncClick(isViewSnapshot ? layerDs : dataSource, selectedIds, true);
                            }, 200);
                        };
                        tableInstance.on('cell-click', rowClickFn);
                    }
                    // dblclick cancel click event
                    (_f = tableInstance === null || tableInstance === void 0 ? void 0 : tableInstance.domNode) === null || _f === void 0 ? void 0 : _f.addEventListener('dblclick', eve => {
                        clearTimeout(this.timerFn);
                    });
                    if (!dataRecords)
                        this.updateGeometryAndSql(dataSource);
                    this.resetUpdatingStatus();
                })));
                // cancel previous promise
                if (this.promises.length !== 0) {
                    this.promises.forEach(p => { p.cancel(); });
                }
                this.promises.push(tablePromise);
            }
        };
        this.createTable = (newDataSource) => {
            var _a, _b, _c;
            const { config } = this.props;
            const { layersConfig } = config;
            const { activeTabId } = this.state;
            let { dataSource } = this.state;
            if (newDataSource)
                dataSource = newDataSource;
            // add data-action table config to all configs
            const daLayersConfig = this.getDataActionTable();
            const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
            const curLayerConfig = allLayersConfig.find(item => item.id === activeTabId);
            if (!curLayerConfig) {
                this.dataActionCanLoad = true;
                this.updatingTable = false;
                return;
            }
            // add data widget data action
            const { dataActionDataSource } = curLayerConfig;
            if (dataActionDataSource) {
                dataSource = dataActionDataSource;
            }
            if (!dataSource || notLoad.includes((_a = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getInfo()) === null || _a === void 0 ? void 0 : _a.status)) {
                this.dataActionCanLoad = true;
                this.updatingTable = false;
                return;
            }
            // ds judgment
            const dataActionObject = curLayerConfig.dataActionObject;
            if ((dataSource === null || dataSource === void 0 ? void 0 : dataSource.dataViewId) === SELECTION_DATA_VIEW_ID) {
                if (!((_b = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getDataSourceJson()) === null || _b === void 0 ? void 0 : _b.isDataInDataSourceInstance) ||
                    (!dataActionObject && (dataSource === null || dataSource === void 0 ? void 0 : dataSource.getSourceRecords().length) === 0)) {
                    this.resetUpdatingStatus(true);
                    return;
                }
                else {
                    this.setState({ emptyTable: false });
                }
            }
            // Determine whether the ds has change to curLayer's ds
            const curDsId = dataActionDataSource ? dataActionDataSource === null || dataActionDataSource === void 0 ? void 0 : dataActionDataSource.id : (_c = curLayerConfig === null || curLayerConfig === void 0 ? void 0 : curLayerConfig.useDataSource) === null || _c === void 0 ? void 0 : _c.dataSourceId;
            const isCurDs = curLayerConfig.dataActionType === _config__WEBPACK_IMPORTED_MODULE_2__.TableDataActionType.View || curDsId === (dataSource === null || dataSource === void 0 ? void 0 : dataSource.id);
            if (!isCurDs) {
                this.dataActionCanLoad = true;
                this.updatingTable = false;
                return;
            }
            // Check whether ds is available
            if (!this.isDataSourceAccessible(curDsId, dataActionObject, dataActionDataSource)) {
                this.resetUpdatingStatus(true);
                return;
            }
            const dataRecords = this.dataActionTableRecords[curLayerConfig.id];
            if (dataActionObject) {
                if (curDsId) {
                    dataSource = this.dsManager.getDataSource(curDsId);
                }
            }
            this.getLayerAndNewTable(dataSource, curLayerConfig, dataRecords);
        };
        this.asyncSelectedRebuild = (dataSource) => {
            var _a, _b, _c;
            const { selectRecords } = this.state;
            let selectedRecordIds = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getSelectedRecordIds();
            const belongToSelectedRecordIds = ((_a = dataSource === null || dataSource === void 0 ? void 0 : dataSource.belongToDataSource) === null || _a === void 0 ? void 0 : _a.getSelectedRecordIds()) || [];
            if (dataSource.isDataView && selectedRecordIds.length !== belongToSelectedRecordIds.length) {
                selectedRecordIds = belongToSelectedRecordIds || selectedRecordIds;
            }
            ((_c = (_b = this.table) === null || _b === void 0 ? void 0 : _b.highlightIds) === null || _c === void 0 ? void 0 : _c.removeAll) && this.table.highlightIds.removeAll();
            // selection passed from URL parameters
            const curSelectRecords = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getSelectedRecords();
            if (curSelectRecords && !jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.isDeepEqual(selectRecords, curSelectRecords)) {
                this.setState({ selectRecords: curSelectRecords });
            }
            // Synchronize new selection (the record of selectedRecords has different structure)
            // layer/url ds: the featuresArray's structure is not match the 'deselectRows', use primary id
            if ((selectedRecordIds === null || selectedRecordIds === void 0 ? void 0 : selectedRecordIds.length) > 0) {
                selectedRecordIds.forEach(recordId => {
                    var _a, _b;
                    if (recordId)
                        ((_b = (_a = this.table) === null || _a === void 0 ? void 0 : _a.highlightIds) === null || _b === void 0 ? void 0 : _b.add) && this.table.highlightIds.add(parseInt(recordId));
                });
            }
        };
        this.formatMessage = (id, values) => {
            return this.props.intl.formatMessage({ id: id, defaultMessage: messages[id] }, values);
        };
        this.onTagClick = (dataSourceId) => {
            const { id } = this.props;
            this.setState({
                activeTabId: dataSourceId,
                selectQueryFlag: false,
                tableShowColumns: undefined,
                tableSelected: 0
            });
            this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'activeTabId', dataSourceId));
        };
        this.handleTagChange = evt => {
            var _a;
            const dataSourceId = (_a = evt === null || evt === void 0 ? void 0 : evt.target) === null || _a === void 0 ? void 0 : _a.value;
            const { id } = this.props;
            this.setState({
                activeTabId: dataSourceId,
                selectQueryFlag: false,
                tableSelected: 0
            });
            this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'activeTabId', dataSourceId));
        };
        this.onShowSelection = () => {
            const { selectQueryFlag } = this.state;
            if (selectQueryFlag) {
                this.table.clearSelectionFilter();
                this.resetTableExpression();
            }
            else {
                this.table.filterBySelection();
            }
            this.setState({ selectQueryFlag: !selectQueryFlag });
        };
        this.resetTableExpression = () => {
            var _a;
            const { dataSource } = this.state;
            if ((_a = this.table) === null || _a === void 0 ? void 0 : _a.layer) {
                const curQuery = dataSource && dataSource.getCurrentQueryParams();
                const sqlExpression = curQuery.where;
                const tableInstance = this.table;
                tableInstance.layer.definitionExpression = sqlExpression;
            }
        };
        this.resetTable = () => {
            const { id } = this.props;
            const { selectQueryFlag, dataSource } = this.state;
            if (selectQueryFlag) {
                // reset sql
                this.resetTableExpression();
                this.setState({
                    selectQueryFlag: false,
                    selfDsChange: true
                });
            }
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataRecordsSelectionChangeMessage(id, []));
            setTimeout(() => {
                this.setState({ searchText: '' });
                dataSource.clearSelection();
                dataSource.updateQueryParams(EMPTY_QUERY_PARAMS, id);
                this.table && this.table.highlightIds.removeAll();
                this.table && this.table.clearSelectionFilter();
            }, 500);
        };
        this.onSelectionClear = () => {
            this.resetTable();
        };
        this.onTableRefresh = () => {
            this.table && this.table.refresh();
        };
        this.onDeleteSelection = () => {
            this.table && this.table.deleteSelection(true);
        };
        this.getQueryOptions = (curLayer) => {
            let where = '1=1';
            let sqlExpression = null;
            const { useDataSources } = this.props;
            const { searchText, dataSource } = this.state;
            const useDS = useDataSources && useDataSources[0];
            if (!dataSource || !useDS)
                return null;
            // not queryiable data source, return
            if (!(dataSource).query) {
                return null;
            }
            if (searchText && curLayer.enableSearch && curLayer.searchFields) {
                const result = jimu_core__WEBPACK_IMPORTED_MODULE_0__.dataSourceUtils.getSQL(searchText, curLayer.searchFields, dataSource, curLayer === null || curLayer === void 0 ? void 0 : curLayer.searchExact);
                where = result.sql;
                sqlExpression = result;
            }
            return { where, sqlExpression };
        };
        this.handleChange = (searchText) => {
            if (!searchText) {
                this.setState({ searchText, isShowSuggestion: false, searchSuggestion: [] }, () => {
                    this.handleSubmit();
                });
            }
            else {
                this.setState({ searchText, isShowSuggestion: (searchText === null || searchText === void 0 ? void 0 : searchText.length) > 2 }, () => {
                    clearTimeout(this.suggestionsQueryTimeout);
                    this.suggestionsQueryTimeout = setTimeout(() => {
                        this.getSearchSuggestions(searchText);
                    }, 200);
                });
            }
        };
        this.getSearchSuggestions = (searchText) => {
            var _a;
            const { config } = this.props;
            const { dataSource, activeTabId } = this.state;
            if ((searchText === null || searchText === void 0 ? void 0 : searchText.length) < 3) {
                return false;
            }
            const curLayer = (_a = config.layersConfig) === null || _a === void 0 ? void 0 : _a.find(item => item.id === activeTabId);
            (0,_utils__WEBPACK_IMPORTED_MODULE_9__.fetchSuggestionRecords)(searchText, curLayer, dataSource).then(searchSuggestion => {
                this.setState({ searchSuggestion });
            });
        };
        this.handleSubmit = () => {
            const { dataSource } = this.state;
            const { id } = this.props;
            const curLayer = this.props.config.layersConfig.find(item => item.id === this.state.activeTabId);
            if (!curLayer || !dataSource)
                return;
            const tableQuery = this.getQueryOptions(curLayer);
            dataSource.updateQueryParams(tableQuery, id);
        };
        this.onKeyUp = evt => {
            if (!evt || !evt.target)
                return;
            if (evt.key === 'Enter') {
                this.setState({ isShowSuggestion: false }, () => {
                    this.handleSubmit();
                });
            }
        };
        this.getTextInputPrefixElement = () => {
            const { theme } = this.props;
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { type: 'tertiary', icon: true, size: 'sm', onClick: evt => {
                    this.setState({
                        isShowSuggestion: false
                    }, () => {
                        this.handleSubmit();
                    });
                }, className: 'search-icon' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_10__.SearchOutlined, { color: theme.ref.palette.neutral[700] })));
        };
        this.renderSearchTools = (hint) => {
            const { searchText, searchToolFlag, isOpenSearchPopper, tableLoaded } = this.state;
            const { theme } = this.props;
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-search-div' }, searchToolFlag
                ? ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'float-right', ref: ref => (this.refs.searchPopup = ref) },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { type: 'tertiary', icon: true, size: 'sm', className: 'tools-menu', title: this.formatMessage('search'), onClick: evt => {
                            this.setState({ isOpenSearchPopper: !isOpenSearchPopper });
                        } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_search__WEBPACK_IMPORTED_MODULE_10__.SearchOutlined, null)),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Popper, { placement: 'right-start', reference: this.refs.searchPopup, offset: [-10, -30], open: isOpenSearchPopper, showArrow: false, toggle: e => {
                            this.setState({ isOpenSearchPopper: !isOpenSearchPopper });
                        } },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center table-popup-search m-2' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { type: 'tertiary', icon: true, size: 'sm', onClick: evt => {
                                    this.setState({ isOpenSearchPopper: false });
                                }, className: 'search-back mr-1' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_directional_arrow_left__WEBPACK_IMPORTED_MODULE_11__.ArrowLeftOutlined, { color: theme.ref.palette.neutral[1100] })),
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.TextInput, { className: 'popup-search-input', placeholder: hint || this.formatMessage('search'), onChange: e => { this.handleChange(e.target.value); }, value: searchText || '', onKeyDown: e => { this.onKeyUp(e); }, prefix: this.getTextInputPrefixElement(), allowClear: true, title: hint || this.formatMessage('search'), disabled: !tableLoaded })))))
                : ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex align-items-center table-search' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.TextInput, { className: 'search-input', placeholder: hint || this.formatMessage('search'), onChange: e => { this.handleChange(e.target.value); }, value: searchText || '', onKeyDown: e => { this.onKeyUp(e); }, prefix: this.getTextInputPrefixElement(), allowClear: true, title: hint || this.formatMessage('search'), disabled: !tableLoaded })))));
        };
        this.getInitFields = () => {
            const { activeTabId, dataSource } = this.state;
            const { config } = this.props;
            const { layersConfig } = config;
            // data-action Table
            const daLayersConfig = this.getDataActionTable();
            const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
            const curLayer = allLayersConfig.find(item => item.id === activeTabId);
            const { tableFields, allFields, layerHonorMode } = curLayer;
            const initSelectTableFields = [];
            // honor layer settings
            const isHonorWebmap = layerHonorMode === _config__WEBPACK_IMPORTED_MODULE_2__.LayerHonorModeType.Webmap;
            if (isHonorWebmap && dataSource) {
                const popupInfo = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getPopupInfo();
                if (popupInfo) {
                    const popupAllFieldInfos = popupInfo.fieldInfos || [];
                    for (const item of popupAllFieldInfos) {
                        initSelectTableFields.push({ value: item.fieldName, label: item.label });
                    }
                }
                else {
                    // if popupInfo is null, use 'allFields' instead
                    for (const item of allFields) {
                        initSelectTableFields.push({ value: item.name, label: item.alias });
                    }
                }
            }
            else {
                for (const item of tableFields) {
                    if (item.visible)
                        initSelectTableFields.push({ value: item.name, label: item.alias });
                }
            }
            return initSelectTableFields;
        };
        this.onValueChangeFromRuntime = (valuePairs) => {
            if (!valuePairs)
                valuePairs = [];
            const { tableShowColumns } = this.state;
            const initTableFields = this.getInitFields();
            const tableColumns = tableShowColumns || initTableFields;
            const selectFlag = valuePairs.length > tableColumns.length;
            (0,_utils__WEBPACK_IMPORTED_MODULE_9__.minusArray)(tableColumns, valuePairs, 'value').forEach(item => {
                selectFlag
                    ? this.table.showColumn(item.value)
                    : this.table.hideColumn(item.value);
            });
            this.setState({ tableShowColumns: valuePairs });
        };
        this.getDataActionTable = () => {
            const { viewInTableObj } = this.props;
            const dataActionTableArray = [];
            for (const key in viewInTableObj) {
                const tableObj = viewInTableObj[key];
                this.dataActionTableRecords[key] = tableObj.records;
                dataActionTableArray.push(Object.assign({}, tableObj.daLayerItem));
            }
            return dataActionTableArray;
        };
        this.onCloseTab = (tabId, evt) => {
            const { id, viewInTableObj } = this.props;
            if (evt)
                evt.stopPropagation();
            this.removeConfig = true;
            this.setState({
                tableShowColumns: undefined,
                tableTotal: 0,
                tableSelected: 0
            });
            const newViewInTableObj = viewInTableObj;
            delete newViewInTableObj[tabId];
            delete this.dataActionTableRecords[tabId];
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(id, 'viewInTableObj', newViewInTableObj);
        };
        this.getLoadingStatus = (ds, queryStatus) => {
            const { stateShowLoading: mustLoading } = this.props;
            // loading
            let showLoading = false;
            if (mustLoading ||
                window.jimuConfig.isInBuilder ||
                (ds && queryStatus === jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceStatus.Loading)) {
                showLoading = true;
            }
            return showLoading;
        };
        this.setRefreshLoadingString = (showLoading = false) => {
            if (!showLoading)
                return false;
            let time = 0;
            // eslint-disable-next-line
            const _this = this;
            clearInterval(this.autoRefreshLoadingTime);
            this.autoRefreshLoadingTime = setInterval(() => {
                time++;
                _this.setState({
                    autoRefreshLoadingString: _this.getLoadingString(time)
                });
            }, 60000);
        };
        this.getLoadingString = (time) => {
            let loadingString = this.formatMessage('lastUpdateAFewTime');
            if (time > 1 && time <= 2) {
                loadingString = this.formatMessage('lastUpdateAMinute');
            }
            else if (time > 2) {
                loadingString = this.formatMessage('lastUpdateTime', { updateTime: time });
            }
            return loadingString;
        };
        this.toggleAutoRefreshLoading = (ds, showLoading, interval) => {
            this.resetAutoRefreshTimes(interval, showLoading);
            if (interval > 0)
                this.setRefreshLoadingString(showLoading);
        };
        this.resetAutoRefreshTimes = (interval, showLoading = false) => {
            // eslint-disable-next-line
            const _this = this;
            clearTimeout(this.resetAutoRefreshTime);
            if (interval <= 0)
                clearInterval(this.autoRefreshLoadingTime);
            this.resetAutoRefreshTime = setTimeout(() => {
                if (showLoading && interval > 0) {
                    _this.setState({
                        autoRefreshLoadingString: _this.formatMessage('lastUpdateAFewTime')
                    });
                }
                _this.setState({
                    showLoading: showLoading
                });
            }, 0);
        };
        this.renderLoading = (showLoading, interval) => {
            var _a;
            const { autoRefreshLoadingString, bottomResponsiveFlag, widgetWidth } = this.state;
            const countContainerWidth = ((_a = this.refs.countContainer) === null || _a === void 0 ? void 0 : _a.clientWidth) || 0;
            const refreshMaxWidth = bottomResponsiveFlag ? 20 : widgetWidth - countContainerWidth - 16;
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'position-absolute refresh-loading-con d-flex align-items-center', style: { maxWidth: refreshMaxWidth } },
                showLoading && (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'loading-con' }),
                interval > 0 && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 auto-refresh-loading text-truncate', title: !bottomResponsiveFlag && autoRefreshLoadingString }, bottomResponsiveFlag
                    ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Tooltip, { title: autoRefreshLoadingString, showArrow: true, placement: 'top-end' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { icon: true, size: 'sm', type: 'tertiary', className: 'd-inline jimu-outline-inside border-0 p-0' },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_suggested_info__WEBPACK_IMPORTED_MODULE_23__.InfoOutlined, { size: 14 })))
                    : autoRefreshLoadingString))));
        };
        this.renderTableCount = (tableTotal, tableSelected) => {
            const { bottomResponsiveFlag, widgetWidth } = this.state;
            const countMaxWidth = bottomResponsiveFlag ? widgetWidth - 36 : widgetWidth / 2;
            const formattedCount = jimu_core__WEBPACK_IMPORTED_MODULE_0__.i18n.getIntl().formatNumber(tableTotal, { useGrouping: true });
            const formattedSelected = jimu_core__WEBPACK_IMPORTED_MODULE_0__.i18n.getIntl().formatNumber(tableSelected, { useGrouping: true });
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { ref: 'countContainer', className: 'position-absolute table-count d-flex align-items-center', style: { maxWidth: countMaxWidth } },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'flex-grow-1 total-count-text text-truncate' }, this.formatMessage('tableCount', { total: formattedCount, selected: formattedSelected }))));
        };
        this.onSuggestionConfirm = suggestion => {
            this.setState({
                searchText: suggestion,
                isShowSuggestion: false
            }, () => {
                this.handleSubmit();
            });
        };
        this.clearMessageAction = () => {
            jimu_core__WEBPACK_IMPORTED_MODULE_0__.MessageManager.getInstance().publishMessage(new jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataRecordsSelectionChangeMessage(this.props.id, []));
            this.setState({ emptyData: false });
        };
        this.customShowHideButton = () => {
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_list_visible__WEBPACK_IMPORTED_MODULE_16__.ListVisibleOutlined, null);
        };
        this.customShowHideDropdownButton = () => {
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_21__.Fragment, null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_list_visible__WEBPACK_IMPORTED_MODULE_16__.ListVisibleOutlined, { className: 'mr-1' }),
                this.formatMessage('showHideCols'));
        };
        this.getUsedFields = (curLayer, dataSource) => {
            var _a;
            if (!curLayer)
                return { popupAllFields: [], actionUsedFields: [] };
            const popupAllFields = [];
            if (dataSource) {
                const allFieldsSchema = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getSchema();
                const schemaFieldsKeys = Object.keys(allFieldsSchema === null || allFieldsSchema === void 0 ? void 0 : allFieldsSchema.fields);
                const popupInfo = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getPopupInfo();
                if (popupInfo) {
                    const popupAllFieldInfos = popupInfo.fieldInfos || [];
                    const filteredPopupFieldInfos = popupAllFieldInfos.filter(item => schemaFieldsKeys.includes(item.fieldName));
                    for (const item of filteredPopupFieldInfos) {
                        if (item.visible)
                            popupAllFields.push({ value: item.fieldName, label: item.label || item.fieldName });
                    }
                }
                else {
                    // if popupInfo is null, use definition or 'allFields' instead
                    const layerDefinitionFields = (_a = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getLayerDefinition()) === null || _a === void 0 ? void 0 : _a.fields;
                    const useFields = (layerDefinitionFields === null || layerDefinitionFields === void 0 ? void 0 : layerDefinitionFields.length) > 0 ? layerDefinitionFields : curLayer.allFields;
                    const filteredUseFields = useFields.filter(item => schemaFieldsKeys.includes(item.jimuName || item.name));
                    for (const item of filteredUseFields) {
                        popupAllFields.push({ value: item.name, label: item.alias || item.name });
                    }
                }
            }
            const isHonorWebmap = curLayer.layerHonorMode === _config__WEBPACK_IMPORTED_MODULE_2__.LayerHonorModeType.Webmap;
            const actionUsedFields = isHonorWebmap ? popupAllFields.map(item => item.value) : curLayer.tableFields.map(item => item.jimuName);
            return { popupAllFields, actionUsedFields };
        };
        this.renderButtonToolList = (curLayer, dataSource) => {
            var _a;
            const { activeTabId, selectQueryFlag, tableShowColumns, mobileFlag, emptyTable, tableLoaded, tableSelected, allowDel } = this.state;
            const { config, id, enableDataAction } = this.props;
            const { layersConfig } = config;
            const hasSelected = tableSelected > 0;
            const initSelectTableFields = this.getInitFields();
            const daLayersConfig = this.getDataActionTable();
            const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
            const isHonorWebmap = curLayer.layerHonorMode === _config__WEBPACK_IMPORTED_MODULE_2__.LayerHonorModeType.Webmap;
            const advancedTableField = (_a = curLayer.tableFields) === null || _a === void 0 ? void 0 : _a.map(item => {
                return { value: item.name, label: item.alias };
            });
            const { popupAllFields, actionUsedFields } = this.getUsedFields(curLayer, dataSource);
            const dataSourceLabel = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getLabel();
            const dataName = this.formatMessage('tableDataActionLabel', { layer: dataSourceLabel || '' });
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'top-button-list' },
                curLayer.enableSelect && ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'top-button ml-2' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { size: 'sm', onClick: this.onShowSelection, icon: true, title: selectQueryFlag
                            ? this.formatMessage('showAll')
                            : this.formatMessage('showSelection'), disabled: !tableLoaded || emptyTable || !hasSelected }, selectQueryFlag ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_menu__WEBPACK_IMPORTED_MODULE_13__.MenuOutlined, null) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_show_selection__WEBPACK_IMPORTED_MODULE_17__.ShowSelectionOutlined, { autoFlip: true })))),
                curLayer.enableSelect &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'top-button ml-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { size: 'sm', onClick: this.onSelectionClear, icon: true, title: this.formatMessage('clearSelection'), disabled: !tableLoaded || emptyTable || !hasSelected },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_clear_selection_general__WEBPACK_IMPORTED_MODULE_14__.ClearSelectionGeneralOutlined, null))),
                curLayer.enableRefresh &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'top-button ml-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { size: 'sm', onClick: this.onTableRefresh, icon: true, title: this.formatMessage('refresh'), disabled: !tableLoaded || emptyTable },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_refresh__WEBPACK_IMPORTED_MODULE_15__.RefreshOutlined, null))),
                allowDel &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'top-button ml-2' },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { size: 'sm', onClick: this.onDeleteSelection, icon: true, title: this.formatMessage('deleteRecords'), disabled: !tableLoaded || emptyTable || !hasSelected },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_19__.TrashOutlined, null))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'top-button ml-2' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.AdvancedSelect, { size: 'sm', title: this.formatMessage('showHideCols'), buttonProps: { icon: true, disabled: !tableLoaded || emptyTable, arrow: false }, fluid: true, staticValues: isHonorWebmap ? popupAllFields : advancedTableField, sortValuesByLabel: false, isMultiple: true, selectedValues: tableShowColumns || initSelectTableFields, isEmptyOptionHidden: false, onChange: this.onValueChangeFromRuntime, customDropdownButtonContent: this.customShowHideButton })),
                dataSource && !mobileFlag && enableDataAction &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_21__.Fragment, null, allLayersConfig.map(item => {
                        const isCurrentDataSource = item.id === activeTabId;
                        const dataActionDropdown = isCurrentDataSource && !emptyTable
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_21__.Fragment, { key: item.id },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'tool-dividing-line' }),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'top-button data-action-btn' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DataActionList, { widgetId: id, listStyle: jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DataActionListStyle.Dropdown, dataSets: [{ dataSource, type: 'selected', records: dataSource.getSelectedRecords(), fields: actionUsedFields, name: dataName }] })))
                            : '';
                        return dataActionDropdown;
                    })));
        };
        this.renderDropdownToolList = (curLayer, dataSource) => {
            var _a;
            const { activeTabId, selectQueryFlag, tableShowColumns, mobileFlag, emptyTable, tableLoaded, tableSelected, allowDel } = this.state;
            const { config, id, enableDataAction } = this.props;
            const { layersConfig } = config;
            const hasSelected = tableSelected > 0;
            const isHonorWebmap = curLayer.layerHonorMode === _config__WEBPACK_IMPORTED_MODULE_2__.LayerHonorModeType.Webmap;
            const advancedTableField = (_a = curLayer.tableFields) === null || _a === void 0 ? void 0 : _a.map(item => {
                return { value: item.name, label: item.alias };
            });
            const initSelectTableFields = this.getInitFields();
            const daLayersConfig = this.getDataActionTable();
            const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
            const { popupAllFields, actionUsedFields } = this.getUsedFields(curLayer, dataSource);
            const dataSourceLabel = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getLabel();
            const dataName = this.formatMessage('tableDataActionLabel', { layer: dataSourceLabel || '' });
            return (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'd-flex ml-2 dropdown-list-container' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Dropdown, { size: 'sm', className: 'd-inline-flex dropdown-list' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DropdownButton, { arrow: false, icon: true, size: 'sm', title: this.formatMessage('options') },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_application_more_horizontal__WEBPACK_IMPORTED_MODULE_18__.MoreHorizontalOutlined, null)),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DropdownMenu, null,
                        curLayer.enableSelect &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_21__.Fragment, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DropdownItem, { key: 'showSelection', onClick: this.onShowSelection, disabled: !tableLoaded || emptyTable || !hasSelected },
                                    selectQueryFlag ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_menu__WEBPACK_IMPORTED_MODULE_13__.MenuOutlined, { className: 'mr-1' }) : (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_show_selection__WEBPACK_IMPORTED_MODULE_17__.ShowSelectionOutlined, { className: 'mr-1', autoFlip: true }),
                                    selectQueryFlag
                                        ? this.formatMessage('showAll')
                                        : this.formatMessage('showSelection')),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DropdownItem, { key: 'clearSelection', onClick: this.onSelectionClear, disabled: !tableLoaded || emptyTable || !hasSelected },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_clear_selection_general__WEBPACK_IMPORTED_MODULE_14__.ClearSelectionGeneralOutlined, { className: 'mr-1' }),
                                    this.formatMessage('clearSelection'))),
                        curLayer.enableRefresh &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DropdownItem, { key: 'refresh', onClick: this.onTableRefresh, disabled: !tableLoaded || emptyTable },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_refresh__WEBPACK_IMPORTED_MODULE_15__.RefreshOutlined, { className: 'mr-1' }),
                                this.formatMessage('refresh')),
                        allowDel &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DropdownItem, { key: 'delete', onClick: this.onDeleteSelection, disabled: !tableLoaded || emptyTable || !hasSelected },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_trash__WEBPACK_IMPORTED_MODULE_19__.TrashOutlined, { className: 'mr-1' }),
                                this.formatMessage('deleteRecords')),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DropdownItem, { key: 'showHideCols', tag: 'div', toggle: false, disabled: !tableLoaded || emptyTable },
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.AdvancedSelect, { size: 'sm', title: this.formatMessage('showHideCols'), buttonProps: { arrow: false, type: 'tertiary', className: 'p-0 table-hide-hover-color' }, fluid: true, staticValues: isHonorWebmap ? popupAllFields : advancedTableField, sortValuesByLabel: false, isMultiple: true, selectedValues: tableShowColumns || initSelectTableFields, isEmptyOptionHidden: false, onChange: this.onValueChangeFromRuntime, customDropdownButtonContent: this.customShowHideDropdownButton })))),
                dataSource && mobileFlag && enableDataAction &&
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_21__.Fragment, null, allLayersConfig.map(item => {
                        const isCurrentDataSource = item.id === activeTabId;
                        const dataActionDropdown = isCurrentDataSource && !emptyTable
                            ? (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_21__.Fragment, { key: item.id },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: 'tool-dividing-line' }),
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'horizontal-action-dropdown' },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DataActionList, { widgetId: id, listStyle: jimu_ui__WEBPACK_IMPORTED_MODULE_5__.DataActionListStyle.Dropdown, dataSets: [{ dataSource, type: 'selected', records: dataSource.getSelectedRecords(), fields: actionUsedFields, name: dataName }] })))
                            : '';
                        return dataActionDropdown;
                    })));
        };
        /**
        * @public
        * function to
        * @param  {esri/geometry/Point} point1
        * @param  {esri/geometry/Point} point2
        * @return {esri/geometry/Point} midPoint
        */
        this.renderSempraButtons = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { size: 'default', className: 'placeholder-approve-btn', onClick: (evt) => { this.clickSempraButtons(1); }, title: "Approve selected request", disabled: this.table == undefined || this.table.size == 0 || this.table.highlightIds.length != 1 }, "Approve"),
                "\u2003\u2003\u2003\u2003",
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { size: 'default', className: 'placeholder-cancel-btn', onClick: (evt) => { this.clickSempraButtons(2); }, title: "Cancel selected request", disabled: this.table == undefined || this.table.size == 0 || this.table.highlightIds.length != 1 }, "Cancel"),
                "\u00A0",
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Label, null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Checkbox, { "aria-label": "Checkbox", checked: this.state.cancleWithEmailNotify, onChange: this.handleCancelWithEmail, disabled: this.table == undefined || this.table.size == 0 || this.table.highlightIds.length != 1 }),
                    "Send ",
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("b", null, "Cancel"),
                    " notification email to requestor"),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Modal, { isOpen: this.state.isModalOpen, toggle: () => this.setState({ isModalOpen: !this.state.isModalOpen }) },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.ModalHeader, { toggle: () => this.setState({ isModalOpen: !this.state.isModalOpen }) }, "Confirmation"),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.ModalBody, null, this.state.modalContent),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.ModalFooter, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { color: "primary", onClick: () => this.handleUserResponse(true, this.selectedFeature) }, "Yes"),
                        ' ',
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { color: "secondary", onClick: () => this.handleUserResponse(false) }, "No"))),
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Modal, { isOpen: this.state.isProgressModalOpen, size: "lg", centered: true, className: 'placeholder-inProgress-modal' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.ModalBody, null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Loading, { type: "DONUT" })))));
        };
        this.clickSempraButtons = (approve_status) => {
            if (this.table.highlightIds.length == 1) {
                const record = this.state.selectRecords[0];
                if (this.table.highlightIds.at(0) != record.getId()) {
                    return;
                }
                //this.state.selectRecords[0].getData() only return the attributes of the feature; this.state.selectRecords[0].feature works but it is not the supported in "export interface DataRecord" in ArcGISExperienceBuilder\client\jimu-core\lib\data-sources\interfaces\common-data-source-interface.ts
                const feature = record.feature;
                if (approve_status === 1) {
                    this.showConfirmationDialog(feature);
                }
                else if (approve_status === 2) {
                    if (this.state.cancleWithEmailNotify) {
                        //change the status from "Cancel" to "Deny" once user click the checkbox "Send Cancel notification email to requestor"
                        approve_status = 3;
                    }
                    this.updateRequest(feature, approve_status);
                }
            }
        };
        this.showConfirmationDialog = (feature) => {
            const application_name = feature.attributes["application"];
            let msgPopup;
            if (application_name == "Microgrid") {
                const strRequestType = feature.attributes["request_type"];
                if (true) {
                    msgPopup = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                        "Have you confirm the requestor do own this email address?  OID: ",
                        feature.attributes["OBJECTID"],
                        "?",
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("br", null),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", null, "TEST"));
                }
                else {}
            }
            else if (application_name == "ICA") {
                const strQuality = feature.attributes["quality_check"];
                let qualtiy_ms = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", null,
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { dangerouslySetInnerHTML: { __html: feature.attributes["quality_check"] } }));
                if (strQuality && (strQuality.indexOf("free email service provider") >= 0 || strQuality.indexOf("<i>0</i> requests") >= 0)) {
                    //data quality check. Remind user to double check the data quality 
                    qualtiy_ms = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", null,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { dangerouslySetInnerHTML: { __html: feature.attributes["quality_check"] } }));
                }
                else {
                    // no need to pop up the window for confirmation.
                    this.updateRequest(feature, 1);
                    return;
                }
                msgPopup = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                    "Are you sure you want to approve request ",
                    feature.attributes["OBJECTID"],
                    "?",
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("br", null),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", null, qualtiy_ms));
            }
            this.selectedFeature = feature; // store the value and to be used in handleUserResponse
            this.setState({ isModalOpen: true });
            this.setState({ modalContent: msgPopup });
        };
        this.updateRequest = (feature, approve_status) => __awaiter(this, void 0, void 0, function* () {
            const selectedOID = this.table.highlightIds.at(0);
            const performAsyncOperation = () => __awaiter(this, void 0, void 0, function* () {
                this.setState({ isProgressModalOpen: true });
                yield new Promise(r => setTimeout(r, 200));
                this.setState({ isProgressModalOpen: false });
            });
            //wait half second to sovle the issue of onSelectionChange is delayed
            yield performAsyncOperation();
            if (this.table.highlightIds.at(0) !== feature.attributes["OBJECTID"]) {
                //additional check to make sure the selectedOId is the same as the feature.attributes["OBJECTID"]
                console.error("selectedOId: " + selectedOID + " feature.attributes[OBJECTID]: " + feature.attributes["OBJECTID"]);
                return;
            }
            const approve_status_map = {
                1: "Approved",
                2: "Canceled",
                3: "Denied"
            };
            const application_name = feature.attributes["application"];
            const url = this.dataSourceUrl;
            let attr_approve_status = feature.attributes["approve_status"];
            if ((application_name == "Microgrid") || (application_name == "PSP")) {
                if (approve_status == 1) {
                    feature.attributes["request_type"] = "Email Verified";
                    console.log("Microgrid/PSP request Email Verified");
                }
                feature.attributes["approve_status"] = approve_status_map[approve_status]; // production one
            }
            else if (application_name == "ICA") {
                if (!attr_approve_status) {
                    feature.attributes["approve_status"] = approve_status_map[approve_status]; // production one
                }
                else {
                    //For Production 
                    console.log("Not possible for ICA request in production");
                    return;
                    //For harry testing purpose only in non production environment
                    //feature.attributes["quality_check"] += approve_status_map[approve_status][0];    
                    //feature.attributes["approve_status"] = null       // to roll back data from history request change showSempraButtons to true in config.json
                }
            }
            else {
                return; // not possible, just for additional check
            }
            feature.attributes["notes"] = "New26"; //To label the new way of approval
            //const _this = this
            this.updateFeatureLayer(url, feature).then(function (response) {
                if ("updateFeatureResults" in response) {
                    console.log(application_name + " " + approve_status_map[approve_status] + ". Update result: " + JSON.stringify(response.updateFeatureResults[0]));
                    // if (_this.table) {
                    //   if (_this.table.highlightIds) {
                    //     _this.table.highlightIds.removeAll()
                    //   }
                    //   _this.resetTable()
                    // }         
                }
            });
        });
        this.handleUserResponse = (response, feature) => {
            if (response) {
                // Handle the "Yes" response
                console.log('User confirmed the action.');
                this.updateRequest(feature, 1);
            }
            else {
                // Handle the "No" response
                console.log('User canceled the action.');
            }
            this.setState({ isModalOpen: false });
        };
        this.handleCancelWithEmail = () => {
            this.setState({ cancleWithEmailNotify: !this.state.cancleWithEmailNotify });
        };
        // queryFeatureLayer = async (layerURL: string, sqlQuery: string): Promise<Graphic[]> => {    
        //   const featureLayer: FeatureLayer = new FeatureLayer({
        //     url: layerURL
        //   });    
        //   let query = featureLayer.createQuery();
        //   query.where = sqlQuery;
        //   let results:any = []
        //   await featureLayer.queryFeatures(query)
        //     .then(function(response){        
        //       results = response.features
        //    })
        //    .catch(function(error) {
        //     console.error("Error querying feature layer:", error);
        //   });    
        //   return results
        // }
        /**
        * @public
        * function to update FeatureLayer
        * @param  {string} layerURL
        * @param  {@arcgis/core/Graphic} updateFeature
        * @return {Promise} Graphic[]
        */
        this.updateFeatureLayer = (layerURL, updateFeature) => __awaiter(this, void 0, void 0, function* () {
            const featureLayer = new _arcgis_core_layers_FeatureLayer__WEBPACK_IMPORTED_MODULE_24__["default"]({
                url: layerURL
            });
            const edits = {
                updateFeatures: [updateFeature]
            };
            let results = [];
            yield featureLayer.applyEdits(edits).then(function (response) {
                results = response;
                //response.updateFeatureResults[0]
            })
                .catch(function (error) {
                console.error("Error updateFeatureLayer:", error);
            });
            return results;
        });
        this.renderPermissionIssusPopup = () => {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null,
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Modal, { isOpen: this.state.isPermissionModalOpen, toggle: () => this.setState({ isPermissionModalOpen: !this.state.isPermissionModalOpen }) },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.ModalHeader, { toggle: () => this.setState({ isPermissionModalOpen: !this.state.isPermissionModalOpen }) }, "Permission Issue"),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.ModalBody, null, (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, "Please contact the support team and assign your Sempra AGOL account into appropriate group.")))));
        };
        this.state = {
            apiLoaded: false,
            dataSource: undefined,
            activeTabId: undefined,
            downloadOpen: false,
            searchText: '',
            selectQueryFlag: false,
            mobileFlag: false,
            searchToolFlag: false,
            bottomResponsiveFlag: false,
            tableShowColumns: undefined,
            isOpenSearchPopper: false,
            emptyTable: false,
            emptyData: false,
            selectRecords: [],
            notReady: false,
            selfDsChange: false,
            showLoading: false,
            interval: 0,
            autoRefreshLoadingString: '',
            isShowSuggestion: false,
            searchSuggestion: [],
            allowDel: true,
            tableLoaded: false,
            tableTotal: 0,
            tableSelected: 0,
            widgetWidth: ((_b = (_a = props === null || props === void 0 ? void 0 : props.manifest) === null || _a === void 0 ? void 0 : _a.defaultSize) === null || _b === void 0 ? void 0 : _b.width) || 600,
            isTableEditing: false,
            exbPrivilege: false,
            isModalOpen: false,
            isPermissionModalOpen: false,
            isProgressModalOpen: false,
            modalContent: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", null, "test"),
            cancleWithEmailNotify: false
        };
        this.dataSourceChange = false;
        this.dataActionCanLoad = true;
        this.dataActionTableRecords = {};
        this.updatingTable = false;
        this.removeConfig = false;
        this.currentRequestId = 0;
        this.viewTableId = 0;
        this.timerFn = null;
        this.lastSql = '';
        this.debounceOnResize = jimu_core__WEBPACK_IMPORTED_MODULE_0__.lodash.debounce((width, height) => { this.onToolStyleChange(width, height); }, 200);
        this.dsManager = jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceManager.getInstance();
        this.clickTimer = undefined;
    }
    static getDerivedStateFromProps(nextProps, prevState) {
        var _a;
        const { config } = nextProps;
        const { layersConfig } = config;
        const { activeTabId } = prevState;
        // get data-action table config
        const daLayersConfig = new Widget(nextProps).getDataActionTable();
        const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
        if ((!activeTabId || allLayersConfig.findIndex(x => x.id === activeTabId) < 0) && allLayersConfig.length > 0) {
            return {
                activeTabId: (_a = allLayersConfig[0]) === null || _a === void 0 ? void 0 : _a.id
            };
        }
        return null;
    }
    componentDidMount() {
        if (!this.state.apiLoaded) {
            (0,jimu_arcgis__WEBPACK_IMPORTED_MODULE_3__.loadArcGISJSAPIModules)([
                'esri/widgets/FeatureTable',
                'esri/layers/FeatureLayer',
                'esri/layers/ImageryLayer',
                'esri/layers/OrientedImageryLayer',
                'esri/widgets/FeatureTable/support/TableTemplate',
                'esri/geometry/geometryEngine',
                'esri/geometry/Polygon'
            ]).then(modules => {
                ;
                [this.FeatureTable, this.FeatureLayer, this.ImageryLayer, this.OrientedImageryLayer, this.TableTemplate, this.geometryEngine, this.Polygon] = modules;
                this.setState({
                    apiLoaded: true
                });
                this.destroyTable().then(() => {
                    this.createTable();
                });
            });
        }
    }
    componentWillUnmount() {
        const { id } = this.props;
        this.promises.forEach(p => { p.cancel(); });
        this.destroyTable();
        clearTimeout(this.suggestionsQueryTimeout);
        clearInterval(this.autoRefreshLoadingTime);
        jimu_core__WEBPACK_IMPORTED_MODULE_0__.MutableStoreManager.getInstance().updateStateValue(id, 'viewInTableObj', {});
    }
    componentDidUpdate(prevProps, prevState) {
        var _a, _b, _c, _d, _e, _f, _g;
        const { activeTabId, dataSource, tableLoaded, exbPrivilege } = this.state;
        const { id, config, currentPageId, state, appMode, viewInTableObj } = this.props;
        const { layersConfig } = config;
        const daLayersConfig = this.getDataActionTable();
        const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
        const dataActionActiveObj = (_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.stateProps) === null || _b === void 0 ? void 0 : _b.dataActionActiveObj;
        const newActiveTabId = (dataActionActiveObj === null || dataActionActiveObj === void 0 ? void 0 : dataActionActiveObj.dataActionTable) ? dataActionActiveObj === null || dataActionActiveObj === void 0 ? void 0 : dataActionActiveObj.activeTabId : activeTabId;
        // deal with runtime update caused by setting change
        this.onSettingChangeRuntime();
        // view in table filter change
        this.onFilterChange(newActiveTabId);
        // The activeTab change caused by setting
        const settingChangeTab = ((_d = (_c = this.props) === null || _c === void 0 ? void 0 : _c.stateProps) === null || _d === void 0 ? void 0 : _d.settingChangeTab) || false;
        const activeSettingTabId = (_f = (_e = this.props) === null || _e === void 0 ? void 0 : _e.stateProps) === null || _f === void 0 ? void 0 : _f.activeTabId;
        if (settingChangeTab && activeSettingTabId && (activeTabId !== activeSettingTabId)) {
            this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'settingChangeTab', false));
            if (appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run)
                this.onTagClick(activeSettingTabId);
        }
        // reset searchText and suggestion
        const controllerClose = state === jimu_core__WEBPACK_IMPORTED_MODULE_0__.WidgetState.Closed;
        const pageClose = prevProps.currentPageId !== currentPageId;
        const liveClose = prevProps.appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Run && appMode === jimu_core__WEBPACK_IMPORTED_MODULE_0__.AppMode.Design;
        if ((controllerClose || pageClose || liveClose) && this.table) {
            this.setState({ searchText: '', isShowSuggestion: false });
        }
        // config change
        const prevCurConfig = (_g = prevProps.config.layersConfig) === null || _g === void 0 ? void 0 : _g.asMutable({ deep: true }).concat(daLayersConfig).find(item => item.id === prevState.activeTabId);
        const newCurConfig = allLayersConfig.find(item => item.id === newActiveTabId);
        // check if the ds is available
        const dsAvailable = this.dsManager.getDataSource(dataSource === null || dataSource === void 0 ? void 0 : dataSource.id);
        // close table tab
        if (this.removeConfig) {
            this.removeConfig = false;
            if (!newCurConfig)
                return;
        }
        else {
            const viewInTableIds = viewInTableObj && Object.keys(viewInTableObj);
            if (((viewInTableIds === null || viewInTableIds === void 0 ? void 0 : viewInTableIds.length) === 0 && !prevCurConfig) || !newCurConfig)
                return;
        }
        // search close
        const orgSearchOn = (prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig.enableSearch) && (prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig.searchFields);
        const newSearchOn = (newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.enableSearch) && (newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.searchFields);
        if (orgSearchOn && !newSearchOn && dsAvailable) {
            dataSource.updateQueryParams(EMPTY_QUERY_PARAMS, id);
        }
        // delete option
        if ((newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.enableDelete) !== (prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig.enableDelete)) {
            this.setState({ allowDel: exbPrivilege && (newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.enableDelete) });
        }
        // setting options change
        const optionChangeFlag = this.settingOptionsChange(prevCurConfig, newCurConfig);
        const tabChange = !(dataActionActiveObj === null || dataActionActiveObj === void 0 ? void 0 : dataActionActiveObj.dataActionTable) && (prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig.id) !== (newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.id);
        const tableOptionChange = (prevCurConfig === null || prevCurConfig === void 0 ? void 0 : prevCurConfig.id) === (newCurConfig === null || newCurConfig === void 0 ? void 0 : newCurConfig.id) && optionChangeFlag;
        if (tabChange || tableOptionChange) {
            this.updatingTable = true;
            this.setState({
                searchText: '',
                isShowSuggestion: false,
                tableShowColumns: undefined,
                tableTotal: 0,
                tableSelected: 0,
                selectQueryFlag: false
            }, () => {
                // reset ds query
                dsAvailable && (dataSource === null || dataSource === void 0 ? void 0 : dataSource.updateQueryParams(EMPTY_QUERY_PARAMS, id));
                this.destroyTable().then(() => {
                    this.createTable();
                });
            });
            return;
        }
        // data-action: view in table
        if ((dataActionActiveObj === null || dataActionActiveObj === void 0 ? void 0 : dataActionActiveObj.dataActionTable) && this.dataActionCanLoad && !this.updatingTable) {
            this.dataActionCanLoad = false;
            this.props.dispatch(jimu_core__WEBPACK_IMPORTED_MODULE_0__.appActions.widgetStatePropChange(id, 'dataActionActiveObj', { activeTabId: newActiveTabId, dataActionTable: false }));
            this.updatingTable = true;
            this.setState({
                activeTabId: newActiveTabId,
                searchText: '',
                tableShowColumns: undefined
            }, () => {
                // reset ds query
                dsAvailable && (dataSource === null || dataSource === void 0 ? void 0 : dataSource.updateQueryParams(EMPTY_QUERY_PARAMS, id));
                this.destroyTable().then(() => {
                    this.createTable();
                });
            });
        }
        // sql change continuously
        if (tableLoaded && !prevState.tableLoaded && this.lastSql) {
            if (this.table.layer && 'definitionExpression' in this.table.layer) {
                this.table.layer.definitionExpression = this.lastSql;
                this.lastSql = '';
            }
        }
    }
    destroyTable() {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.table) {
                !this.table.destroyed && this.table.destroy();
            }
            // Clear table container after destroy table.
            if (this.refs.tableContainer) {
                this.refs.tableContainer.innerHTML = '';
            }
            yield Promise.resolve();
        });
    }
    render() {
        var _a, _b, _c, _d;
        const { activeTabId, mobileFlag, emptyTable, notReady, showLoading, interval, isShowSuggestion, searchSuggestion, tableTotal, tableSelected, widgetWidth } = this.state;
        let { dataSource } = this.state;
        const { config, id, theme, enableDataAction, isHeightAuto, isWidthAuto } = this.props;
        const { layersConfig, arrangeType } = config;
        // data-action Table
        const daLayersConfig = this.getDataActionTable();
        const allLayersConfig = layersConfig.asMutable({ deep: true }).concat(daLayersConfig);
        let useDataSource;
        const curLayer = allLayersConfig.find(item => item.id === activeTabId);
        if (curLayer === null || curLayer === void 0 ? void 0 : curLayer.dataActionDataSource)
            dataSource = curLayer.dataActionDataSource;
        if (allLayersConfig.length > 0) {
            useDataSource = curLayer
                ? curLayer.useDataSource
                : allLayersConfig[0].useDataSource;
        }
        const classes = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.classNames)('jimu-widget', 'widget-table', 'table-widget-' + id);
        if (allLayersConfig.length === 0) {
            return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.WidgetPlaceholder, { widgetId: id, iconSize: 'large', style: { position: 'absolute', left: 0, top: 0 }, icon: tablePlaceholderIcon, "data-testid": 'tablePlaceholder' }));
        }
        const horizontalTag = arrangeType === _config__WEBPACK_IMPORTED_MODULE_2__.TableArrangeType.Tabs;
        const dataSourceLabel = dataSource === null || dataSource === void 0 ? void 0 : dataSource.getLabel();
        const outputDsWidgetId = jimu_core__WEBPACK_IMPORTED_MODULE_0__.appConfigUtils.getWidgetIdByOutputDataSource(useDataSource);
        const appConfig = (_a = (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.getAppStore)().getState()) === null || _a === void 0 ? void 0 : _a.appConfig;
        const widgetLabel = (_c = (_b = appConfig === null || appConfig === void 0 ? void 0 : appConfig.widgets) === null || _b === void 0 ? void 0 : _b[outputDsWidgetId]) === null || _c === void 0 ? void 0 : _c.label;
        const partProps = { id, enableDataAction, isHeightAuto, isWidthAuto, headerFontSetting: curLayer === null || curLayer === void 0 ? void 0 : curLayer.headerFontSetting, emptyTable, horizontalTag, widgetWidth };
        const searchOn = (curLayer === null || curLayer === void 0 ? void 0 : curLayer.enableSearch) && ((_d = curLayer === null || curLayer === void 0 ? void 0 : curLayer.searchFields) === null || _d === void 0 ? void 0 : _d.length) !== 0;
        const toolListNode = mobileFlag ? this.renderDropdownToolList(curLayer, dataSource) : this.renderButtonToolList(curLayer, dataSource);
        const sempraButtons = mobileFlag ? "" : this.renderSempraButtons();
        const permissionIssusPopup = this.renderPermissionIssusPopup();
        // If 'view in table', use selection view
        const useLayerDs = curLayer.dataActionObject && curLayer.dataActionType === _config__WEBPACK_IMPORTED_MODULE_2__.TableDataActionType.View;
        return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: classes, css: (0,_style__WEBPACK_IMPORTED_MODULE_8__.getStyle)(theme, mobileFlag, searchOn, partProps), ref: el => (this.refs.currentEl = el) },
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'surface-1 border-0 h-100' },
                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-indent' },
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `d-flex ${horizontalTag ? 'horizontal-tag-list' : 'dropdown-tag-list'}` },
                        horizontalTag
                            ? ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_21__.Fragment, null,
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Tabs, { type: 'underline', onChange: this.onTagClick, className: 'tab-flex', value: activeTabId, onClose: this.onCloseTab, scrollable: true }, allLayersConfig.map(item => {
                                    const isDataAction = !!item.dataActionObject;
                                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Tab, { key: item.id, id: item.id, title: item.name, className: 'text-truncate tag-size', closeable: isDataAction },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'mt-2' })));
                                }))))
                            : ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Select, { size: 'sm', value: activeTabId, onChange: this.handleTagChange, className: 'top-drop' }, allLayersConfig.map(item => {
                                return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { key: item.id, value: item.id, title: item.name },
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-action-option' },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-action-option-tab', title: item.name }, item.name),
                                        item.dataActionObject &&
                                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-action-option-close' },
                                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { size: 'sm', icon: true, type: 'tertiary', onClick: (evt) => { this.onCloseTab(item.id, evt); } },
                                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_icons_outlined_editor_close__WEBPACK_IMPORTED_MODULE_12__.CloseOutlined, { size: 's' }))))));
                            }))),
                        !searchOn && toolListNode),
                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${arrangeType === _config__WEBPACK_IMPORTED_MODULE_2__.TableArrangeType.Tabs
                            ? 'horizontal-render-con'
                            : 'dropdown-render-con'}` },
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'table-header', ref: 'suggestPopup' },
                            searchOn && this.renderSearchTools(curLayer === null || curLayer === void 0 ? void 0 : curLayer.searchHint),
                            curLayer.showSempraButtons && sempraButtons,
                            searchOn &&
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Popper, { css: (0,_style__WEBPACK_IMPORTED_MODULE_8__.getSuggestionStyle)(), placement: 'bottom-start', reference: this.refs.suggestPopup, offset: [0, -2], open: isShowSuggestion, trapFocus: false, autoFocus: false, toggle: e => {
                                        this.setState({ isShowSuggestion: !isShowSuggestion });
                                    } }, searchSuggestion.map((suggestion, index) => {
                                    const suggestionHtml = sanitizer.sanitize(suggestion.suggestionHtml);
                                    return ((0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Button, { key: index, type: 'secondary', size: 'sm', onClick: () => { this.onSuggestionConfirm(suggestion.suggestion); }, dangerouslySetInnerHTML: { __html: suggestionHtml } }));
                                })),
                            searchOn && toolListNode),
                        emptyTable &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'placeholder-table-con' },
                                (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.WidgetPlaceholder, { icon: __webpack_require__(/*! ./assets/icon.svg */ "./your-extensions/widgets/sempra_hub-uar_table/src/runtime/assets/icon.svg"), message: this.formatMessage('noData') }),
                                notReady &&
                                    (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'placeholder-alert-con' },
                                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_ui__WEBPACK_IMPORTED_MODULE_5__.Alert, { form: 'tooltip', size: 'small', type: 'warning', text: this.formatMessage('outputDataIsNotGenerated', { outputDsLabel: dataSourceLabel, sourceWidgetName: widgetLabel }) }))),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { ref: 'tableContainer', className: 'table-con' }),
                        (curLayer === null || curLayer === void 0 ? void 0 : curLayer.updateText) && (showLoading || interval > 0) && this.renderLoading(showLoading, interval),
                        (curLayer === null || curLayer === void 0 ? void 0 : curLayer.showCount) && this.renderTableCount(tableTotal, tableSelected),
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: 'ds-container' }, (dataSource || useDataSource) &&
                            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.DataSourceComponent, { widgetId: id, useDataSource: (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.Immutable)(useDataSource), dataSource: useLayerDs ? dataSource : null, onDataSourceCreated: this.onDataSourceCreated, onCreateDataSourceFailed: this.onCreateDataSourceFailed, 
                                //onSelectionChange={this.onSelectionChange}
                                onDataSourceInfoChange: this.onDataSourceInfoChange, onQueryRequired: this.onQueryRequired })),
                        permissionIssusPopup,
                        (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_theme__WEBPACK_IMPORTED_MODULE_1__.Global, { styles: (0,_utils__WEBPACK_IMPORTED_MODULE_9__.getGlobalTableTools)(theme) })))),
            (0,jimu_core__WEBPACK_IMPORTED_MODULE_0__.jsx)(jimu_core__WEBPACK_IMPORTED_MODULE_0__.ReactResizeDetector, { handleWidth: true, handleHeight: true, onResize: this.debounceOnResize })));
    }
}
Widget.versionManager = _version_manager__WEBPACK_IMPORTED_MODULE_6__.versionManager;
Widget.mapExtraStateProps = (state, props) => {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0;
    const { layoutId, layoutItemId, id } = props;
    const currentWidget = (_b = (_a = state === null || state === void 0 ? void 0 : state.appConfig) === null || _a === void 0 ? void 0 : _a.widgets) === null || _b === void 0 ? void 0 : _b[id];
    const enableDataAction = currentWidget === null || currentWidget === void 0 ? void 0 : currentWidget.enableDataAction;
    const appConfig = state && state.appConfig;
    const layout = (_c = appConfig.layouts) === null || _c === void 0 ? void 0 : _c[layoutId];
    const layoutSetting = (_e = (_d = layout === null || layout === void 0 ? void 0 : layout.content) === null || _d === void 0 ? void 0 : _d[layoutItemId]) === null || _e === void 0 ? void 0 : _e.setting;
    const isHeightAuto = ((_f = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _f === void 0 ? void 0 : _f.height) === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_7__.LayoutItemSizeModes.Auto ||
        ((_g = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _g === void 0 ? void 0 : _g.height) === true;
    const isWidthAuto = ((_h = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _h === void 0 ? void 0 : _h.width) === jimu_layouts_layout_runtime__WEBPACK_IMPORTED_MODULE_7__.LayoutItemSizeModes.Auto ||
        ((_j = layoutSetting === null || layoutSetting === void 0 ? void 0 : layoutSetting.autoProps) === null || _j === void 0 ? void 0 : _j.width) === true;
    // runtime ds info map(eg. add data widget)
    const runtimeDataSourceInfos = {};
    const updatedViewInTableObj = (_k = props === null || props === void 0 ? void 0 : props.mutableStateProps) === null || _k === void 0 ? void 0 : _k.viewInTableObj;
    for (const key in updatedViewInTableObj) {
        // update label
        const newLabel = (_p = (_o = (_m = (_l = updatedViewInTableObj[key]) === null || _l === void 0 ? void 0 : _l.daLayerItem) === null || _m === void 0 ? void 0 : _m.dataActionDataSource) === null || _o === void 0 ? void 0 : _o.dataSourceJson) === null || _p === void 0 ? void 0 : _p.label;
        if (newLabel)
            updatedViewInTableObj[key].daLayerItem.name = newLabel;
        // update runtime dataSource info
        const dataActionDataSourceId = (_s = (_r = (_q = updatedViewInTableObj[key]) === null || _q === void 0 ? void 0 : _q.daLayerItem) === null || _r === void 0 ? void 0 : _r.dataActionDataSource) === null || _s === void 0 ? void 0 : _s.id;
        const dataActionDataSourceInfo = (_v = (_u = (_t = updatedViewInTableObj[key]) === null || _t === void 0 ? void 0 : _t.daLayerItem) === null || _u === void 0 ? void 0 : _u.dataActionDataSource) === null || _v === void 0 ? void 0 : _v.getInfo();
        runtimeDataSourceInfos[`${runtimeDataSourceKey}_${dataActionDataSourceId}`] = dataActionDataSourceInfo;
    }
    return Object.assign(Object.assign({ appMode: (_w = state === null || state === void 0 ? void 0 : state.appRuntimeInfo) === null || _w === void 0 ? void 0 : _w.appMode, isRTL: (_x = state === null || state === void 0 ? void 0 : state.appContext) === null || _x === void 0 ? void 0 : _x.isRTL, stateShowLoading: (_z = (_y = state === null || state === void 0 ? void 0 : state.widgetsState) === null || _y === void 0 ? void 0 : _y[props.id]) === null || _z === void 0 ? void 0 : _z.showLoading, currentPageId: (_0 = state === null || state === void 0 ? void 0 : state.appRuntimeInfo) === null || _0 === void 0 ? void 0 : _0.currentPageId, viewInTableObj: updatedViewInTableObj, enableDataAction: enableDataAction === undefined ? true : enableDataAction }, runtimeDataSourceInfos), { isHeightAuto,
        isWidthAuto });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Widget);
function __set_webpack_public_path__(url) { __webpack_require__.p = url; }

})();

/******/ 	return __webpack_exports__;
/******/ })()

			);
		}
	};
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2lkZ2V0cy9zZW1wcmFfaHViLXVhcl90YWJsZS9kaXN0L3J1bnRpbWUvd2lkZ2V0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3NIO0FBQ2pCO0FBQ3JHLDhCQUE4QixtRkFBMkIsQ0FBQyw0RkFBcUM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLE9BQU8sNElBQTRJLFdBQVcsV0FBVyx1RUFBdUUsa0hBQWtILEtBQUssbUJBQW1CO0FBQzNYO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUM7Ozs7Ozs7Ozs7OztBQ1YxQjs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxQkFBcUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysc0ZBQXNGLHFCQUFxQjtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsaURBQWlELHFCQUFxQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysc0RBQXNELHFCQUFxQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7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QUFFLFdBQUssYUFBTCxLQUFLLHVCQUFMLEtBQUssQ0FBRSxjQUFjLDBDQUFFLGFBQWEsRUFDbkQsY0FBYyxFQUFFLHFCQUFxQixFQUNyQyxnQkFBZ0IsRUFBRSxnQkFBZ0IsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLElBQ3ZFLHNCQUFzQixLQUN6QixZQUFZO1FBQ1osV0FBVyxJQUNaO0FBQ0gsQ0FBQztpRUFyRmtCLE1BQU07QUFraUZuQixTQUFTLDJCQUEyQixDQUFDLEdBQUcsSUFBSSxxQkFBdUIsR0FBRyxHQUFHLEVBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zZW1wcmFfaHViLXVhcl90YWJsZS9zcmMvcnVudGltZS9zdHlsZV93aWRnZXQuY3NzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvc2VtcHJhX2h1Yi11YXJfdGFibGUvc3JjL3J1bnRpbWUvc3R5bGVfd2lkZ2V0LmNzcz9lMGRkIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2FwcGxpY2F0aW9uL21vcmUtaG9yaXpvbnRhbC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL2Fycm93LWxlZnQuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvY2xlYXItc2VsZWN0aW9uLWdlbmVyYWwuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvY2xvc2Uuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvbGlzdC12aXNpYmxlLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9zdmcvb3V0bGluZWQvZWRpdG9yL21lbnUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3IvcmVmcmVzaC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9zZWFyY2guc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL3N2Zy9vdXRsaW5lZC9lZGl0b3Ivc2hvdy1zZWxlY3Rpb24tLXJ0bC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci9zaG93LXNlbGVjdGlvbi5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmciLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvc3ZnL291dGxpbmVkL3N1Z2dlc3RlZC9pbmZvLnN2ZyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvc2VtcHJhX2h1Yi11YXJfdGFibGUvc3JjL3J1bnRpbWUvYXNzZXRzL2ljb24uc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zZW1wcmFfaHViLXVhcl90YWJsZS9zcmMvcnVudGltZS9hc3NldHMvaWNvbnMvcGxhY2Vob2xkZXItdGFibGUuc3ZnIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2FwcGxpY2F0aW9uL21vcmUtaG9yaXpvbnRhbC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctbGVmdC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2NsZWFyLXNlbGVjdGlvbi1nZW5lcmFsLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvY2xvc2UudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9saXN0LXZpc2libGUudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL2VkaXRvci9tZW51LnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvcmVmcmVzaC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3NlYXJjaC50c3giLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL3Nob3ctc2VsZWN0aW9uLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4vamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvdHJhc2gudHN4Iiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWljb25zL291dGxpbmVkL3N1Z2dlc3RlZC9pbmZvLnRzeCIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvc2VtcHJhX2h1Yi11YXJfdGFibGUvc3JjL2NvbmZpZy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvc2VtcHJhX2h1Yi11YXJfdGFibGUvc3JjL3J1bnRpbWUvc3R5bGUudHMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL3NlbXByYV9odWItdWFyX3RhYmxlL3NyYy9ydW50aW1lL3RyYW5zbGF0aW9ucy9kZWZhdWx0LnRzIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi95b3VyLWV4dGVuc2lvbnMvd2lkZ2V0cy9zZW1wcmFfaHViLXVhcl90YWJsZS9zcmMvcnVudGltZS91dGlscy50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvc2VtcHJhX2h1Yi11YXJfdGFibGUvc3JjL3ZlcnNpb24tbWFuYWdlci50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImVzcmkvY29yZS9yZWFjdGl2ZVV0aWxzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJlc3JpL2xheWVycy9GZWF0dXJlTGF5ZXJcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtYXJjZ2lzXCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWNvcmVcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtY29yZS9kYXRhLXNvdXJjZVwiIiwid2VicGFjazovL2V4Yi1jbGllbnQvZXh0ZXJuYWwgc3lzdGVtIFwiamltdS1jb3JlL3JlYWN0XCIiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC9leHRlcm5hbCBzeXN0ZW0gXCJqaW11LWxheW91dHMvbGF5b3V0LXJ1bnRpbWVcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtdGhlbWVcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L2V4dGVybmFsIHN5c3RlbSBcImppbXUtdWlcIiIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZXhiLWNsaWVudC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9leGItY2xpZW50L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2V4Yi1jbGllbnQvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2V4Yi1jbGllbnQvLi9qaW11LWNvcmUvbGliL3NldC1wdWJsaWMtcGF0aC50cyIsIndlYnBhY2s6Ly9leGItY2xpZW50Ly4veW91ci1leHRlbnNpb25zL3dpZGdldHMvc2VtcHJhX2h1Yi11YXJfdGFibGUvc3JjL3J1bnRpbWUvd2lkZ2V0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLnBsYWNlaG9sZGVyLWluUHJvZ3Jlc3MtbW9kYWwgLm1vZGFsLWNvbnRlbnQge1xuICAvKlRoaXMgaXMgdXNlZCB0byBkaXNwbGF5IHRoZSBpbiBwcm9ncmVzcyBsb2FkaW5nIGljb24uIE5vdCB1c2VkIGF0IHRoZSBtb21lbnQqL1xuICBkaXNwbGF5OiBjb250ZW50cztcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3lvdXItZXh0ZW5zaW9ucy93aWRnZXRzL3NlbXByYV9odWItdWFyX3RhYmxlL3NyYy9ydW50aW1lL3N0eWxlX3dpZGdldC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDSSwrRUFBQTtFQUNBLGlCQUFBO0FBQ0pcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLnBsYWNlaG9sZGVyLWluUHJvZ3Jlc3MtbW9kYWwgLm1vZGFsLWNvbnRlbnQge1xcclxcbiAgICAvKlRoaXMgaXMgdXNlZCB0byBkaXNwbGF5IHRoZSBpbiBwcm9ncmVzcyBsb2FkaW5nIGljb24uIE5vdCB1c2VkIGF0IHRoZSBtb21lbnQqL1xcclxcbiAgICBkaXNwbGF5OiBjb250ZW50cztcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLnVzZVsxXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS11cmwtbG9hZGVyL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbM10udXNlWzNdIS4vc3R5bGVfd2lkZ2V0LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLnVzZVsxXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvcmVzb2x2ZS11cmwtbG9hZGVyL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzNdLnVzZVsyXSEuLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanM/P3J1bGVTZXRbMV0ucnVsZXNbM10udXNlWzNdIS4vc3R5bGVfd2lkZ2V0LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTIgN2ExIDEgMCAxIDAgMCAyIDEgMSAwIDAgMCAwLTJtNSAxYTEgMSAwIDEgMSAyIDAgMSAxIDAgMCAxLTIgMG02IDBhMSAxIDAgMSAxIDIgMCAxIDEgMCAwIDEtMiAwXFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNMTUgNy41YS41Mi41MiAwIDAgMS0uNTE2LjUyN0gyLjk3Nkw2LjQ3MyAxMS42YS41MzUuNTM1IDAgMCAxIDAgLjc0Ni41MS41MSAwIDAgMS0uNzMgMEwxIDcuNWw0Ljc0My00Ljg0NmEuNTEuNTEgMCAwIDEgLjczIDAgLjUzNS41MzUgMCAwIDEgMCAuNzQ2TDIuOTc2IDYuOTczaDExLjUwOGMuMjg1IDAgLjUxNi4yMzYuNTE2LjUyN1xcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTdcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTAgMTJ2LTEuNWgxVjEyaDEuNXYxSDFhMSAxIDAgMCAxLTEtMU0xIDFoMS41djFIMXYxLjVIMFYyYTEgMSAwIDAgMSAxLTFtMCA3LjVIMHYtM2gxek00LjUgMlYxaDN2MXptNSAwVjFIMTFhMSAxIDAgMCAxIDEgMXYxLjVoLTFWMnptNC44MTMgMTQuMDItMy41MzUtMy41MzUtMy41MzYgMy41MzUtLjcwNy0uNzA3IDMuNTM2LTMuNTM1LTMuNTM2LTMuNTM2LjcwNy0uNzA3IDMuNTM2IDMuNTM2IDMuNTM1LTMuNTM2LjcwNy43MDctMy41MzUgMy41MzYgMy41MzUgMy41MzV6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJtOC43NDUgOCA2LjEgNi4xYS41MjcuNTI3IDAgMSAxLS43NDUuNzQ2TDggOC43NDZsLTYuMSA2LjFhLjUyNy41MjcgMCAxIDEtLjc0Ni0uNzQ2bDYuMS02LjEtNi4xLTYuMWEuNTI3LjUyNyAwIDAgMSAuNzQ2LS43NDZsNi4xIDYuMSA2LjEtNi4xYS41MjcuNTI3IDAgMCAxIC43NDYuNzQ2elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIk0xNiAwSDB2MWgxNnpcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk01IDExYTMgMyAwIDEgMCA2IDAgMyAzIDAgMCAwLTYgMG0zIDJhMiAyIDAgMSAwIDAtNCAyIDIgMCAwIDAgMCA0XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBmaWxsLXJ1bGU9XFxcImV2ZW5vZGRcXFwiIGQ9XFxcIk04IDZxMy44NzQgMCA3Ljc1IDQuMzQ5YS45Ny45NyAwIDAgMSAwIDEuMzAyUTExLjg3NCAxNi4wMDEgOCAxNlQuMjUgMTEuNjUxYS45Ny45NyAwIDAgMSAwLTEuMzAyUTQuMTI2IDUuOTk5IDggNm0wIDFjLTIuMjM3IDAtNC41NTggMS4zMDMtNi45NjEgNCAyLjQwMyAyLjY5OCA0LjcyNCA0IDYuOTYgNCAyLjIzOCAwIDQuNTU5LTEuMzAzIDYuOTYyLTRDMTIuNTU4IDguMzAzIDEwLjIzNyA3IDggN1xcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZD1cXFwiTTAgM2gxM3YxSDB6TTMgNkgwdjFoM3pcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNLjQzOCAxQy4xOTYgMSAwIDEuMjI0IDAgMS41cy4xOTYuNS40MzguNWgxNS4xMjVjLjI0MSAwIC40MzctLjIyNC40MzctLjVzLS4xOTYtLjUtLjQzNy0uNXpNMCA3LjVjMC0uMjc2LjE5Ni0uNS40MzgtLjVoMTUuMTI1Yy4yNDEgMCAuNDM3LjIyNC40MzcuNXMtLjE5Ni41LS40MzcuNUguNDM4Qy4xOTYgOCAwIDcuNzc2IDAgNy41TTAgMTMuNWMwLS4yNzYuMTk2LS41LjQzOC0uNWgxNS4xMjVjLjI0MSAwIC40MzcuMjI0LjQzNy41cy0uMTk2LjUtLjQzNy41SC40MzhDLjE5NiAxNCAwIDEzLjc3NiAwIDEzLjVcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNNy45ODYgMWE2Ljk5IDYuOTkgMCAwIDEgNS43MjMgMi45NjlsLTIuNTUxLS45MzhhLjUuNSAwIDEgMC0uMzQ1LjkzOGw0LjIyOCAxLjU1NS4xNjMtLjk0NC4wMTMtLjAwNS0uMDA5LS4wMTkuNi0zLjQ3MWEuNS41IDAgMSAwLS45ODUtLjE3bC0uNDAzIDIuMzNBOCA4IDAgMCAwIDAgNy41Yy0uMDE2LjI3Ny4yMS41MDEuNDg2LjUwMWEuNTMuNTMgMCAwIDAgLjUxNy0uNUE3IDcgMCAwIDEgNy45ODYgMU04LjAxNSAxNWE2Ljk5IDYuOTkgMCAwIDEtNS43MjQtMi45NjlsMi41NTEuOTM4YS40OTcuNDk3IDAgMCAwIC42NDItLjI5Ni41LjUgMCAwIDAtLjI5Ny0uNjQyTC45NiAxMC40NzZsLS4xNjMuOTQ0LS4wMTMuMDA1LjAwOS4wMTktLjYgMy40NzFhLjUuNSAwIDEgMCAuOTg1LjE3bC40MDMtMi4zM0E4IDggMCAwIDAgMTYgOC41YS40NzcuNDc3IDAgMCAwLS40ODUtLjUwMS41My41MyAwIDAgMC0uNTE4LjVBNyA3IDAgMCAxIDguMDE1IDE1XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAxNiAxNlxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMTIgNi41YTUuNSA1LjUgMCAxIDEtMTEgMCA1LjUgNS41IDAgMCAxIDExIDBtLTEuMjcgNC45MzZhNi41IDYuNSAwIDEgMSAuNzA3LS43MDdsNC4xMzYgNC4xMzdhLjUuNSAwIDEgMS0uNzA3LjcwN3pcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTE1Ljg4IDIuODI1YS41LjUgMCAwIDAtLjc1OS0uNjVsLTIuMzIzIDIuNzEtMS4yNjUtMS4yNjVhLjUuNSAwIDEgMC0uNzA3LjcwN2wxLjI2NSAxLjI2NWExIDEgMCAwIDAgMS40NjYtLjA1NnptMCA4YS41LjUgMCAwIDAtLjc1OS0uNjVsLTIuMzIzIDIuNzEtMS4yNjUtMS4yNjVhLjUuNSAwIDEgMC0uNzA3LjcwOGwxLjI2NSAxLjI2NGExIDEgMCAwIDAgMS40NjYtLjA1NnpNOSA0LjVhLjUuNSAwIDAgMS0uNS41aC04YS41LjUgMCAwIDEgMC0xaDhhLjUuNSAwIDAgMSAuNS41TTguNSAxM2EuNS41IDAgMCAwIDAtMWgtOGEuNS41IDAgMCAwIDAgMXpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTE2IDQuNWEuNS41IDAgMCAxLS41LjVoLThhLjUuNSAwIDAgMSAwLTFoOGEuNS41IDAgMCAxIC41LjVNMTYgMTIuNWEuNS41IDAgMCAxLS41LjVoLThhLjUuNSAwIDAgMSAwLTFoOGEuNS41IDAgMCAxIC41LjVNNS4xNDYgMi4xMmEuNS41IDAgMCAxIC4wNTUuNzA1bC0yLjMyNCAyLjcxYTEgMSAwIDAgMS0xLjQ2Ni4wNTdMLjE0NiA0LjMyN2EuNS41IDAgMCAxIC43MDgtLjcwN2wxLjI2NCAxLjI2NSAyLjMyMy0yLjcxYS41LjUgMCAwIDEgLjcwNS0uMDU1TTUuMTQ2IDEwLjEyYS41LjUgMCAwIDEgLjA1NS43MDVsLTIuMzI0IDIuNzFhMSAxIDAgMCAxLTEuNDY2LjA1N0wuMTQ2IDEyLjMyOGEuNS41IDAgMSAxIC43MDgtLjcwOGwxLjI2NCAxLjI2NSAyLjMyMy0yLjcxYS41LjUgMCAwIDEgLjcwNS0uMDU1XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgZmlsbD1cXFwibm9uZVxcXCIgdmlld0JveD1cXFwiMCAwIDE2IDE2XFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNNiA2LjVhLjUuNSAwIDAgMSAxIDB2NmEuNS41IDAgMCAxLTEgMHpNOS41IDZhLjUuNSAwIDAgMC0uNS41djZhLjUuNSAwIDAgMCAxIDB2LTZhLjUuNSAwIDAgMC0uNS0uNVxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTExIDBINWExIDEgMCAwIDAtMSAxdjJILjVhLjUuNSAwIDAgMCAwIDFoMS42bC44MSAxMS4xYTEgMSAwIDAgMCAuOTk1LjloOC4xOWExIDEgMCAwIDAgLjk5NS0uOUwxMy45IDRoMS42YS41LjUgMCAwIDAgMC0xSDEyVjFhMSAxIDAgMCAwLTEtMW0wIDNWMUg1djJ6bTEuODk1IDFoLTkuNzlsLjggMTFoOC4xOXpcXFwiIGNsaXAtcnVsZT1cXFwiZXZlbm9kZFxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiBmaWxsPVxcXCJub25lXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTYgMTZcXFwiPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGQ9XFxcIk04IDUuNWExIDEgMCAxIDAgMC0yIDEgMSAwIDAgMCAwIDJNNi41IDcuNUEuNS41IDAgMCAxIDcgN2gxLjV2NC41aDFhLjUuNSAwIDAgMSAwIDFoLTNhLjUuNSAwIDAgMSAwLTFoMVY4SDdhLjUuNSAwIDAgMS0uNS0uNVxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTggMTZBOCA4IDAgMSAxIDggMGE4IDggMCAwIDEgMCAxNm0wLTFBNyA3IDAgMSAwIDggMWE3IDcgMCAwIDAgMCAxNFxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCAyMCAyMFxcXCI+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMiAxaDE2YTEgMSAwIDAgMSAxIDF2NUgxVjJhMSAxIDAgMCAxIDEtMW0xMSA3SDd2M2g2em0wIDRIN3YzaDZ6bTEgM3YtM2g1djN6bS0xIDFIN3YzaDZ6bTEgM2g0YTEgMSAwIDAgMCAxLTF2LTJoLTV6bTAtOFY4aDV2M3pNMSA4aDV2M0gxem0wIDRoNXYzSDF6bTAgNGg1djNIMmExIDEgMCAwIDEtMS0xek0wIDJhMiAyIDAgMCAxIDItMmgxNmEyIDIgMCAwIDEgMiAydjE2YTIgMiAwIDAgMS0yIDJIMmEyIDIgMCAwIDEtMi0yelxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxucz1cXFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcXFwiIGZpbGw9XFxcIm5vbmVcXFwiIHZpZXdCb3g9XFxcIjAgMCA0MDAgNDAwXFxcIj48cGF0aCBmaWxsPVxcXCIjMDAwXFxcIiBkPVxcXCJNMCAwaDQwMHY0MEgwelxcXCI+PC9wYXRoPjxwYXRoIGZpbGw9XFxcIiMwMDBcXFwiIGZpbGwtcnVsZT1cXFwiZXZlbm9kZFxcXCIgZD1cXFwiTTgwIDU1SDIwdjloNjB6bTEwMCAwaC02MHY5aDYwem00MCAwaDYwdjloLTYwem0xNjAgMGgtNjB2OWg2MHpNMjAgMTM1aDYwdjlIMjB6bTE2MCAwaC02MHY5aDYwem00MCAwaDYwdjloLTYwem0xNjAgMGgtNjB2OWg2MHpNMjAgMjE1aDYwdjlIMjB6bTE2MCAwaC02MHY5aDYwem00MCAwaDYwdjloLTYwem0xNjAgMGgtNjB2OWg2MHpNMjAgMjk1aDYwdjlIMjB6bTE2MCAwaC02MHY5aDYwem00MCAwaDYwdjloLTYwem0xNjAgMGgtNjB2OWg2MHpNMjAgOTVoNjB2OUgyMHptMTYwIDBoLTYwdjloNjB6bTQwIDBoNjB2OWgtNjB6bTE2MCAwaC02MHY5aDYwek0yMCAxNzVoNjB2OUgyMHptMTYwIDBoLTYwdjloNjB6bTQwIDBoNjB2OWgtNjB6bTE2MCAwaC02MHY5aDYwek0yMCAyNTVoNjB2OUgyMHptMTYwIDBoLTYwdjloNjB6bTQwIDBoNjB2OWgtNjB6bTE2MCAwaC02MHY5aDYwek0yMCAzMzRoNjB2OUgyMHptMTYwIDBoLTYwdjloNjB6bTQwIDBoNjB2OWgtNjB6bTE2MCAwaC02MHY5aDYwek0yMCAzNzRoNjB2OUgyMHptMTYwIDBoLTYwdjloNjB6bTQwIDBoNjB2OWgtNjB6bTE2MCAwaC02MHY5aDYwelxcXCIgY2xpcC1ydWxlPVxcXCJldmVub2RkXFxcIj48L3BhdGg+PHBhdGggZmlsbD1cXFwiIzAwMFxcXCIgZmlsbC1ydWxlPVxcXCJldmVub2RkXFxcIiBkPVxcXCJNMCAzOWgxdjQwaDk4VjM5aDF2NDBoOTlWMzloMXY0MGg5OVYzOWgxdjQwaDk5VjM5aDF2MzYwaC0xdi00MGgtOTl2NDBoOTl2MUgwVjM5bTEgMzIwdjQwaDk4di00MHptOTgtMUgxdi0zOWg5OHptMSAxdjQwaDk5di00MHptOTktMWgtOTl2LTM5aDk5em0xIDF2NDBoOTl2LTQwem05OS0xaC05OXYtMzloOTl6bTEgMGg5OXYtMzloLTk5ek0xIDMxOHYtMzhoOTh2Mzh6bTk5IDB2LTM4aDk5djM4em0wLTM5aDk5di0zOWgtOTl6bTEwMCAzOXYtMzhoOTl2Mzh6bTAtMzloOTl2LTM5aC05OXptMTAwIDM5di0zOGg5OXYzOHptMC0zOWg5OXYtMzloLTk5ek0xIDI3OWg5OHYtMzlIMXptMC03OXYzOWg5OHYtMzl6bTk4LTFIMXYtMzloOTh6bTEgMXYzOWg5OXYtMzl6bTk5LTFoLTk5di0zOWg5OXptMSAxdjM5aDk5di0zOXptOTktMWgtOTl2LTM5aDk5em0xIDF2MzloOTl2LTM5em05OS0xaC05OXYtMzloOTl6TTEgMTU5di0zOWg5OHYzOXptOTkgMHYtMzloOTl2Mzl6bTAtNDBoOTlWODBoLTk5em0xMDAgNDB2LTM5aDk5djM5em0wLTQwaDk5VjgwaC05OXptMTAwIDQwdi0zOWg5OXYzOXptMC00MGg5OVY4MGgtOTl6TTEgMTE5aDk4VjgwSDF6XFxcIiBjbGlwLXJ1bGU9XFxcImV2ZW5vZGRcXFwiPjwvcGF0aD48L3N2Zz5cIiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvYXBwbGljYXRpb24vbW9yZS1ob3Jpem9udGFsLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBNb3JlSG9yaXpvbnRhbE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2RpcmVjdGlvbmFsL2Fycm93LWxlZnQuc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IEFycm93TGVmdE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9jbGVhci1zZWxlY3Rpb24tZ2VuZXJhbC5zdmcnXHJcblxyXG5leHBvcnQgY29uc3QgQ2xlYXJTZWxlY3Rpb25HZW5lcmFsT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XHJcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xyXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXHJcblxyXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcclxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cclxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL2Nsb3NlLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBDbG9zZU91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9saXN0LXZpc2libGUuc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IExpc3RWaXNpYmxlT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XHJcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xyXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXHJcblxyXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCcsIGNsYXNzTmFtZSlcclxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cclxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSB7Li4ub3RoZXJzfSAvPlxyXG59XHJcbiIsImltcG9ydCB7IFJlYWN0LCBjbGFzc05hbWVzIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIFNWR0NvbXBvbmVudFByb3BzIH0gZnJvbSAnamltdS11aSdcclxuaW1wb3J0IHNyYyBmcm9tICcuLi8uLi9zdmcvb3V0bGluZWQvZWRpdG9yL21lbnUuc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IE1lbnVPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9lZGl0b3IvcmVmcmVzaC5zdmcnXHJcblxyXG5leHBvcnQgY29uc3QgUmVmcmVzaE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9zZWFyY2guc3ZnJ1xyXG5cclxuZXhwb3J0IGNvbnN0IFNlYXJjaE91dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9zaG93LXNlbGVjdGlvbi5zdmcnXHJcbmltcG9ydCBzcmNSVEwgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci9zaG93LXNlbGVjdGlvbi0tcnRsLnN2ZydcclxuXHJcbmV4cG9ydCBjb25zdCBTaG93U2VsZWN0aW9uT3V0bGluZWQgPSAocHJvcHM6IFNWR0NvbXBvbmVudFByb3BzKSA9PiB7XHJcbiAgY29uc3QgU1ZHID0gd2luZG93LlNWR1xyXG4gIGNvbnN0IHsgY2xhc3NOYW1lLCAuLi5vdGhlcnMgfSA9IHByb3BzXHJcblxyXG4gIGNvbnN0IGNsYXNzZXMgPSBjbGFzc05hbWVzKCdqaW11LWljb24gamltdS1pY29uLWNvbXBvbmVudCBoYXMtcnRsLXN2ZycsIGNsYXNzTmFtZSlcclxuICBpZiAoIVNWRykgcmV0dXJuIDxzdmcgY2xhc3NOYW1lPXtjbGFzc2VzfSB7Li4ub3RoZXJzIGFzIGFueX0gLz5cclxuICByZXR1cm4gPFNWRyBjbGFzc05hbWU9e2NsYXNzZXN9IHNyYz17c3JjfSBzcmNSVEw9e3NyY1JUTH0gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQgeyBSZWFjdCwgY2xhc3NOYW1lcyB9IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgdHlwZSBTVkdDb21wb25lbnRQcm9wcyB9IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCBzcmMgZnJvbSAnLi4vLi4vc3ZnL291dGxpbmVkL2VkaXRvci90cmFzaC5zdmcnXHJcblxyXG5leHBvcnQgY29uc3QgVHJhc2hPdXRsaW5lZCA9IChwcm9wczogU1ZHQ29tcG9uZW50UHJvcHMpID0+IHtcclxuICBjb25zdCBTVkcgPSB3aW5kb3cuU1ZHXHJcbiAgY29uc3QgeyBjbGFzc05hbWUsIC4uLm90aGVycyB9ID0gcHJvcHNcclxuXHJcbiAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoJ2ppbXUtaWNvbiBqaW11LWljb24tY29tcG9uZW50JywgY2xhc3NOYW1lKVxyXG4gIGlmICghU1ZHKSByZXR1cm4gPHN2ZyBjbGFzc05hbWU9e2NsYXNzZXN9IHsuLi5vdGhlcnMgYXMgYW55fSAvPlxyXG4gIHJldHVybiA8U1ZHIGNsYXNzTmFtZT17Y2xhc3Nlc30gc3JjPXtzcmN9IHsuLi5vdGhlcnN9IC8+XHJcbn1cclxuIiwiaW1wb3J0IHsgUmVhY3QsIGNsYXNzTmFtZXMgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IHR5cGUgU1ZHQ29tcG9uZW50UHJvcHMgfSBmcm9tICdqaW11LXVpJ1xyXG5pbXBvcnQgc3JjIGZyb20gJy4uLy4uL3N2Zy9vdXRsaW5lZC9zdWdnZXN0ZWQvaW5mby5zdmcnXHJcblxyXG5leHBvcnQgY29uc3QgSW5mb091dGxpbmVkID0gKHByb3BzOiBTVkdDb21wb25lbnRQcm9wcykgPT4ge1xyXG4gIGNvbnN0IFNWRyA9IHdpbmRvdy5TVkdcclxuICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ub3RoZXJzIH0gPSBwcm9wc1xyXG5cclxuICBjb25zdCBjbGFzc2VzID0gY2xhc3NOYW1lcygnamltdS1pY29uIGppbXUtaWNvbi1jb21wb25lbnQnLCBjbGFzc05hbWUpXHJcbiAgaWYgKCFTVkcpIHJldHVybiA8c3ZnIGNsYXNzTmFtZT17Y2xhc3Nlc30gey4uLm90aGVycyBhcyBhbnl9IC8+XHJcbiAgcmV0dXJuIDxTVkcgY2xhc3NOYW1lPXtjbGFzc2VzfSBzcmM9e3NyY30gey4uLm90aGVyc30gLz5cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIHR5cGUgSW1tdXRhYmxlT2JqZWN0LFxyXG4gIHR5cGUgSW1tdXRhYmxlQXJyYXksXHJcbiAgdHlwZSBJTUZpZWxkU2NoZW1hLFxyXG4gIHR5cGUgRGF0YVNvdXJjZSxcclxuICB0eXBlIFVzZURhdGFTb3VyY2VcclxufSBmcm9tICdqaW11LWNvcmUnXHJcblxyXG5leHBvcnQgZW51bSBUYWJsZUFycmFuZ2VUeXBlIHtcclxuICBEcm9wZG93biA9ICdEUk9QRE9XTicsXHJcbiAgVGFicyA9ICdUQUJTJ1xyXG59XHJcblxyXG5leHBvcnQgZW51bSBTZWxlY3Rpb25Nb2RlVHlwZSB7XHJcbiAgU2luZ2xlID0gJ1NJTkdMRScsXHJcbiAgTXVsdGlwbGUgPSAnTVVMVElQTEUnXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIExheWVySG9ub3JNb2RlVHlwZSB7XHJcbiAgV2VibWFwID0gJ1dFQk1BUCcsXHJcbiAgQ3VzdG9tID0gJ0NVU1RPTSdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdWdnZXN0aW9uIHtcclxuICBzdWdnZXN0aW9uSHRtbDogc3RyaW5nIHwgRWxlbWVudFxyXG4gIHN1Z2dlc3Rpb246IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlRmllbGRzU2NoZW1hIGV4dGVuZHMgSU1GaWVsZFNjaGVtYSB7XHJcbiAgZWRpdEF1dGhvcml0eT86IGJvb2xlYW5cclxuICBlZGl0YWJsZT86IGJvb2xlYW5cclxuICB2aXNpYmxlPzogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgZW51bSBSZXNwb25zaXZlVHlwZSB7XHJcbiAgRml0ID0gJ0ZJVCcsXHJcbiAgRml4ZWQgPSAnRklYRUQnXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uU2l6aW5nIHtcclxuICByZXNwb25zaXZlVHlwZTogUmVzcG9uc2l2ZVR5cGVcclxuICBjb2x1bW5XaWR0aDogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSGVhZGVyQXR0cnMge1xyXG4gIGJhY2tncm91bmRDb2xvcjogc3RyaW5nXHJcbiAgZm9udFNpemU6IG51bWJlclxyXG4gIGJvbGQ6IGJvb2xlYW5cclxuICBjb2xvcjogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFRhYmxlRGF0YUFjdGlvblR5cGUge1xyXG4gIFZpZXcgPSAnVklFVycsXHJcbiAgQWRkID0gJ0FERCdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMYXllcnNDb25maWcge1xyXG4gIGlkOiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICB1c2VEYXRhU291cmNlPzogVXNlRGF0YVNvdXJjZVxyXG4gIGFsbEZpZWxkczogSU1GaWVsZFNjaGVtYVtdXHJcbiAgdGFibGVGaWVsZHM/OiBUYWJsZUZpZWxkc1NjaGVtYVtdXHJcbiAgZW5hYmxlQXR0YWNoZW1lbnRzOiBib29sZWFuXHJcbiAgZW5hYmxlU2VhcmNoOiBib29sZWFuXHJcbiAgc2VhcmNoRmllbGRzPzogc3RyaW5nW11cclxuICBzZWFyY2hFeGFjdD86IGJvb2xlYW5cclxuICBzZWFyY2hIaW50Pzogc3RyaW5nXHJcbiAgZW5hYmxlRWRpdDogYm9vbGVhblxyXG4gIGVuYWJsZVJlZnJlc2g6IGJvb2xlYW5cclxuICBlbmFibGVTZWxlY3Q6IGJvb2xlYW5cclxuICBlbmFibGVEZWxldGU6IGJvb2xlYW5cclxuICBzZWxlY3RNb2RlOiBTZWxlY3Rpb25Nb2RlVHlwZVxyXG4gIHNob3dDb3VudD86IGJvb2xlYW5cclxuICB1cGRhdGVUZXh0PzogYm9vbGVhblxyXG4gIHNob3dTZW1wcmFCdXR0b25zPzogYm9vbGVhblxyXG4gIGFsbG93Q3N2OiBib29sZWFuXHJcbiAgZGF0YUFjdGlvbk9iamVjdD86IGFueVxyXG4gIGRhdGFBY3Rpb25UeXBlPzogVGFibGVEYXRhQWN0aW9uVHlwZVxyXG4gIGRhdGFBY3Rpb25EYXRhU291cmNlPzogRGF0YVNvdXJjZVxyXG4gIGhlYWRlckZvbnRTZXR0aW5nPzogSGVhZGVyQXR0cnNcclxuICBjb2x1bW5TZXR0aW5nPzogQ29sdW1uU2l6aW5nXHJcbiAgbGF5ZXJIb25vck1vZGU/OiBMYXllckhvbm9yTW9kZVR5cGVcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb25maWcge1xyXG4gIGxheWVyc0NvbmZpZz86IEltbXV0YWJsZUFycmF5PExheWVyc0NvbmZpZz5cclxuICBhcnJhbmdlVHlwZTogVGFibGVBcnJhbmdlVHlwZVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBJTUNvbmZpZyA9IEltbXV0YWJsZU9iamVjdDxDb25maWc+XHJcbiIsImltcG9ydCB7IHR5cGUgSU1UaGVtZVZhcmlhYmxlcywgY3NzLCB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsIHBvbGlzaGVkIH0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyBnZXRUaGVtZUNvbG9yVmFsdWUgfSBmcm9tICdqaW11LXRoZW1lJ1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlICh0aGVtZTogSU1UaGVtZVZhcmlhYmxlcywgbW9iaWxlRmxhZzogYm9vbGVhbiwgc2VhcmNoT246IGJvb2xlYW4sIHBhcnRQcm9wcyk6IFNlcmlhbGl6ZWRTdHlsZXMge1xyXG4gIGNvbnN0IHsgaWQsIGlzSGVpZ2h0QXV0bywgaXNXaWR0aEF1dG8sIGhlYWRlckZvbnRTZXR0aW5nLCBob3Jpem9udGFsVGFnLCB3aWRnZXRXaWR0aCB9ID0gcGFydFByb3BzXHJcblxyXG4gIHJldHVybiBjc3NgXHJcbiAgICAkeycmLnRhYmxlLXdpZGdldC0nICsgaWR9IHtcclxuICAgICAgLnRhYmxlLWluZGVudHtcclxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gMzJweCk7XHJcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAyNnB4KTtcclxuICAgICAgICBtYXJnaW46IDEwcHggMTZweCAxNnB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAke2lzSGVpZ2h0QXV0byAmJiAnbWluLWhlaWdodDogMTkwcHg7J307XHJcbiAgICAgICAgJHtpc1dpZHRoQXV0byAmJiAnbWluLXdpZHRoOiAzNjBweDsnfTtcclxuICAgICAgICAuaG9yaXpvbnRhbC1hY3Rpb24tZHJvcGRvd257XHJcbiAgICAgICAgICBidXR0b257XHJcbiAgICAgICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC50b29sLWRpdmlkaW5nLWxpbmV7XHJcbiAgICAgICAgICBoZWlnaHQ6IDE2cHg7XHJcbiAgICAgICAgICB3aWR0aDogMXB4O1xyXG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLnJlZi5wYWxldHRlLm5ldXRyYWxbNTAwXX07XHJcbiAgICAgICAgICBtYXJnaW46IDhweCA0cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5kYXRhLWFjdGlvbi1idG57XHJcbiAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC50YWItdGl0bGV7XHJcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICAgICAgbWFyZ2luOiBhdXRvO1xyXG4gICAgICB9XHJcbiAgICAgIC50YWItZmxleHtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xyXG4gICAgICAgIC5jbG9zZWFibGV7XHJcbiAgICAgICAgICBoZWlnaHQ6IDMxcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC50b3AtZHJvcHtcclxuICAgICAgICB3aWR0aDogMzAlO1xyXG4gICAgICAgIG1pbi13aWR0aDogMTUwcHg7XHJcbiAgICAgICAgYnV0dG9ue1xyXG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLm5hdi11bmRlcmxpbmV7XHJcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xyXG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAke3RoZW1lLnJlZi5wYWxldHRlLm5ldXRyYWxbNDAwXX07XHJcbiAgICAgICAgLm5hdi1pdGVte1xyXG4gICAgICAgICAgaGVpZ2h0OiAzMXB4O1xyXG4gICAgICAgICAgbWF4LXdpZHRoOiBjYWxjKCR7d2lkZ2V0V2lkdGggLyAyfXB4IC0gJHttb2JpbGVGbGFnID8gJzQwcHgnIDogJzEyMHB4J30pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAubmF2LWl0ZW0gKyAubmF2LWl0ZW17XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XHJcbiAgICAgIH1cclxuICAgICAgLmNzdi1kcm9wZG93bi1jb257XHJcbiAgICAgICAgYnV0dG9ue1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMTNweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLnZlcnRpY2FsLXRhZy1saXN0e1xyXG4gICAgICAgIHdpZHRoOiAyMCU7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgIC50YWdCdG57XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLmhvcml6b250YWwtdGFnLWxpc3R7XHJcbiAgICAgICAgLnRhZ0J0bntcclxuICAgICAgICAgIHdpZHRoOiAxNTBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnRhYi1jb250ZW50e1xyXG4gICAgICAgICAgaGVpZ2h0OiA4cHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC52ZXJ0aWNhbC10YWctbGlzdCxcclxuICAgICAgLmhvcml6b250YWwtdGFnLWxpc3R7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4O1xyXG4gICAgICAgIC5hY3RpdmVCdG57XHJcbiAgICAgICAgICBjb2xvcjogI2ZmZjtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwNzZmZTU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC5kcm9wZG93bi10YWctbGlzdHtcclxuICAgICAgICBoZWlnaHQ6IDQwcHg7XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogNHB4O1xyXG4gICAgICAgIC5kcm9wZG93bi1idXR0b257XHJcbiAgICAgICAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC52ZXJ0aWNhbC1yZW5kZXItY29ue1xyXG4gICAgICAgIHdpZHRoOiA4MCU7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIGxlZnQ6IDIwJTtcclxuICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgdG9wOiAwO1xyXG4gICAgICB9XHJcbiAgICAgIC5kcm9wZG93bi1yZW5kZXItY29uLFxyXG4gICAgICAuaG9yaXpvbnRhbC1yZW5kZXItY29ue1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gNDVweCk7XHJcbiAgICAgIH1cclxuICAgICAgLnRvcC1idXR0b24tbGlzdHtcclxuICAgICAgICAkeyFzZWFyY2hPbiAmJiAhaG9yaXpvbnRhbFRhZyAmJiBgXHJcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICByaWdodDogMTdweDtcclxuICAgICAgICBgfVxyXG4gICAgICAgICR7bW9iaWxlRmxhZyA/ICdkaXNwbGF5OiBub25lJyA6ICdkaXNwbGF5OiBmbGV4J307XHJcbiAgICAgICAgLnRvcC1idXR0b257XHJcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgICAgICAgIGJ1dHRvbntcclxuICAgICAgICAgICAgd2lkdGg6IDMycHg7XHJcbiAgICAgICAgICAgIGhlaWdodDogMzJweDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLnRhYmxlLXNlYXJjaC1kaXZ7XHJcbiAgICAgICAgLnRhYmxlLXNlYXJjaHtcclxuICAgICAgICAgIC5zZWFyY2gtaWNvbntcclxuICAgICAgICAgICAgei1pbmRleDogMjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC5zZWFyY2gtaW5wdXR7XHJcbiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICR7dGhlbWUucmVmLnBhbGV0dGUubmV1dHJhbFs1MDBdfTtcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgICAgICAgICAuaW5wdXQtd3JhcHBlcntcclxuICAgICAgICAgICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC50YWJsZS1oZWFkZXJ7XHJcbiAgICAgICAgaGVpZ2h0OiAke3NlYXJjaE9uID8gJzQwcHgnIDogJzAnfTtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgICAgICAucGxhY2Vob2xkZXItYXBwcm92ZS1idG57XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgICAgICAgYm9yZGVyLWNvbG9yOiBncmVlbjtcclxuICAgICAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IHRoaWNrO1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLjg7XHJcbiAgICAgICAgICBmb250LXNpemU6IDEyMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5wbGFjZWhvbGRlci1jYW5jZWwtYnRue1xyXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgICAgICAgIGJvcmRlci1jb2xvcjogZGFya3JlZDtcclxuICAgICAgICAgIGJvcmRlci1ib3R0b20td2lkdGg6IHRoaWNrO1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICBvcGFjaXR5OiAwLjg7XHJcbiAgICAgICAgICBmb250LXNpemU6IDEyMCU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC50YWJsZS1jb257XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgaGVpZ2h0OiAke3NlYXJjaE9uID8gJ2NhbGMoMTAwJSAtIDQwcHgpOycgOiAnMTAwJSd9O1xyXG4gICAgICAgIC5lc3JpLXdpZGdldHtcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgdmFhZGluLWdyaWQtY2VsbC1jb250ZW50OmhhcyguZXNyaS1jb2x1bW5fX2hlYWRlci1jb250ZW50KSB7XHJcbiAgICAgICAgICAgICR7aGVhZGVyRm9udFNldHRpbmc/LmJhY2tncm91bmRDb2xvciAmJiBgYmFja2dyb3VuZC1jb2xvcjogJHtoZWFkZXJGb250U2V0dGluZy5iYWNrZ3JvdW5kQ29sb3J9O2B9XHJcbiAgICAgICAgICAgICR7aGVhZGVyRm9udFNldHRpbmc/LmZvbnRTaXplICYmIGBmb250LXNpemU6ICR7aGVhZGVyRm9udFNldHRpbmcuZm9udFNpemV9cHg7YH1cclxuICAgICAgICAgICAgJHtoZWFkZXJGb250U2V0dGluZz8uYm9sZCAmJiAnZm9udC13ZWlnaHQ6IGJvbGQ7J31cclxuICAgICAgICAgICAgJHtoZWFkZXJGb250U2V0dGluZz8uY29sb3IgJiYgYGNvbG9yOiAke2hlYWRlckZvbnRTZXR0aW5nLmNvbG9yfTtgfVxyXG4gICAgICAgICAgICAke292ZXJyaWRlVGFibGVTdHlsZShoZWFkZXJGb250U2V0dGluZyl9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5lc3JpLWdyaWQgLmVzcmktY29sdW1uX19zb3J0ZXJ7XHJcbiAgICAgICAgICBvdmVyZmxvdy14OiBhdXRvO1xyXG4gICAgICAgICAgb3ZlcmZsb3cteTogaGlkZGVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAuZXNyaS1maWVsZC1jb2x1bW5fX2hlYWRlci1jb250ZW50e1xyXG4gICAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDI2cHgpO1xyXG4gICAgICAgICAgb3ZlcmZsb3c6IHVuc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICAuZXNyaS1mZWF0dXJlLXRhYmxlX19sb2FkZXItY29udGFpbmVye1xyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgICAgdG9wOiA1MCU7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogLTE2cHg7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAtMjBweDtcclxuICAgICAgICAgIHotaW5kZXg6IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5lc3JpLWZlYXR1cmUtdGFibGVfX2NvbnRlbnR7XHJcbiAgICAgICAgICBtaW4taGVpZ2h0OiAxNDVweDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLmFkdi1zZWxlY3QtY29ue1xyXG4gICAgICAgIHdpZHRoOiAyMDBweDtcclxuICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHJpZ2h0OiAxN3B4O1xyXG4gICAgICAgIHRvcDogNTZweDtcclxuICAgICAgfVxyXG4gICAgICAucGxhY2Vob2xkZXItdGFibGUtY29ue1xyXG4gICAgICAgIGhlaWdodDogJHtzZWFyY2hPbiA/ICdjYWxjKDEwMCUgLSA0MHB4KScgOiAnMTAwJSd9O1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICAuamltdS13aWRnZXQtcGxhY2Vob2xkZXJ7XHJcbiAgICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLnBsYWNlaG9sZGVyLWFsZXJ0LWNvbntcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHJpZ2h0OiAxMHB4O1xyXG4gICAgICAgICAgYm90dG9tOiAxMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAucGxhY2Vob2xkZXItcmVzZXQtY29ue1xyXG4gICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gMTE0cHgpO1xyXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAzMnB4KTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiA5NXB4O1xyXG4gICAgICAgIHotaW5kZXg6IDEwMDE7XHJcbiAgICAgICAgLnBsYWNlaG9sZGVyLXJlc2V0LWJ1dHRvbntcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHRvcDogY2FsYyg1MCUgKyA0MnB4KTtcclxuICAgICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAuZHMtY29udGFpbmVye1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgICB9XHJcbiAgICAgIC5kcm9wZG93bi1idXR0b24tY29udGVudHtcclxuICAgICAgICAudGFibGUtYWN0aW9uLW9wdGlvbi1jbG9zZXtcclxuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC5yZWZyZXNoLWxvYWRpbmctY29uIHtcclxuICAgICAgICByaWdodDogMDtcclxuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDE2KX07XHJcbiAgICAgICAgLmF1dG8tcmVmcmVzaC1sb2FkaW5nIHtcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICR7cG9saXNoZWQucmdiYSh0aGVtZT8ucmVmLnBhbGV0dGU/Lm5ldXRyYWw/LlsyMDBdLCAwLjY1KX07XHJcbiAgICAgICAgICBjb2xvcjogJHt0aGVtZS5yZWYucGFsZXR0ZT8uYmxhY2t9O1xyXG4gICAgICAgICAgZm9udC1zaXplOiAke3BvbGlzaGVkLnJlbSgxMil9O1xyXG4gICAgICAgICAgbGluZS1oZWlnaHQ6ICR7cG9saXNoZWQucmVtKDE2KX07XHJcbiAgICAgICAgICAkeyFtb2JpbGVGbGFnICYmIGBwYWRkaW5nOiAwICR7cG9saXNoZWQucmVtKDcpfTtgfVxyXG4gICAgICAgICAgLmljb24tYnRue1xyXG4gICAgICAgICAgICBwYWRkaW5nOiAke3BvbGlzaGVkLnJlbSgxKX07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC50YWJsZS1jb3VudHtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIGJvdHRvbTogMDtcclxuICAgICAgICBoZWlnaHQ6ICR7cG9saXNoZWQucmVtKDE2KX07XHJcbiAgICAgICAgLnRvdGFsLWNvdW50LXRleHR7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiAke3BvbGlzaGVkLnJnYmEodGhlbWU/LnJlZi5wYWxldHRlPy5uZXV0cmFsPy5bMjAwXSwgMC42NSl9O1xyXG4gICAgICAgICAgY29sb3I6ICR7dGhlbWUucmVmLnBhbGV0dGU/LmJsYWNrfTtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogJHtwb2xpc2hlZC5yZW0oMTIpfTtcclxuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgxNil9O1xyXG4gICAgICAgICAgcGFkZGluZzogMCAke3BvbGlzaGVkLnJlbSg3KX07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC5kcm9wZG93bi1saXN0LWNvbnRhaW5lcntcclxuICAgICAgICAke3NlYXJjaE9uICYmIGBcclxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICAgIHJpZ2h0OiAxN3B4O1xyXG4gICAgICAgICAgdG9wOiA1NXB4O1xyXG4gICAgICAgIGB9XHJcbiAgICAgICAgJHshc2VhcmNoT24gJiYgIWhvcml6b250YWxUYWcgJiYgYFxyXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgICAgcmlnaHQ6IDE3cHg7XHJcbiAgICAgICAgYH1cclxuICAgICAgICAuZHJvcGRvd24tbGlzdHtcclxuICAgICAgICAgICR7IW1vYmlsZUZsYWcgJiYgJ2Rpc3BsYXk6IG5vbmU7J31cclxuICAgICAgICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgICAgICAgaGVpZ2h0OiAzMnB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIGBcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25TdHlsZSAoc3VnZ2VzdGlvbldpZHRoPzogbnVtYmVyKTogU2VyaWFsaXplZFN0eWxlcyB7XHJcbiAgcmV0dXJuIGNzc2BcclxuICAgICYge1xyXG4gICAgICBtYXgtaGVpZ2h0OiAke3BvbGlzaGVkLnJlbSgzMDApfTtcclxuICAgICAgbWluLXdpZHRoOiAke3BvbGlzaGVkLnJlbSgyMDApfTtcclxuICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICB9XHJcbiAgICBidXR0b24ge1xyXG4gICAgICBkaXNwbGF5OiBibG9jaztcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgIH1cclxuICAgIGJ1dHRvbjpob3ZlciB7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgIH1cclxuICBgXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRhcmtlbkhleENvbG9yIChoZXhDb2xvciwgZGVwdGg6IG51bWJlciA9IDgwKSB7XHJcbiAgbGV0IHVzZUhleENvbG9yID0gaGV4Q29sb3JcclxuICBpZiAoIXVzZUhleENvbG9yLnN0YXJ0c1dpdGgoJyMnKSkge1xyXG4gICAgdXNlSGV4Q29sb3IgPSBnZXRUaGVtZUNvbG9yVmFsdWUoaGV4Q29sb3IpXHJcbiAgfVxyXG4gIC8vIHR1cm4gaGV4IHRvIFJHQlxyXG4gIGxldCByID0gcGFyc2VJbnQodXNlSGV4Q29sb3Iuc3Vic3RyaW5nKDEsIDMpLCAxNilcclxuICBsZXQgZyA9IHBhcnNlSW50KHVzZUhleENvbG9yLnN1YnN0cmluZygzLCA1KSwgMTYpXHJcbiAgbGV0IGIgPSBwYXJzZUludCh1c2VIZXhDb2xvci5zdWJzdHJpbmcoNSwgNyksIDE2KVxyXG4gIC8vIGRhcmtlbiBjb2xvclxyXG4gIHIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHIgLSBkZXB0aCkpXHJcbiAgZyA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgZyAtIGRlcHRoKSlcclxuICBiID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBiIC0gZGVwdGgpKVxyXG4gIC8vIGJhY2sgdG8gaGV4XHJcbiAgcmV0dXJuIGAjJHtyLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpfSR7Zy50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKX0ke2IudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyl9YFxyXG59XHJcblxyXG5mdW5jdGlvbiBvdmVycmlkZVRhYmxlU3R5bGUgKGhlYWRlckZvbnRTZXR0aW5nKSB7XHJcbiAgY29uc3Qgc3R5bGVzOiBzdHJpbmdbXSA9IFtdXHJcbiAgaWYgKGhlYWRlckZvbnRTZXR0aW5nKSB7XHJcbiAgICAvLyBvdmVycmlkZSBiYWNrZ3JvdW5kIGNvbG9yXHJcbiAgICBpZiAoaGVhZGVyRm9udFNldHRpbmcuYmFja2dyb3VuZENvbG9yKSB7XHJcbiAgICAgIHN0eWxlcy5wdXNoKGAtLWNhbGNpdGUtY29sb3ItZm9yZWdyb3VuZC0xOiAke2hlYWRlckZvbnRTZXR0aW5nLmJhY2tncm91bmRDb2xvcn07YClcclxuICAgICAgc3R5bGVzLnB1c2goJy0tY2FsY2l0ZS1jb2xvci1mb3JlZ3JvdW5kLTI6ICMwMDAwMDAwYTsnKVxyXG4gICAgICBzdHlsZXMucHVzaCgnLS1jYWxjaXRlLWNvbG9yLWZvcmVncm91bmQtMzogIzAwMDAwMDBhOycpXHJcbiAgICB9XHJcbiAgICAvLyBvdmVycmlkZSB0aXRsZSBjb2xvclxyXG4gICAgaWYgKGhlYWRlckZvbnRTZXR0aW5nLmNvbG9yKSB7XHJcbiAgICAgIHN0eWxlcy5wdXNoKGAtLWNhbGNpdGUtY29sb3ItdGV4dC0zOiAke2hlYWRlckZvbnRTZXR0aW5nLmNvbG9yfTtgKVxyXG4gICAgICBjb25zdCBkYXJrZW5Db2xvciA9IGRhcmtlbkhleENvbG9yKGhlYWRlckZvbnRTZXR0aW5nLmNvbG9yKVxyXG4gICAgICBzdHlsZXMucHVzaChgLS1jYWxjaXRlLWNvbG9yLXRleHQtMTogJHtkYXJrZW5Db2xvcn07YClcclxuICAgIH1cclxuICAgIC8vIG92ZXJyaWRlIGZvbnRcclxuICAgIGlmIChoZWFkZXJGb250U2V0dGluZy5mb250U2l6ZSkgc3R5bGVzLnB1c2goYC0tY2FsY2l0ZS1mb250LXNpemUtLTI6ICR7aGVhZGVyRm9udFNldHRpbmcuZm9udFNpemV9O2ApXHJcbiAgICBpZiAoaGVhZGVyRm9udFNldHRpbmcuYm9sZCkgc3R5bGVzLnB1c2goJy0tY2FsY2l0ZS11aS10ZXh0LTM6IGJvbGQ7JylcclxuICB9XHJcbiAgcmV0dXJuIHN0eWxlcy5qb2luKCcgJylcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCB7XHJcbiAgX3dpZGdldExhYmVsOiAnVGFibGUnLFxyXG4gIF93aWRnZXREZXNjcmlwdGlvbjogJ1RoaXMgaXMgYW4gaW50ZXJhY3RpdmUgdGFibGUgd2lkZ2V0JyxcclxuICBzaG93QWxsUmVjb3JkczogJ1Nob3cgYWxsIHJlY29yZHMnLFxyXG4gIHNob3dIaWRlQ29sczogJ1Nob3cvaGlkZSBjb2x1bW5zJyxcclxuICB0b2dnbGVTZWxlY3Q6ICdTaG93IHNlbGVjdGlvbi9hbGwnLFxyXG4gIF9hY3Rpb25fdmlld0luVGFibGVfbGFiZWw6ICdWaWV3IGluIHRhYmxlJyxcclxuICB0YWJsZURhdGFBY3Rpb25MYWJlbDogJ3tsYXllcn0gdGFibGUgc2VsZWN0aW9uJyxcclxuICB0YWJsZUNvdW50OiAnVG90YWw6IHt0b3RhbH0gfCBTZWxlY3Rpb246IHtzZWxlY3RlZH0nLFxyXG4gIF9hY3Rpb25fYWRkVG9UYWJsZV9sYWJlbDogJ0FkZCB0byB0YWJsZScsXHJcbiAgZGVsZXRlUmVjb3JkczogJ0RlbGV0ZSBzZWxlY3Rpb24nXHJcbn1cclxuIiwiaW1wb3J0IHtcclxuICB0eXBlIERhdGFTb3VyY2UsXHJcbiAgZGF0YVNvdXJjZVV0aWxzLFxyXG4gIHR5cGUgSU1UaGVtZVZhcmlhYmxlcyxcclxuICB0eXBlIFNlcmlhbGl6ZWRTdHlsZXMsXHJcbiAgY3NzXHJcbn0gZnJvbSAnamltdS1jb3JlJ1xyXG5pbXBvcnQgeyB0eXBlIExheWVyc0NvbmZpZywgdHlwZSBTdWdnZXN0aW9uIH0gZnJvbSAnLi4vY29uZmlnJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoU3VnZ2VzdGlvblJlY29yZHMgKFxyXG4gIHNlYXJjaFRleHQ6IHN0cmluZyxcclxuICBjb25maWc6IExheWVyc0NvbmZpZyxcclxuICBkYXRhc291cmNlOiBEYXRhU291cmNlXHJcbik6IFByb21pc2U8U3VnZ2VzdGlvbltdPiB7XHJcbiAgY29uc3Qgb3B0aW9uID0ge1xyXG4gICAgc2VhcmNoVGV4dCxcclxuICAgIHNlYXJjaEZpZWxkczogY29uZmlnPy5zZWFyY2hGaWVsZHMgfHwgW10sXHJcbiAgICBkYXRhU291cmNlOiBkYXRhc291cmNlLFxyXG4gICAgZXhhY3Q6IGNvbmZpZz8uc2VhcmNoRXhhY3RcclxuICB9XHJcbiAgcmV0dXJuIGRhdGFTb3VyY2VVdGlscy5xdWVyeVN1Z2dlc3Rpb25zKG9wdGlvbilcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbnVzQXJyYXkgKGFycmF5MSwgYXJyYXkyLCBrZXk/OiBzdHJpbmcpIHtcclxuICBjb25zdCBrZXlGaWVsZCA9IGtleSB8fCAnamltdU5hbWUnXHJcbiAgY29uc3QgbGVuZ3RoRmxhZyA9IGFycmF5MS5sZW5ndGggPiBhcnJheTIubGVuZ3RoXHJcbiAgY29uc3QgYXJyMSA9IGxlbmd0aEZsYWcgPyBhcnJheTEgOiBhcnJheTJcclxuICBjb25zdCBhcnIyID0gbGVuZ3RoRmxhZyA/IGFycmF5MiA6IGFycmF5MVxyXG4gIHJldHVybiBhcnIxLmZpbHRlcihpdGVtID0+IHtcclxuICAgIGNvbnN0IGhhc0ZpZWxkID0gYXJyMi5zb21lKGVsZSA9PiB7XHJcbiAgICAgIHJldHVybiBlbGU/LltrZXlGaWVsZF0gPT09IGl0ZW0/LltrZXlGaWVsZF1cclxuICAgIH0pXHJcbiAgICByZXR1cm4gIWhhc0ZpZWxkXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbFRhYmxlVG9vbHMgKHRoZW1lOiBJTVRoZW1lVmFyaWFibGVzKTogU2VyaWFsaXplZFN0eWxlcyB7XHJcbiAgcmV0dXJuIGNzc2BcclxuICAgIC5lc3JpLWJ1dHRvbi1tZW51X19pdGVtIC5lc3JpLWJ1dHRvbi1tZW51X19pdGVtLWxhYmVse1xyXG4gICAgICBwYWRkaW5nOiA0cHggMTVweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gICAgLnRhYmxlLXBvcHVwLXNlYXJjaHtcclxuICAgICAgLnNlYXJjaC1pY29ue1xyXG4gICAgICAgIHotaW5kZXg6IDI7XHJcbiAgICAgIH1cclxuICAgICAgLnBvcHVwLXNlYXJjaC1pbnB1dHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAke3RoZW1lLnJlZi5wYWxldHRlLm5ldXRyYWxbNTAwXX07XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gICAgICAgIC5pbnB1dC13cmFwcGVye1xyXG4gICAgICAgICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLnRhYmxlLWFjdGlvbi1vcHRpb257XHJcbiAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICAgICAgLnRhYmxlLWFjdGlvbi1vcHRpb24tdGFie1xyXG4gICAgICAgIG1hcmdpbjogYXV0byA4cHg7XHJcbiAgICAgIH1cclxuICAgICAgLnRhYmxlLWFjdGlvbi1vcHRpb24tY2xvc2V7XHJcbiAgICAgICAgZmxleDogMTtcclxuICAgICAgICBidXR0b257XHJcbiAgICAgICAgICA6aG92ZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogJHt0aGVtZS5yZWYucGFsZXR0ZS53aGl0ZX07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAuZXNyaS1wb3BvdmVyLS1vcGVue1xyXG4gICAgICB6LWluZGV4OiAxMDA1ICFpbXBvcnRhbnQ7XHJcbiAgICAgIC5lc3JpLWRhdGUtcGlja2VyX19jYWxlbmRhcntcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoZW1lLnJlZi5wYWxldHRlLndoaXRlfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLnRhYmxlLWhpZGUtaG92ZXItY29sb3J7XHJcbiAgICAgIGNvbG9yOiB1bnNldCAhaW1wb3J0YW50O1xyXG4gICAgICBib3JkZXI6IG5vbmUgIWltcG9ydGFudDtcclxuICAgICAgJjpob3ZlcntcclxuICAgICAgICBjb2xvcjogdW5zZXQgIWltcG9ydGFudDsgLyogdXNlIGNvbG9yIG9mIGRyb3Bkb3duIGl0ZW0gKi9cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIGBcclxufVxyXG4iLCJpbXBvcnQgeyBCYXNlVmVyc2lvbk1hbmFnZXIgfSBmcm9tICdqaW11LWNvcmUnXHJcbmltcG9ydCB7IExheWVySG9ub3JNb2RlVHlwZSwgUmVzcG9uc2l2ZVR5cGUgfSBmcm9tICcuL2NvbmZpZydcclxuXHJcbmNsYXNzIFZlcnNpb25NYW5hZ2VyIGV4dGVuZHMgQmFzZVZlcnNpb25NYW5hZ2VyIHtcclxuICB2ZXJzaW9ucyA9IFt7XHJcbiAgICB2ZXJzaW9uOiAnMS42LjAnLFxyXG4gICAgZGVzY3JpcHRpb246ICdBZGQgZWRpdGFibGUgdG8gdGFibGUgZmllbGRzLicsXHJcbiAgICB1cGdyYWRlcjogKG9sZENvbmZpZywgaWQpID0+IHtcclxuICAgICAgbGV0IG5ld0NvbmZpZyA9IG9sZENvbmZpZ1xyXG4gICAgICBpZiAobmV3Q29uZmlnLmxheWVyc0NvbmZpZy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gbmV3Q29uZmlnXHJcbiAgICAgIH1cclxuICAgICAgbmV3Q29uZmlnLmxheWVyc0NvbmZpZy5mb3JFYWNoKChjb25maWcsIGkpID0+IHtcclxuICAgICAgICBjb25zdCBuZXdUYWJsZUZpZWxkcyA9IGNvbmZpZy50YWJsZUZpZWxkcy5tYXAoZmllbGQgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4uZmllbGQsXHJcbiAgICAgICAgICAgIGVkaXRBdXRob3JpdHk6IHRydWVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIG5ld0NvbmZpZyA9IG5ld0NvbmZpZy5zZXRJbihbJ2xheWVyc0NvbmZpZycsIGksICd0YWJsZUZpZWxkcyddLCBuZXdUYWJsZUZpZWxkcylcclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuIG5ld0NvbmZpZ1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIHZlcnNpb246ICcxLjEwLjAnLFxyXG4gICAgZGVzY3JpcHRpb246ICdBZGQgdmlzaWJsZSB0byB0YWJsZSBmaWVsZHMuJyxcclxuICAgIHVwZ3JhZGVyOiAob2xkQ29uZmlnKSA9PiB7XHJcbiAgICAgIGxldCBuZXdDb25maWcgPSBvbGRDb25maWdcclxuICAgICAgaWYgKG5ld0NvbmZpZy5sYXllcnNDb25maWcubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ld0NvbmZpZ1xyXG4gICAgICB9XHJcbiAgICAgIG5ld0NvbmZpZy5sYXllcnNDb25maWcuZm9yRWFjaCgoY29uZmlnLCBpKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3VGFibGVGaWVsZHMgPSBjb25maWcudGFibGVGaWVsZHMubWFwKGZpZWxkID0+IHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLmZpZWxkLFxyXG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBuZXdDb25maWcgPSBuZXdDb25maWcuc2V0SW4oWydsYXllcnNDb25maWcnLCBpLCAndGFibGVGaWVsZHMnXSwgbmV3VGFibGVGaWVsZHMpXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiBuZXdDb25maWdcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICB2ZXJzaW9uOiAnMS4xMi4wJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQWRkIGhlYWRlciBzZXR0aW5nIG9wdGlvbnMuJyxcclxuICAgIHVwZ3JhZGVyOiAob2xkQ29uZmlnKSA9PiB7XHJcbiAgICAgIGxldCBuZXdDb25maWcgPSBvbGRDb25maWdcclxuICAgICAgaWYgKG5ld0NvbmZpZy5sYXllcnNDb25maWcubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ld0NvbmZpZ1xyXG4gICAgICB9XHJcbiAgICAgIG5ld0NvbmZpZy5sYXllcnNDb25maWcuZm9yRWFjaCgoY29uZmlnLCBpKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdEhlYWRlckZvbnRTZXR0aW5nID0ge1xyXG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnJyxcclxuICAgICAgICAgIGZvbnRTaXplOiAxNCxcclxuICAgICAgICAgIGJvbGQ6IGZhbHNlLFxyXG4gICAgICAgICAgY29sb3I6ICcnXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbmZpZyA9IGNvbmZpZy5zZXQoJ2hlYWRlckZvbnRTZXR0aW5nJywgZGVmYXVsdEhlYWRlckZvbnRTZXR0aW5nKVxyXG4gICAgICAgIG5ld0NvbmZpZyA9IG5ld0NvbmZpZy5zZXRJbihbJ2xheWVyc0NvbmZpZycsIGldLCBjb25maWcpXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiBuZXdDb25maWdcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICB2ZXJzaW9uOiAnMS4xMy4wJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnQWRkIFwic2hvd0NvdW50XCIgYW5kIFwidXBkYXRlVGV4dFwiIG9wdGlvbnMuJyxcclxuICAgIHVwZ3JhZGVyOiAob2xkQ29uZmlnKSA9PiB7XHJcbiAgICAgIGxldCBuZXdDb25maWcgPSBvbGRDb25maWdcclxuICAgICAgaWYgKG5ld0NvbmZpZy5sYXllcnNDb25maWcubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ld0NvbmZpZ1xyXG4gICAgICB9XHJcbiAgICAgIG5ld0NvbmZpZy5sYXllcnNDb25maWcuZm9yRWFjaCgoY29uZmlnLCBpKSA9PiB7XHJcbiAgICAgICAgY29uZmlnID0gY29uZmlnLnNldCgnc2hvd0NvdW50JywgZmFsc2UpLnNldCgndXBkYXRlVGV4dCcsIHRydWUpXHJcbiAgICAgICAgbmV3Q29uZmlnID0gbmV3Q29uZmlnLnNldEluKFsnbGF5ZXJzQ29uZmlnJywgaV0sIGNvbmZpZylcclxuICAgICAgICAvLyBzZWFyY2hGaWVsZHMgdXBkYXRlXHJcbiAgICAgICAgaWYgKGNvbmZpZz8uc2VhcmNoRmllbGRzICYmIHR5cGVvZiAoY29uZmlnPy5zZWFyY2hGaWVsZHMpID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgY29uc3QgbmV3U2VhcmNoRmllbGRzID0gY29uZmlnLnNlYXJjaEZpZWxkcy5zcGxpdCgnLCcpIHx8IFtdXHJcbiAgICAgICAgICBuZXdDb25maWcgPSBuZXdDb25maWcuc2V0SW4oWydsYXllcnNDb25maWcnLCBpLCAnc2VhcmNoRmllbGRzJ10sIG5ld1NlYXJjaEZpZWxkcylcclxuICAgICAgICB9IGVsc2UgaWYgKCFjb25maWc/LnNlYXJjaEZpZWxkcykge1xyXG4gICAgICAgICAgbmV3Q29uZmlnID0gbmV3Q29uZmlnLnNldEluKFsnbGF5ZXJzQ29uZmlnJywgaSwgJ3NlYXJjaEZpZWxkcyddLCBbXSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVybiBuZXdDb25maWdcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICB2ZXJzaW9uOiAnMS4xNC4wJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlIGhvbm9yIHdlYm1hcCBvcHRpb25zJyxcclxuICAgIHVwZ3JhZGVyOiBhc3luYyAob2xkQ29uZmlnKSA9PiB7XHJcbiAgICAgIGxldCBuZXdDb25maWcgPSBvbGRDb25maWdcclxuICAgICAgY29uc3QgbmV3TGF5ZXJzQ29uZmlnID0gbmV3Q29uZmlnLmxheWVyc0NvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uY29uZmlnLFxyXG4gICAgICAgICAgbGF5ZXJIb25vck1vZGU6IExheWVySG9ub3JNb2RlVHlwZS5DdXN0b21cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIG5ld0NvbmZpZyA9IG5ld0NvbmZpZy5zZXRJbihbJ2xheWVyc0NvbmZpZyddLCBuZXdMYXllcnNDb25maWcpXHJcbiAgICAgIHJldHVybiBuZXdDb25maWdcclxuICAgIH1cclxuICB9LCB7XHJcbiAgICB2ZXJzaW9uOiAnMS4xNS4wJyxcclxuICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlIGNvbHVtbiBzZXR0aW5nJyxcclxuICAgIHVwZ3JhZGVyOiBhc3luYyAob2xkQ29uZmlnKSA9PiB7XHJcbiAgICAgIGxldCBuZXdDb25maWcgPSBvbGRDb25maWdcclxuICAgICAgY29uc3QgbmV3TGF5ZXJzQ29uZmlnID0gbmV3Q29uZmlnLmxheWVyc0NvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uY29uZmlnLFxyXG4gICAgICAgICAgY29sdW1uU2V0dGluZzoge1xyXG4gICAgICAgICAgICByZXNwb25zaXZlVHlwZTogUmVzcG9uc2l2ZVR5cGUuRml4ZWQsXHJcbiAgICAgICAgICAgIGNvbHVtbldpZHRoOiAyMDBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICAgIG5ld0NvbmZpZyA9IG5ld0NvbmZpZy5zZXRJbihbJ2xheWVyc0NvbmZpZyddLCBuZXdMYXllcnNDb25maWcpXHJcbiAgICAgIHJldHVybiBuZXdDb25maWdcclxuICAgIH1cclxuICB9XVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgdmVyc2lvbk1hbmFnZXIgPSBuZXcgVmVyc2lvbk1hbmFnZXIoKVxyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfZXNyaV9jb3JlX3JlYWN0aXZlVXRpbHNfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfX2FyY2dpc19jb3JlX2xheWVyc19GZWF0dXJlTGF5ZXJfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9hcmNnaXNfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV9jb3JlX187IiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX2ppbXVfY29yZV9kYXRhX3NvdXJjZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X2xheW91dHNfbGF5b3V0X3J1bnRpbWVfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfamltdV90aGVtZV9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9qaW11X3VpX187IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCIvKipcclxuICogV2VicGFjayB3aWxsIHJlcGxhY2UgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gd2l0aCBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgdG8gc2V0IHRoZSBwdWJsaWMgcGF0aCBkeW5hbWljYWxseS5cclxuICogVGhlIHJlYXNvbiB3aHkgd2UgY2FuJ3Qgc2V0IHRoZSBwdWJsaWNQYXRoIGluIHdlYnBhY2sgY29uZmlnIGlzOiB3ZSBjaGFuZ2UgdGhlIHB1YmxpY1BhdGggd2hlbiBkb3dubG9hZC5cclxuICogKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbi8vIEB0cy1pZ25vcmVcclxuX193ZWJwYWNrX3B1YmxpY19wYXRoX18gPSB3aW5kb3cuamltdUNvbmZpZy5iYXNlVXJsXHJcbiIsIi8qKiBAanN4IGpzeCAqL1xyXG5pbXBvcnQge1xyXG4gIFJlYWN0LFxyXG4gIGpzeCxcclxuICB0eXBlIEFsbFdpZGdldFByb3BzLFxyXG4gIGNsYXNzTmFtZXMsXHJcbiAgRGF0YVNvdXJjZUNvbXBvbmVudCxcclxuICB0eXBlIFF1ZXJpYWJsZURhdGFTb3VyY2UsXHJcbiAgSW1tdXRhYmxlLFxyXG4gIGFwcEFjdGlvbnMsXHJcbiAgbG9kYXNoLFxyXG4gIHR5cGUgUXVlcnlQYXJhbXMsXHJcbiAgTWVzc2FnZU1hbmFnZXIsXHJcbiAgTWVzc2FnZVR5cGUsXHJcbiAgRGF0YVJlY29yZHNTZWxlY3Rpb25DaGFuZ2VNZXNzYWdlLFxyXG4gIHR5cGUgQ2xhdXNlVmFsdWVQYWlyLFxyXG4gIFJlYWN0UmVzaXplRGV0ZWN0b3IsXHJcbiAgdHlwZSBEYXRhU291cmNlSW5mbyxcclxuICB0eXBlIElNRGF0YVNvdXJjZUluZm8sXHJcbiAgZ2V0QXBwU3RvcmUsXHJcbiAgQ09OU1RBTlRTLFxyXG4gIERhdGFTb3VyY2VTdGF0dXMsXHJcbiAgdHlwZSBJTVN0YXRlLFxyXG4gIGRhdGFTb3VyY2VVdGlscyxcclxuICBNdXRhYmxlU3RvcmVNYW5hZ2VyLFxyXG4gIERhdGFTb3VyY2VNYW5hZ2VyLFxyXG4gIHR5cGUgRGF0YVJlY29yZCxcclxuICBhcHBDb25maWdVdGlscyxcclxuICBXaWRnZXRTdGF0ZSxcclxuICBwcml2aWxlZ2VVdGlscyxcclxuICBBcHBNb2RlLFxyXG4gIGVzcmksXHJcbiAgdHlwZSBJbW11dGFibGVBcnJheSxcclxuICB0eXBlIFF1ZXJ5UmVxdWlyZWRJbmZvLFxyXG4gIHR5cGUgRGF0YVNvdXJjZSxcclxuICBjYW5jZWxhYmxlUHJvbWlzZSxcclxuICB0eXBlIFNjZW5lTGF5ZXJEYXRhU291cmNlLFxyXG4gIEFsbERhdGFTb3VyY2VUeXBlcyxcclxuICBEYXRhU291cmNlVHlwZXMsXHJcbiAgU2VydmljZU1hbmFnZXIsXHJcbiAgU2Vzc2lvbk1hbmFnZXIsXHJcbiAgaTE4blxyXG59IGZyb20gJ2ppbXUtY29yZSdcclxuaW1wb3J0IHsgR2xvYmFsIH0gZnJvbSAnamltdS10aGVtZSdcclxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHtcclxuICB0eXBlIElNQ29uZmlnLFxyXG4gIHR5cGUgTGF5ZXJzQ29uZmlnLFxyXG4gIFNlbGVjdGlvbk1vZGVUeXBlLFxyXG4gIFRhYmxlQXJyYW5nZVR5cGUsXHJcbiAgdHlwZSBTdWdnZXN0aW9uLFxyXG4gIExheWVySG9ub3JNb2RlVHlwZSxcclxuICBUYWJsZURhdGFBY3Rpb25UeXBlLFxyXG4gIFJlc3BvbnNpdmVUeXBlXHJcbn0gZnJvbSAnLi4vY29uZmlnJ1xyXG5pbXBvcnQge1xyXG4gIGxvYWRBcmNHSVNKU0FQSU1vZHVsZXMsXHJcbiAgdHlwZSBGZWF0dXJlRGF0YVJlY29yZCxcclxuICB0eXBlIEZlYXR1cmVMYXllckRhdGFTb3VyY2VcclxufSBmcm9tICdqaW11LWFyY2dpcydcclxuaW1wb3J0IGRlZmF1bHRNZXNzYWdlcyBmcm9tICcuL3RyYW5zbGF0aW9ucy9kZWZhdWx0J1xyXG5pbXBvcnQge1xyXG4gIFdpZGdldFBsYWNlaG9sZGVyLFxyXG4gIGRlZmF1bHRNZXNzYWdlcyBhcyBqaW11VUlEZWZhdWx0TWVzc2FnZXMsXHJcbiAgTW9kYWwsIE1vZGFsSGVhZGVyLCBNb2RhbEJvZHksIE1vZGFsRm9vdGVyLFxyXG4gIEJ1dHRvbixcclxuICBUZXh0SW5wdXQsXHJcbiAgVGFicyxcclxuICBUYWIsXHJcbiAgU2VsZWN0LFxyXG4gIEFkdmFuY2VkU2VsZWN0LFxyXG4gIFBvcHBlcixcclxuICBBbGVydCxcclxuICBEcm9wZG93bixcclxuICBEcm9wZG93bkJ1dHRvbixcclxuICBEcm9wZG93bk1lbnUsXHJcbiAgRHJvcGRvd25JdGVtLFxyXG4gIERhdGFBY3Rpb25MaXN0LFxyXG4gIERhdGFBY3Rpb25MaXN0U3R5bGUsXHJcbiAgVG9vbHRpcCxcclxuICBDaGVja2JveCxcclxuICBMYWJlbCxcclxuICBMb2FkaW5nIFxyXG59IGZyb20gJ2ppbXUtdWknXHJcbmltcG9ydCB7IHZlcnNpb25NYW5hZ2VyIH0gZnJvbSAnLi4vdmVyc2lvbi1tYW5hZ2VyJ1xyXG5pbXBvcnQgeyBMYXlvdXRJdGVtU2l6ZU1vZGVzIH0gZnJvbSAnamltdS1sYXlvdXRzL2xheW91dC1ydW50aW1lJ1xyXG5pbXBvcnQgeyBnZXRTdHlsZSwgZ2V0U3VnZ2VzdGlvblN0eWxlIH0gZnJvbSAnLi9zdHlsZSdcclxuaW1wb3J0IHsgZmV0Y2hTdWdnZXN0aW9uUmVjb3JkcywgbWludXNBcnJheSwgZ2V0R2xvYmFsVGFibGVUb29scyB9IGZyb20gJy4vdXRpbHMnXHJcbmltcG9ydCB7IFNlYXJjaE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3Ivc2VhcmNoJ1xyXG5pbXBvcnQgeyBBcnJvd0xlZnRPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZGlyZWN0aW9uYWwvYXJyb3ctbGVmdCdcclxuaW1wb3J0IHsgQ2xvc2VPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2Nsb3NlJ1xyXG5pbXBvcnQgeyBNZW51T3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9tZW51J1xyXG5pbXBvcnQgeyBDbGVhclNlbGVjdGlvbkdlbmVyYWxPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvZWRpdG9yL2NsZWFyLXNlbGVjdGlvbi1nZW5lcmFsJ1xyXG5pbXBvcnQgeyBSZWZyZXNoT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9yZWZyZXNoJ1xyXG5pbXBvcnQgeyBMaXN0VmlzaWJsZU91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvbGlzdC12aXNpYmxlJ1xyXG5pbXBvcnQgeyBTaG93U2VsZWN0aW9uT3V0bGluZWQgfSBmcm9tICdqaW11LWljb25zL291dGxpbmVkL2VkaXRvci9zaG93LXNlbGVjdGlvbidcclxuaW1wb3J0IHsgTW9yZUhvcml6b250YWxPdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvYXBwbGljYXRpb24vbW9yZS1ob3Jpem9udGFsJ1xyXG5pbXBvcnQgeyBUcmFzaE91dGxpbmVkIH0gZnJvbSAnamltdS1pY29ucy9vdXRsaW5lZC9lZGl0b3IvdHJhc2gnXHJcbmltcG9ydCB7IHR5cGUgSW1hZ2VyeUxheWVyRGF0YVNvdXJjZSwgdHlwZSBGZWF0dXJlTGF5ZXJRdWVyeVBhcmFtcywgUXVlcnlTY29wZSB9IGZyb20gJ2ppbXUtY29yZS9kYXRhLXNvdXJjZSdcclxuaW1wb3J0IHsgdHlwZSBJRmVhdHVyZSB9IGZyb20gJ0Blc3JpL2FyY2dpcy1yZXN0LWZlYXR1cmUtc2VydmljZSdcclxuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICdyZWFjdCdcclxuaW1wb3J0IHJlYWN0aXZlVXRpbHMgZnJvbSAnZXNyaS9jb3JlL3JlYWN0aXZlVXRpbHMnXHJcbmltcG9ydCB7IEluZm9PdXRsaW5lZCB9IGZyb20gJ2ppbXUtaWNvbnMvb3V0bGluZWQvc3VnZ2VzdGVkL2luZm8nXHJcbmltcG9ydCBGZWF0dXJlTGF5ZXIgZnJvbSAnQGFyY2dpcy9jb3JlL2xheWVycy9GZWF0dXJlTGF5ZXInXHJcbmltcG9ydCBGZWF0dXJlIGZyb20gJ0BhcmNnaXMvY29yZS93aWRnZXRzL0ZlYXR1cmUnXHJcbmltcG9ydCBHcmFwaGljIGZyb20gJ0BhcmNnaXMvY29yZS9HcmFwaGljJ1xyXG5pbXBvcnQgJy4vc3R5bGVfd2lkZ2V0LmNzcydcclxuXHJcbi8vIGltcG9ydCB3YXJuaW5nSWNvbiBmcm9tICdqaW11LWljb25zL3N2Zy9vdXRsaW5lZC9zdWdnZXN0ZWQvd2FybmluZy5zdmcnXHJcbmNvbnN0IHsgQlJFQUtfUE9JTlRTLCBTRUxFQ1RJT05fREFUQV9WSUVXX0lELCBEQVRBX1ZJRVdfSURfRk9SX05PX1NFTEVDVElPTiB9ID0gQ09OU1RBTlRTXHJcbmNvbnN0IEVNUFRZX1FVRVJZX1BBUkFNUyA9IHsgd2hlcmU6ICcxPTEnLCBzcWxFeHByZXNzaW9uOiBudWxsIH0gYXMgUXVlcnlQYXJhbXNcclxuY29uc3QgdGFibGVQbGFjZWhvbGRlckljb24gPSByZXF1aXJlKCcuL2Fzc2V0cy9pY29ucy9wbGFjZWhvbGRlci10YWJsZS5zdmcnKVxyXG5jb25zdCBydW50aW1lRGF0YVNvdXJjZUtleSA9ICdydW50aW1lLXVzZWREcy1pbmZvJ1xyXG5jb25zdCBTRUFSQ0hfVE9PTF9NSU5fU0laRSA9IDMwMFxyXG5jb25zdCBUQUJMRV9CT1RUT01fQlJFQUtfUE9JTlRTID0gNDMwXHJcbmNvbnN0IG5vdExvYWQgPSBbRGF0YVNvdXJjZVN0YXR1cy5Ob3RSZWFkeSwgRGF0YVNvdXJjZVN0YXR1cy5Mb2FkRXJyb3JdXHJcbmNvbnN0IFNhbml0aXplciA9IGVzcmkuU2FuaXRpemVyXHJcbmNvbnN0IHNhbml0aXplciA9IG5ldyBTYW5pdGl6ZXIoKVxyXG5jb25zdCBtZXNzYWdlcyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRNZXNzYWdlcywgamltdVVJRGVmYXVsdE1lc3NhZ2VzKVxyXG5cclxuXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFByb3BzIHtcclxuICBhcHBNb2RlOiBBcHBNb2RlXHJcbiAgZGF0YVNvdXJjZXNJbmZvPzogeyBbZHNJZDogc3RyaW5nXTogRGF0YVNvdXJjZUluZm8gfVxyXG4gIGlzUlRMOiBib29sZWFuXHJcbiAgc3RhdGVTaG93TG9hZGluZzogYm9vbGVhblxyXG4gIGN1cnJlbnRQYWdlSWQ6IHN0cmluZ1xyXG4gIHZpZXdJblRhYmxlT2JqOiB7IFtpZDogc3RyaW5nXTogeyBkYUxheWVySXRlbTogTGF5ZXJzQ29uZmlnLCByZWNvcmRzOiBEYXRhUmVjb3JkW10gfSB9XHJcbiAgZW5hYmxlRGF0YUFjdGlvbjogYm9vbGVhblxyXG4gIGlzV2lkdGhBdXRvOiBib29sZWFuXHJcbiAgaXNIZWlnaHRBdXRvOiBib29sZWFuXHJcbiAgW3Byb3BOYW1lOiBzdHJpbmddOiBhbnlcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBTdGF0ZSB7XHJcbiAgYXBpTG9hZGVkOiBib29sZWFuXHJcbiAgZGF0YVNvdXJjZTogUXVlcmlhYmxlRGF0YVNvdXJjZVxyXG4gIGFjdGl2ZVRhYklkOiBzdHJpbmdcclxuICBkb3dubG9hZE9wZW46IGJvb2xlYW5cclxuICBzZWFyY2hUZXh0OiBzdHJpbmdcclxuICBzZWxlY3RRdWVyeUZsYWc6IGJvb2xlYW5cclxuICBtb2JpbGVGbGFnOiBib29sZWFuXHJcbiAgc2VhcmNoVG9vbEZsYWc6IGJvb2xlYW5cclxuICBib3R0b21SZXNwb25zaXZlRmxhZzogYm9vbGVhblxyXG4gIHRhYmxlU2hvd0NvbHVtbnM6IENsYXVzZVZhbHVlUGFpcltdXHJcbiAgaXNPcGVuU2VhcmNoUG9wcGVyOiBib29sZWFuXHJcbiAgZW1wdHlUYWJsZTogYm9vbGVhblxyXG4gIGVtcHR5RGF0YTogYm9vbGVhblxyXG4gIHNlbGVjdFJlY29yZHM6IERhdGFSZWNvcmRbXVxyXG4gIG5vdFJlYWR5OiBib29sZWFuXHJcbiAgc2VsZkRzQ2hhbmdlOiBib29sZWFuXHJcbiAgc2hvd0xvYWRpbmc6IGJvb2xlYW5cclxuICBpbnRlcnZhbDogbnVtYmVyXHJcbiAgYXV0b1JlZnJlc2hMb2FkaW5nU3RyaW5nOiBzdHJpbmdcclxuICBpc1Nob3dTdWdnZXN0aW9uOiBib29sZWFuXHJcbiAgc2VhcmNoU3VnZ2VzdGlvbjogU3VnZ2VzdGlvbltdXHJcbiAgYWxsb3dEZWw6IGJvb2xlYW5cclxuICB0YWJsZUxvYWRlZDogYm9vbGVhblxyXG4gIHRhYmxlVG90YWw6IG51bWJlclxyXG4gIHRhYmxlU2VsZWN0ZWQ6IG51bWJlclxyXG4gIHdpZGdldFdpZHRoOiBudW1iZXJcclxuICBpc1RhYmxlRWRpdGluZzogYm9vbGVhblxyXG4gIGV4YlByaXZpbGVnZTogYm9vbGVhblxyXG4gIGlzTW9kYWxPcGVuOiBib29sZWFuXHJcbiAgaXNQZXJtaXNzaW9uTW9kYWxPcGVuOiBib29sZWFuXHJcbiAgaXNQcm9ncmVzc01vZGFsT3BlbjogYm9vbGVhblxyXG4gIG1vZGFsQ29udGVudDogUmVhY3QuUmVhY3ROb2RlXHJcbiAgY2FuY2xlV2l0aEVtYWlsTm90aWZ5OiBib29sZWFuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgdGFibGVTZWxlY3RlZEl0ZW0ge1xyXG4gIG9iamVjdElkOiBudW1iZXJcclxuICBmZWF0dXJlOiBJRmVhdHVyZSB8IF9fZXNyaS5HcmFwaGljXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdpZGdldCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8XHJcbkFsbFdpZGdldFByb3BzPElNQ29uZmlnPiAmIFByb3BzLFxyXG5TdGF0ZVxyXG4+IHtcclxuICBzdGF0aWMgdmVyc2lvbk1hbmFnZXIgPSB2ZXJzaW9uTWFuYWdlclxyXG4gIHRhYmxlOiBfX2VzcmkuRmVhdHVyZVRhYmxlXHJcbiAgZGF0YVNvdXJjZUNoYW5nZTogYm9vbGVhblxyXG4gIGRhdGFBY3Rpb25DYW5Mb2FkOiBib29sZWFuXHJcbiAgZGF0YUFjdGlvblRhYmxlUmVjb3JkczogeyBbY29uZmlnSWQ6IHN0cmluZ106IERhdGFSZWNvcmRbXSB9XHJcbiAgZHJvcGRvd25Dc3Y6IGFueVxyXG4gIHJlZnM6IHtcclxuICAgIHRhYmxlQ29udGFpbmVyOiBIVE1MSW5wdXRFbGVtZW50XHJcbiAgICBhZHZhbmNlZFNlbGVjdDogSFRNTEVsZW1lbnRcclxuICAgIHNlYXJjaFBvcHVwOiBIVE1MRGl2RWxlbWVudFxyXG4gICAgY3VycmVudEVsOiBIVE1MRWxlbWVudFxyXG4gICAgc3VnZ2VzdFBvcHVwOiBIVE1MRGl2RWxlbWVudFxyXG4gICAgY291bnRDb250YWluZXI6IEhUTUxEaXZFbGVtZW50XHJcbiAgfVxyXG5cclxuICB1cGRhdGluZ1RhYmxlOiBib29sZWFuXHJcbiAgcmVtb3ZlQ29uZmlnOiBib29sZWFuXHJcbiAgZGVib3VuY2VPblJlc2l6ZTogKHdpZHRoLCBoZWlnaHQpID0+IHZvaWRcclxuICBkc01hbmFnZXI6IERhdGFTb3VyY2VNYW5hZ2VyXHJcbiAgY2xpY2tUaW1lcjogYW55XHJcbiAgYXV0b1JlZnJlc2hMb2FkaW5nVGltZTogYW55XHJcbiAgcmVzZXRBdXRvUmVmcmVzaFRpbWU6IGFueVxyXG4gIHN1Z2dlc3Rpb25zUXVlcnlUaW1lb3V0OiBhbnlcclxuICBjdXJyZW50UmVxdWVzdElkOiBudW1iZXJcclxuICB2aWV3VGFibGVJZDogbnVtYmVyXHJcbiAgdGltZXJGbjogYW55XHJcbiAgbGFzdFNxbDogc3RyaW5nXHJcbiAgcHJvbWlzZXM6IEFycmF5PGNhbmNlbGFibGVQcm9taXNlLkNhbmNlbGFibGVQcm9taXNlPGFueT4+ID0gW11cclxuICBGZWF0dXJlVGFibGU6IHR5cGVvZiBfX2VzcmkuRmVhdHVyZVRhYmxlID0gbnVsbFxyXG4gIEZlYXR1cmVMYXllcjogdHlwZW9mIF9fZXNyaS5GZWF0dXJlTGF5ZXIgPSBudWxsXHJcbiAgSW1hZ2VyeUxheWVyOiB0eXBlb2YgX19lc3JpLkltYWdlcnlMYXllciA9IG51bGxcclxuICBPcmllbnRlZEltYWdlcnlMYXllcjogdHlwZW9mIF9fZXNyaS5PcmllbnRlZEltYWdlcnlMYXllciA9IG51bGxcclxuICBUYWJsZVRlbXBsYXRlOiB0eXBlb2YgX19lc3JpLlRhYmxlVGVtcGxhdGUgPSBudWxsXHJcbiAgZ2VvbWV0cnlFbmdpbmU6IHR5cGVvZiBfX2VzcmkuZ2VvbWV0cnlFbmdpbmUgPSBudWxsXHJcbiAgUG9seWdvbjogdHlwZW9mIF9fZXNyaS5Qb2x5Z29uID0gbnVsbFxyXG5cclxuICAvL0N1c3RvaXphdGlvbiB2YXJpYWJsZXMgZm9yIHdpZGdldFxyXG4gIHBlcm1pc2lvbklzc3VlOiBhbnlcclxuICAvL3NlbGVjdGVkT0lkOiBudW1iZXIgPSAwXHJcbiAgZGF0YVNvdXJjZVVybDogc3RyaW5nXHJcbiAgc2VsZWN0ZWRGZWF0dXJlOiBHcmFwaGljXHJcblxyXG4gIHN0YXRpYyBtYXBFeHRyYVN0YXRlUHJvcHMgPSAoXHJcbiAgICBzdGF0ZTogSU1TdGF0ZSxcclxuICAgIHByb3BzOiBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz5cclxuICApOiBQcm9wcyA9PiB7XHJcbiAgICBjb25zdCB7IGxheW91dElkLCBsYXlvdXRJdGVtSWQsIGlkIH0gPSBwcm9wc1xyXG4gICAgY29uc3QgY3VycmVudFdpZGdldCA9IHN0YXRlPy5hcHBDb25maWc/LndpZGdldHM/LltpZF1cclxuICAgIGNvbnN0IGVuYWJsZURhdGFBY3Rpb24gPSBjdXJyZW50V2lkZ2V0Py5lbmFibGVEYXRhQWN0aW9uXHJcbiAgICBjb25zdCBhcHBDb25maWcgPSBzdGF0ZSAmJiBzdGF0ZS5hcHBDb25maWdcclxuICAgIGNvbnN0IGxheW91dCA9IGFwcENvbmZpZy5sYXlvdXRzPy5bbGF5b3V0SWRdXHJcbiAgICBjb25zdCBsYXlvdXRTZXR0aW5nID0gbGF5b3V0Py5jb250ZW50Py5bbGF5b3V0SXRlbUlkXT8uc2V0dGluZ1xyXG4gICAgY29uc3QgaXNIZWlnaHRBdXRvID1cclxuICAgICAgbGF5b3V0U2V0dGluZz8uYXV0b1Byb3BzPy5oZWlnaHQgPT09IExheW91dEl0ZW1TaXplTW9kZXMuQXV0byB8fFxyXG4gICAgICBsYXlvdXRTZXR0aW5nPy5hdXRvUHJvcHM/LmhlaWdodCA9PT0gdHJ1ZVxyXG4gICAgY29uc3QgaXNXaWR0aEF1dG8gPVxyXG4gICAgICBsYXlvdXRTZXR0aW5nPy5hdXRvUHJvcHM/LndpZHRoID09PSBMYXlvdXRJdGVtU2l6ZU1vZGVzLkF1dG8gfHxcclxuICAgICAgbGF5b3V0U2V0dGluZz8uYXV0b1Byb3BzPy53aWR0aCA9PT0gdHJ1ZVxyXG4gICAgLy8gcnVudGltZSBkcyBpbmZvIG1hcChlZy4gYWRkIGRhdGEgd2lkZ2V0KVxyXG4gICAgY29uc3QgcnVudGltZURhdGFTb3VyY2VJbmZvcyA9IHt9XHJcbiAgICBjb25zdCB1cGRhdGVkVmlld0luVGFibGVPYmogPSBwcm9wcz8ubXV0YWJsZVN0YXRlUHJvcHM/LnZpZXdJblRhYmxlT2JqXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB1cGRhdGVkVmlld0luVGFibGVPYmopIHtcclxuICAgICAgLy8gdXBkYXRlIGxhYmVsXHJcbiAgICAgIGNvbnN0IG5ld0xhYmVsID0gdXBkYXRlZFZpZXdJblRhYmxlT2JqW2tleV0/LmRhTGF5ZXJJdGVtPy5kYXRhQWN0aW9uRGF0YVNvdXJjZT8uZGF0YVNvdXJjZUpzb24/LmxhYmVsXHJcbiAgICAgIGlmIChuZXdMYWJlbCkgdXBkYXRlZFZpZXdJblRhYmxlT2JqW2tleV0uZGFMYXllckl0ZW0ubmFtZSA9IG5ld0xhYmVsXHJcbiAgICAgIC8vIHVwZGF0ZSBydW50aW1lIGRhdGFTb3VyY2UgaW5mb1xyXG4gICAgICBjb25zdCBkYXRhQWN0aW9uRGF0YVNvdXJjZUlkID0gdXBkYXRlZFZpZXdJblRhYmxlT2JqW2tleV0/LmRhTGF5ZXJJdGVtPy5kYXRhQWN0aW9uRGF0YVNvdXJjZT8uaWRcclxuICAgICAgY29uc3QgZGF0YUFjdGlvbkRhdGFTb3VyY2VJbmZvID0gdXBkYXRlZFZpZXdJblRhYmxlT2JqW2tleV0/LmRhTGF5ZXJJdGVtPy5kYXRhQWN0aW9uRGF0YVNvdXJjZT8uZ2V0SW5mbygpXHJcbiAgICAgIHJ1bnRpbWVEYXRhU291cmNlSW5mb3NbYCR7cnVudGltZURhdGFTb3VyY2VLZXl9XyR7ZGF0YUFjdGlvbkRhdGFTb3VyY2VJZH1gXSA9IGRhdGFBY3Rpb25EYXRhU291cmNlSW5mb1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYXBwTW9kZTogc3RhdGU/LmFwcFJ1bnRpbWVJbmZvPy5hcHBNb2RlLFxyXG4gICAgICBpc1JUTDogc3RhdGU/LmFwcENvbnRleHQ/LmlzUlRMLFxyXG4gICAgICBzdGF0ZVNob3dMb2FkaW5nOiBzdGF0ZT8ud2lkZ2V0c1N0YXRlPy5bcHJvcHMuaWRdPy5zaG93TG9hZGluZyxcclxuICAgICAgY3VycmVudFBhZ2VJZDogc3RhdGU/LmFwcFJ1bnRpbWVJbmZvPy5jdXJyZW50UGFnZUlkLFxyXG4gICAgICB2aWV3SW5UYWJsZU9iajogdXBkYXRlZFZpZXdJblRhYmxlT2JqLFxyXG4gICAgICBlbmFibGVEYXRhQWN0aW9uOiBlbmFibGVEYXRhQWN0aW9uID09PSB1bmRlZmluZWQgPyB0cnVlIDogZW5hYmxlRGF0YUFjdGlvbixcclxuICAgICAgLi4ucnVudGltZURhdGFTb3VyY2VJbmZvcyxcclxuICAgICAgaXNIZWlnaHRBdXRvLFxyXG4gICAgICBpc1dpZHRoQXV0b1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XHJcbiAgICBzdXBlcihwcm9wcylcclxuXHJcbiAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICBhcGlMb2FkZWQ6IGZhbHNlLFxyXG4gICAgICBkYXRhU291cmNlOiB1bmRlZmluZWQsXHJcbiAgICAgIGFjdGl2ZVRhYklkOiB1bmRlZmluZWQsXHJcbiAgICAgIGRvd25sb2FkT3BlbjogZmFsc2UsXHJcbiAgICAgIHNlYXJjaFRleHQ6ICcnLFxyXG4gICAgICBzZWxlY3RRdWVyeUZsYWc6IGZhbHNlLFxyXG4gICAgICBtb2JpbGVGbGFnOiBmYWxzZSxcclxuICAgICAgc2VhcmNoVG9vbEZsYWc6IGZhbHNlLFxyXG4gICAgICBib3R0b21SZXNwb25zaXZlRmxhZzogZmFsc2UsXHJcbiAgICAgIHRhYmxlU2hvd0NvbHVtbnM6IHVuZGVmaW5lZCxcclxuICAgICAgaXNPcGVuU2VhcmNoUG9wcGVyOiBmYWxzZSxcclxuICAgICAgZW1wdHlUYWJsZTogZmFsc2UsXHJcbiAgICAgIGVtcHR5RGF0YTogZmFsc2UsXHJcbiAgICAgIHNlbGVjdFJlY29yZHM6IFtdLFxyXG4gICAgICBub3RSZWFkeTogZmFsc2UsXHJcbiAgICAgIHNlbGZEc0NoYW5nZTogZmFsc2UsXHJcbiAgICAgIHNob3dMb2FkaW5nOiBmYWxzZSxcclxuICAgICAgaW50ZXJ2YWw6IDAsXHJcbiAgICAgIGF1dG9SZWZyZXNoTG9hZGluZ1N0cmluZzogJycsXHJcbiAgICAgIGlzU2hvd1N1Z2dlc3Rpb246IGZhbHNlLFxyXG4gICAgICBzZWFyY2hTdWdnZXN0aW9uOiBbXSxcclxuICAgICAgYWxsb3dEZWw6IHRydWUsXHJcbiAgICAgIHRhYmxlTG9hZGVkOiBmYWxzZSxcclxuICAgICAgdGFibGVUb3RhbDogMCxcclxuICAgICAgdGFibGVTZWxlY3RlZDogMCxcclxuICAgICAgd2lkZ2V0V2lkdGg6IHByb3BzPy5tYW5pZmVzdD8uZGVmYXVsdFNpemU/LndpZHRoIHx8IDYwMCxcclxuICAgICAgaXNUYWJsZUVkaXRpbmc6IGZhbHNlLFxyXG4gICAgICBleGJQcml2aWxlZ2U6IGZhbHNlLFxyXG4gICAgICBpc01vZGFsT3BlbjogZmFsc2UsXHJcbiAgICAgIGlzUGVybWlzc2lvbk1vZGFsT3BlbjogZmFsc2UsXHJcbiAgICAgIGlzUHJvZ3Jlc3NNb2RhbE9wZW46IGZhbHNlLFxyXG4gICAgICBtb2RhbENvbnRlbnQ6IDxkaXY+dGVzdDwvZGl2PixcclxuICAgICAgY2FuY2xlV2l0aEVtYWlsTm90aWZ5OiBmYWxzZVxyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhU291cmNlQ2hhbmdlID0gZmFsc2VcclxuICAgIHRoaXMuZGF0YUFjdGlvbkNhbkxvYWQgPSB0cnVlXHJcbiAgICB0aGlzLmRhdGFBY3Rpb25UYWJsZVJlY29yZHMgPSB7fVxyXG4gICAgdGhpcy51cGRhdGluZ1RhYmxlID0gZmFsc2VcclxuICAgIHRoaXMucmVtb3ZlQ29uZmlnID0gZmFsc2VcclxuICAgIHRoaXMuY3VycmVudFJlcXVlc3RJZCA9IDBcclxuICAgIHRoaXMudmlld1RhYmxlSWQgPSAwXHJcbiAgICB0aGlzLnRpbWVyRm4gPSBudWxsXHJcbiAgICB0aGlzLmxhc3RTcWwgPSAnJ1xyXG4gICAgdGhpcy5kZWJvdW5jZU9uUmVzaXplID0gbG9kYXNoLmRlYm91bmNlKFxyXG4gICAgICAod2lkdGgsIGhlaWdodCkgPT4geyB0aGlzLm9uVG9vbFN0eWxlQ2hhbmdlKHdpZHRoLCBoZWlnaHQpIH0sXHJcbiAgICAgIDIwMFxyXG4gICAgKVxyXG4gICAgdGhpcy5kc01hbmFnZXIgPSBEYXRhU291cmNlTWFuYWdlci5nZXRJbnN0YW5jZSgpXHJcbiAgICB0aGlzLmNsaWNrVGltZXIgPSB1bmRlZmluZWRcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgKG5leHRQcm9wcywgcHJldlN0YXRlKSB7XHJcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gbmV4dFByb3BzXHJcbiAgICBjb25zdCB7IGxheWVyc0NvbmZpZyB9ID0gY29uZmlnXHJcbiAgICBjb25zdCB7IGFjdGl2ZVRhYklkIH0gPSBwcmV2U3RhdGVcclxuICAgIC8vIGdldCBkYXRhLWFjdGlvbiB0YWJsZSBjb25maWdcclxuICAgIGNvbnN0IGRhTGF5ZXJzQ29uZmlnID0gbmV3IFdpZGdldChuZXh0UHJvcHMpLmdldERhdGFBY3Rpb25UYWJsZSgpXHJcbiAgICBjb25zdCBhbGxMYXllcnNDb25maWcgPSBsYXllcnNDb25maWcuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5jb25jYXQoZGFMYXllcnNDb25maWcpXHJcbiAgICBpZiAoKCFhY3RpdmVUYWJJZCB8fCBhbGxMYXllcnNDb25maWcuZmluZEluZGV4KHggPT4geC5pZCA9PT0gYWN0aXZlVGFiSWQpIDwgMCkgJiYgYWxsTGF5ZXJzQ29uZmlnLmxlbmd0aCA+IDApIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBhY3RpdmVUYWJJZDogYWxsTGF5ZXJzQ29uZmlnWzBdPy5pZFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xyXG4gICAgaWYgKCF0aGlzLnN0YXRlLmFwaUxvYWRlZCkge1xyXG4gICAgICBsb2FkQXJjR0lTSlNBUElNb2R1bGVzKFtcclxuICAgICAgICAnZXNyaS93aWRnZXRzL0ZlYXR1cmVUYWJsZScsXHJcbiAgICAgICAgJ2VzcmkvbGF5ZXJzL0ZlYXR1cmVMYXllcicsXHJcbiAgICAgICAgJ2VzcmkvbGF5ZXJzL0ltYWdlcnlMYXllcicsXHJcbiAgICAgICAgJ2VzcmkvbGF5ZXJzL09yaWVudGVkSW1hZ2VyeUxheWVyJyxcclxuICAgICAgICAnZXNyaS93aWRnZXRzL0ZlYXR1cmVUYWJsZS9zdXBwb3J0L1RhYmxlVGVtcGxhdGUnLFxyXG4gICAgICAgICdlc3JpL2dlb21ldHJ5L2dlb21ldHJ5RW5naW5lJyxcclxuICAgICAgICAnZXNyaS9nZW9tZXRyeS9Qb2x5Z29uJ1xyXG4gICAgICBdKS50aGVuKG1vZHVsZXMgPT4ge1xyXG4gICAgICAgIDtbdGhpcy5GZWF0dXJlVGFibGUsIHRoaXMuRmVhdHVyZUxheWVyLCB0aGlzLkltYWdlcnlMYXllciwgdGhpcy5PcmllbnRlZEltYWdlcnlMYXllciwgdGhpcy5UYWJsZVRlbXBsYXRlLCB0aGlzLmdlb21ldHJ5RW5naW5lLCB0aGlzLlBvbHlnb25dID0gbW9kdWxlc1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgYXBpTG9hZGVkOiB0cnVlXHJcbiAgICAgICAgfSlcclxuICAgICAgICB0aGlzLmRlc3Ryb3lUYWJsZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jcmVhdGVUYWJsZSgpXHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50ICgpIHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucHJvcHNcclxuICAgIHRoaXMucHJvbWlzZXMuZm9yRWFjaChwID0+IHsgcC5jYW5jZWwoKSB9KVxyXG4gICAgdGhpcy5kZXN0cm95VGFibGUoKVxyXG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuc3VnZ2VzdGlvbnNRdWVyeVRpbWVvdXQpXHJcbiAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b1JlZnJlc2hMb2FkaW5nVGltZSlcclxuICAgIE11dGFibGVTdG9yZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS51cGRhdGVTdGF0ZVZhbHVlKGlkLCAndmlld0luVGFibGVPYmonLCB7fSlcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZFVwZGF0ZSAocHJldlByb3BzOiBBbGxXaWRnZXRQcm9wczxJTUNvbmZpZz4gJiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSkge1xyXG4gICAgY29uc3QgeyBhY3RpdmVUYWJJZCwgZGF0YVNvdXJjZSwgdGFibGVMb2FkZWQsIGV4YlByaXZpbGVnZSB9ID0gdGhpcy5zdGF0ZVxyXG4gICAgY29uc3QgeyBpZCwgY29uZmlnLCBjdXJyZW50UGFnZUlkLCBzdGF0ZSwgYXBwTW9kZSwgdmlld0luVGFibGVPYmogfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHsgbGF5ZXJzQ29uZmlnIH0gPSBjb25maWdcclxuICAgIGNvbnN0IGRhTGF5ZXJzQ29uZmlnID0gdGhpcy5nZXREYXRhQWN0aW9uVGFibGUoKVxyXG4gICAgY29uc3QgYWxsTGF5ZXJzQ29uZmlnID0gbGF5ZXJzQ29uZmlnLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkuY29uY2F0KGRhTGF5ZXJzQ29uZmlnKVxyXG4gICAgY29uc3QgZGF0YUFjdGlvbkFjdGl2ZU9iaiA9IHRoaXMucHJvcHM/LnN0YXRlUHJvcHM/LmRhdGFBY3Rpb25BY3RpdmVPYmpcclxuICAgIGNvbnN0IG5ld0FjdGl2ZVRhYklkID0gZGF0YUFjdGlvbkFjdGl2ZU9iaj8uZGF0YUFjdGlvblRhYmxlID8gZGF0YUFjdGlvbkFjdGl2ZU9iaj8uYWN0aXZlVGFiSWQgOiBhY3RpdmVUYWJJZFxyXG4gICAgLy8gZGVhbCB3aXRoIHJ1bnRpbWUgdXBkYXRlIGNhdXNlZCBieSBzZXR0aW5nIGNoYW5nZVxyXG4gICAgdGhpcy5vblNldHRpbmdDaGFuZ2VSdW50aW1lKClcclxuICAgIC8vIHZpZXcgaW4gdGFibGUgZmlsdGVyIGNoYW5nZVxyXG4gICAgdGhpcy5vbkZpbHRlckNoYW5nZShuZXdBY3RpdmVUYWJJZClcclxuICAgIC8vIFRoZSBhY3RpdmVUYWIgY2hhbmdlIGNhdXNlZCBieSBzZXR0aW5nXHJcbiAgICBjb25zdCBzZXR0aW5nQ2hhbmdlVGFiID0gdGhpcy5wcm9wcz8uc3RhdGVQcm9wcz8uc2V0dGluZ0NoYW5nZVRhYiB8fCBmYWxzZVxyXG4gICAgY29uc3QgYWN0aXZlU2V0dGluZ1RhYklkID0gdGhpcy5wcm9wcz8uc3RhdGVQcm9wcz8uYWN0aXZlVGFiSWRcclxuICAgIGlmIChzZXR0aW5nQ2hhbmdlVGFiICYmIGFjdGl2ZVNldHRpbmdUYWJJZCAmJiAoYWN0aXZlVGFiSWQgIT09IGFjdGl2ZVNldHRpbmdUYWJJZCkpIHtcclxuICAgICAgdGhpcy5wcm9wcy5kaXNwYXRjaChcclxuICAgICAgICBhcHBBY3Rpb25zLndpZGdldFN0YXRlUHJvcENoYW5nZShpZCwgJ3NldHRpbmdDaGFuZ2VUYWInLCBmYWxzZSlcclxuICAgICAgKVxyXG4gICAgICBpZiAoYXBwTW9kZSA9PT0gQXBwTW9kZS5SdW4pIHRoaXMub25UYWdDbGljayhhY3RpdmVTZXR0aW5nVGFiSWQpXHJcbiAgICB9XHJcbiAgICAvLyByZXNldCBzZWFyY2hUZXh0IGFuZCBzdWdnZXN0aW9uXHJcbiAgICBjb25zdCBjb250cm9sbGVyQ2xvc2UgPSBzdGF0ZSA9PT0gV2lkZ2V0U3RhdGUuQ2xvc2VkXHJcbiAgICBjb25zdCBwYWdlQ2xvc2UgPSBwcmV2UHJvcHMuY3VycmVudFBhZ2VJZCAhPT0gY3VycmVudFBhZ2VJZFxyXG4gICAgY29uc3QgbGl2ZUNsb3NlID0gcHJldlByb3BzLmFwcE1vZGUgPT09IEFwcE1vZGUuUnVuICYmIGFwcE1vZGUgPT09IEFwcE1vZGUuRGVzaWduXHJcbiAgICBpZiAoKGNvbnRyb2xsZXJDbG9zZSB8fCBwYWdlQ2xvc2UgfHwgbGl2ZUNsb3NlKSAmJiB0aGlzLnRhYmxlKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWFyY2hUZXh0OiAnJywgaXNTaG93U3VnZ2VzdGlvbjogZmFsc2UgfSlcclxuICAgIH1cclxuICAgIC8vIGNvbmZpZyBjaGFuZ2VcclxuICAgIGNvbnN0IHByZXZDdXJDb25maWcgPSBwcmV2UHJvcHMuY29uZmlnLmxheWVyc0NvbmZpZz8uYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5jb25jYXQoZGFMYXllcnNDb25maWcpLmZpbmQoXHJcbiAgICAgIGl0ZW0gPT4gaXRlbS5pZCA9PT0gcHJldlN0YXRlLmFjdGl2ZVRhYklkXHJcbiAgICApXHJcbiAgICBjb25zdCBuZXdDdXJDb25maWcgPSBhbGxMYXllcnNDb25maWcuZmluZChcclxuICAgICAgaXRlbSA9PiBpdGVtLmlkID09PSBuZXdBY3RpdmVUYWJJZFxyXG4gICAgKVxyXG4gICAgLy8gY2hlY2sgaWYgdGhlIGRzIGlzIGF2YWlsYWJsZVxyXG4gICAgY29uc3QgZHNBdmFpbGFibGUgPSB0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKGRhdGFTb3VyY2U/LmlkKVxyXG4gICAgLy8gY2xvc2UgdGFibGUgdGFiXHJcbiAgICBpZiAodGhpcy5yZW1vdmVDb25maWcpIHtcclxuICAgICAgdGhpcy5yZW1vdmVDb25maWcgPSBmYWxzZVxyXG4gICAgICBpZiAoIW5ld0N1ckNvbmZpZykgcmV0dXJuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB2aWV3SW5UYWJsZUlkcyA9IHZpZXdJblRhYmxlT2JqICYmIE9iamVjdC5rZXlzKHZpZXdJblRhYmxlT2JqKVxyXG4gICAgICBpZiAoKHZpZXdJblRhYmxlSWRzPy5sZW5ndGggPT09IDAgJiYgIXByZXZDdXJDb25maWcpIHx8ICFuZXdDdXJDb25maWcpIHJldHVyblxyXG4gICAgfVxyXG4gICAgLy8gc2VhcmNoIGNsb3NlXHJcbiAgICBjb25zdCBvcmdTZWFyY2hPbiA9IHByZXZDdXJDb25maWc/LmVuYWJsZVNlYXJjaCAmJiBwcmV2Q3VyQ29uZmlnPy5zZWFyY2hGaWVsZHNcclxuICAgIGNvbnN0IG5ld1NlYXJjaE9uID0gbmV3Q3VyQ29uZmlnPy5lbmFibGVTZWFyY2ggJiYgbmV3Q3VyQ29uZmlnPy5zZWFyY2hGaWVsZHNcclxuICAgIGlmIChvcmdTZWFyY2hPbiAmJiAhbmV3U2VhcmNoT24gJiYgZHNBdmFpbGFibGUpIHtcclxuICAgICAgZGF0YVNvdXJjZS51cGRhdGVRdWVyeVBhcmFtcyhFTVBUWV9RVUVSWV9QQVJBTVMsIGlkKVxyXG4gICAgfVxyXG4gICAgLy8gZGVsZXRlIG9wdGlvblxyXG4gICAgaWYgKG5ld0N1ckNvbmZpZz8uZW5hYmxlRGVsZXRlICE9PSBwcmV2Q3VyQ29uZmlnPy5lbmFibGVEZWxldGUpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFsbG93RGVsOiBleGJQcml2aWxlZ2UgJiYgbmV3Q3VyQ29uZmlnPy5lbmFibGVEZWxldGUgfSlcclxuICAgIH1cclxuICAgIC8vIHNldHRpbmcgb3B0aW9ucyBjaGFuZ2VcclxuICAgIGNvbnN0IG9wdGlvbkNoYW5nZUZsYWcgPSB0aGlzLnNldHRpbmdPcHRpb25zQ2hhbmdlKHByZXZDdXJDb25maWcsIG5ld0N1ckNvbmZpZylcclxuICAgIGNvbnN0IHRhYkNoYW5nZSA9ICFkYXRhQWN0aW9uQWN0aXZlT2JqPy5kYXRhQWN0aW9uVGFibGUgJiYgcHJldkN1ckNvbmZpZz8uaWQgIT09IG5ld0N1ckNvbmZpZz8uaWRcclxuICAgIGNvbnN0IHRhYmxlT3B0aW9uQ2hhbmdlID0gcHJldkN1ckNvbmZpZz8uaWQgPT09IG5ld0N1ckNvbmZpZz8uaWQgJiYgb3B0aW9uQ2hhbmdlRmxhZ1xyXG4gICAgaWYgKHRhYkNoYW5nZSB8fCB0YWJsZU9wdGlvbkNoYW5nZSkge1xyXG4gICAgICB0aGlzLnVwZGF0aW5nVGFibGUgPSB0cnVlXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgc2VhcmNoVGV4dDogJycsXHJcbiAgICAgICAgICBpc1Nob3dTdWdnZXN0aW9uOiBmYWxzZSxcclxuICAgICAgICAgIHRhYmxlU2hvd0NvbHVtbnM6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIHRhYmxlVG90YWw6IDAsXHJcbiAgICAgICAgICB0YWJsZVNlbGVjdGVkOiAwLFxyXG4gICAgICAgICAgc2VsZWN0UXVlcnlGbGFnOiBmYWxzZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgLy8gcmVzZXQgZHMgcXVlcnlcclxuICAgICAgICAgIGRzQXZhaWxhYmxlICYmIGRhdGFTb3VyY2U/LnVwZGF0ZVF1ZXJ5UGFyYW1zKEVNUFRZX1FVRVJZX1BBUkFNUywgaWQpXHJcbiAgICAgICAgICB0aGlzLmRlc3Ryb3lUYWJsZSgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVRhYmxlKClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgLy8gZGF0YS1hY3Rpb246IHZpZXcgaW4gdGFibGVcclxuICAgIGlmIChkYXRhQWN0aW9uQWN0aXZlT2JqPy5kYXRhQWN0aW9uVGFibGUgJiYgdGhpcy5kYXRhQWN0aW9uQ2FuTG9hZCAmJiAhdGhpcy51cGRhdGluZ1RhYmxlKSB7XHJcbiAgICAgIHRoaXMuZGF0YUFjdGlvbkNhbkxvYWQgPSBmYWxzZVxyXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxyXG4gICAgICAgIGFwcEFjdGlvbnMud2lkZ2V0U3RhdGVQcm9wQ2hhbmdlKGlkLCAnZGF0YUFjdGlvbkFjdGl2ZU9iaicsIHsgYWN0aXZlVGFiSWQ6IG5ld0FjdGl2ZVRhYklkLCBkYXRhQWN0aW9uVGFibGU6IGZhbHNlIH0pXHJcbiAgICAgIClcclxuICAgICAgdGhpcy51cGRhdGluZ1RhYmxlID0gdHJ1ZVxyXG4gICAgICB0aGlzLnNldFN0YXRlKFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGFjdGl2ZVRhYklkOiBuZXdBY3RpdmVUYWJJZCxcclxuICAgICAgICAgIHNlYXJjaFRleHQ6ICcnLFxyXG4gICAgICAgICAgdGFibGVTaG93Q29sdW1uczogdW5kZWZpbmVkXHJcbiAgICAgICAgfSxcclxuICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAvLyByZXNldCBkcyBxdWVyeVxyXG4gICAgICAgICAgZHNBdmFpbGFibGUgJiYgZGF0YVNvdXJjZT8udXBkYXRlUXVlcnlQYXJhbXMoRU1QVFlfUVVFUllfUEFSQU1TLCBpZClcclxuICAgICAgICAgIHRoaXMuZGVzdHJveVRhYmxlKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVGFibGUoKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIClcclxuICAgIH1cclxuICAgIC8vIHNxbCBjaGFuZ2UgY29udGludW91c2x5XHJcbiAgICBpZiAodGFibGVMb2FkZWQgJiYgIXByZXZTdGF0ZS50YWJsZUxvYWRlZCAmJiB0aGlzLmxhc3RTcWwpIHtcclxuICAgICAgaWYgKHRoaXMudGFibGUubGF5ZXIgJiYgJ2RlZmluaXRpb25FeHByZXNzaW9uJyBpbiB0aGlzLnRhYmxlLmxheWVyKSB7XHJcbiAgICAgICAgKHRoaXMudGFibGUubGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24gYXMgYW55KSA9IHRoaXMubGFzdFNxbFxyXG4gICAgICAgIHRoaXMubGFzdFNxbCA9ICcnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFRpbWV6b25lID0gKGRhdGFTb3VyY2UpID0+IHtcclxuICAgIHJldHVybiBkYXRhU291cmNlVXRpbHMuZ2V0VGltZXpvbmVBUElGcm9tUnVudGltZShkYXRhU291cmNlLmdldFRpbWV6b25lKCkpXHJcbiAgfVxyXG5cclxuICAvLyBkZWFsIHdpdGggcnVudGltZSB1cGRhdGUgY2F1c2VkIGJ5IHNldHRpbmcgY2hhbmdlXHJcbiAgb25TZXR0aW5nQ2hhbmdlUnVudGltZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IG9wdGlvbkNoYW5nZVN1Z2dlc3Rpb24gPSB0aGlzLnByb3BzPy5zdGF0ZVByb3BzPy5vcHRpb25DaGFuZ2VTdWdnZXN0aW9uIHx8IGZhbHNlXHJcbiAgICBjb25zdCByZW1vdmVMYXllckZsYWcgPSB0aGlzLnByb3BzPy5zdGF0ZVByb3BzPy5yZW1vdmVMYXllckZsYWcgfHwgZmFsc2VcclxuICAgIGlmIChvcHRpb25DaGFuZ2VTdWdnZXN0aW9uKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1Nob3dTdWdnZXN0aW9uOiBmYWxzZSB9KVxyXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxyXG4gICAgICAgIGFwcEFjdGlvbnMud2lkZ2V0U3RhdGVQcm9wQ2hhbmdlKGlkLCAnb3B0aW9uQ2hhbmdlU3VnZ2VzdGlvbicsIGZhbHNlKVxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgICBpZiAocmVtb3ZlTGF5ZXJGbGFnKSB7XHJcbiAgICAgIGNvbnN0IHBvcG92ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxyXG4gICAgICAgICdlc3JpLXBvcG92ZXIgZXNyaS1wb3BvdmVyLS1vcGVuJ1xyXG4gICAgICApXHJcbiAgICAgIGlmIChwb3BvdmVyICYmIHBvcG92ZXIubGVuZ3RoID4gMCkgcG9wb3ZlclswXS5yZW1vdmUoKVxyXG4gICAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxyXG4gICAgICAgIGFwcEFjdGlvbnMud2lkZ2V0U3RhdGVQcm9wQ2hhbmdlKGlkLCAncmVtb3ZlTGF5ZXJGbGFnJywgZmFsc2UpXHJcbiAgICAgIClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHZpZXctaW4tdGFibGUgZmlsdGVyIGNoYW5nZVxyXG4gIG9uRmlsdGVyQ2hhbmdlID0gKG5ld0FjdGl2ZVRhYklkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHsgZGF0YVNvdXJjZSwgYWN0aXZlVGFiSWQgfSA9IHRoaXMuc3RhdGVcclxuICAgIGNvbnN0IHsgdmlld0luVGFibGVPYmogfSA9IHRoaXMucHJvcHNcclxuICAgIGlmICh2aWV3SW5UYWJsZU9iaiAmJiBhY3RpdmVUYWJJZCA9PT0gbmV3QWN0aXZlVGFiSWQpIHtcclxuICAgICAgY29uc3Qgdmlld0luVGFibGVJZHMgPSBPYmplY3Qua2V5cyh2aWV3SW5UYWJsZU9iailcclxuICAgICAgY29uc3QgY3VycmVudFRhYlZpZXdUYWJsZUluZGV4ID0gdmlld0luVGFibGVJZHMuZmluZEluZGV4KGEgPT4gYSA9PT0gbmV3QWN0aXZlVGFiSWQpXHJcbiAgICAgIGlmIChjdXJyZW50VGFiVmlld1RhYmxlSW5kZXggPiAtMSkge1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVZpZXdEcyA9IHZpZXdJblRhYmxlT2JqW25ld0FjdGl2ZVRhYklkXS5kYUxheWVySXRlbS5kYXRhQWN0aW9uRGF0YVNvdXJjZVxyXG4gICAgICAgIGNvbnN0IGFjdGl2ZVVzZURzID0gdmlld0luVGFibGVPYmpbbmV3QWN0aXZlVGFiSWRdLmRhTGF5ZXJJdGVtLnVzZURhdGFTb3VyY2VcclxuICAgICAgICBsZXQgZHNQYXJhbTogYW55XHJcbiAgICAgICAgaWYgKGFjdGl2ZVZpZXdEcykge1xyXG4gICAgICAgICAgZHNQYXJhbSA9IChhY3RpdmVWaWV3RHMgYXMgUXVlcmlhYmxlRGF0YVNvdXJjZSkuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKClcclxuICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZVVzZURzICYmIGRhdGFTb3VyY2UpIHtcclxuICAgICAgICAgIGRzUGFyYW0gPSBkYXRhU291cmNlLmdldEN1cnJlbnRRdWVyeVBhcmFtcygpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG9yZ0V4cHJlc3Npb24gPSB0aGlzLnRhYmxlPy5sYXllcj8uZGVmaW5pdGlvbkV4cHJlc3Npb25cclxuICAgICAgICBpZiAob3JnRXhwcmVzc2lvbiAhPT0gdW5kZWZpbmVkICYmIG9yZ0V4cHJlc3Npb24gIT09IGRzUGFyYW0/LndoZXJlKSB7XHJcbiAgICAgICAgICAodGhpcy50YWJsZS5sYXllci5kZWZpbml0aW9uRXhwcmVzc2lvbiBhcyBhbnkpID0gZHNQYXJhbT8ud2hlcmVcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIHNldHRpbmcgb3B0aW9ucyBjaGFuZ2VcclxuICBzZXR0aW5nT3B0aW9uc0NoYW5nZSA9IChwcmV2Q3VyQ29uZmlnOiBMYXllcnNDb25maWcsIG5ld0N1ckNvbmZpZzogTGF5ZXJzQ29uZmlnKTogYm9vbGVhbiA9PiB7XHJcbiAgICBsZXQgb3B0aW9uQ2hhbmdlRmxhZyA9IGZhbHNlXHJcbiAgICBpZiAocHJldkN1ckNvbmZpZz8uaWQgIT09IG5ld0N1ckNvbmZpZz8uaWQpIHJldHVybiBvcHRpb25DaGFuZ2VGbGFnXHJcbiAgICBjb25zdCBvcHRpb25LZXlzID0gW1xyXG4gICAgICAnZW5hYmxlQXR0YWNoZW1lbnRzJyxcclxuICAgICAgJ2VuYWJsZUVkaXQnLFxyXG4gICAgICAnYWxsb3dDc3YnLFxyXG4gICAgICAnZW5hYmxlU2VsZWN0JyxcclxuICAgICAgJ3NlbGVjdE1vZGUnLFxyXG4gICAgICAnbGF5ZXJIb25vck1vZGUnLFxyXG4gICAgICAndGFibGVGaWVsZHMnLFxyXG4gICAgICAnY29sdW1uU2V0dGluZydcclxuICAgIF1cclxuICAgIGNvbnN0IHJlZmVyZW5jZVR5cGVLZXlzID0gWyd0YWJsZUZpZWxkcycsICdjb2x1bW5TZXR0aW5nJ11cclxuICAgIGZvciAoY29uc3QgaXRlbSBvZiBvcHRpb25LZXlzKSB7XHJcbiAgICAgIGNvbnN0IGNoYW5nZUZsYWcgPSByZWZlcmVuY2VUeXBlS2V5cy5pbmNsdWRlcyhpdGVtKSA/ICFsb2Rhc2guaXNEZWVwRXF1YWwocHJldkN1ckNvbmZpZz8uW2l0ZW1dLCBuZXdDdXJDb25maWc/LltpdGVtXSkgOiAocHJldkN1ckNvbmZpZz8uW2l0ZW1dICE9PSBuZXdDdXJDb25maWc/LltpdGVtXSlcclxuICAgICAgaWYgKGNoYW5nZUZsYWcpIHtcclxuICAgICAgICBvcHRpb25DaGFuZ2VGbGFnID0gdHJ1ZVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIHdoZW4gaW4gJ0ZpdCB0byBkYXRhJyBtb2RlLCBjaGFuZ2UgZm9udCBzaXplIG5lZWQgcmVyZW5kZXJcclxuICAgIGlmIChwcmV2Q3VyQ29uZmlnPy5oZWFkZXJGb250U2V0dGluZz8uZm9udFNpemUgIT09IG5ld0N1ckNvbmZpZz8uaGVhZGVyRm9udFNldHRpbmc/LmZvbnRTaXplICYmIG5ld0N1ckNvbmZpZz8uY29sdW1uU2V0dGluZz8ucmVzcG9uc2l2ZVR5cGUgPT09IFJlc3BvbnNpdmVUeXBlLkZpdCkge1xyXG4gICAgICBvcHRpb25DaGFuZ2VGbGFnID0gdHJ1ZVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9wdGlvbkNoYW5nZUZsYWdcclxuICB9XHJcblxyXG4gIGdldEZpZWxkc0Zyb21EYXRhc291cmNlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHsgbGF5ZXJzQ29uZmlnIH0gPSBjb25maWdcclxuICAgIGNvbnN0IHsgYWN0aXZlVGFiSWQgfSA9IHRoaXMuc3RhdGVcclxuICAgIGNvbnN0IGRhTGF5ZXJzQ29uZmlnID0gdGhpcy5nZXREYXRhQWN0aW9uVGFibGUoKVxyXG4gICAgY29uc3QgYWxsTGF5ZXJzQ29uZmlnID0gbGF5ZXJzQ29uZmlnLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkuY29uY2F0KGRhTGF5ZXJzQ29uZmlnKVxyXG4gICAgY29uc3QgY3VyTGF5ZXIgPSBhbGxMYXllcnNDb25maWdcclxuICAgICAgLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBhY3RpdmVUYWJJZClcclxuICAgIC8vICdhbGxGaWVsZHMnIG5lZWQgcmVjYWxjdWxhdGUoY2hhcnQgb3V0cHV0IGRzKSwgaWYgZGF0YUFjdGlvbkRhdGFTb3VyY2UgZXhpc3RzLCB1c2UgaXRcclxuICAgIGNvbnN0IHNlbGVjdGVkRHMgPSBjdXJMYXllcj8uZGF0YUFjdGlvbkRhdGFTb3VyY2UgfHwgdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShjdXJMYXllcj8udXNlRGF0YVNvdXJjZT8uZGF0YVNvdXJjZUlkKVxyXG4gICAgY29uc3QgYWxsRmllbGRzU2NoZW1hID0gc2VsZWN0ZWREcz8uZ2V0U2NoZW1hKClcclxuICAgIGNvbnN0IGFsbEZpZWxkcyA9IGFsbEZpZWxkc1NjaGVtYT8uZmllbGRzID8gT2JqZWN0LnZhbHVlcyhhbGxGaWVsZHNTY2hlbWE/LmZpZWxkcykgOiBbXVxyXG4gICAgY29uc3QgZGVmYXVsdEludmlzaWJsZSA9IFtcclxuICAgICAgJ0NyZWF0aW9uRGF0ZScsXHJcbiAgICAgICdDcmVhdG9yJyxcclxuICAgICAgJ0VkaXREYXRlJyxcclxuICAgICAgJ0VkaXRvcicsXHJcbiAgICAgICdHbG9iYWxJRCdcclxuICAgIF1cclxuICAgIGxldCB0YWJsZUZpZWxkcyA9IGFsbEZpZWxkcy5maWx0ZXIoXHJcbiAgICAgIGl0ZW0gPT4gIWRlZmF1bHRJbnZpc2libGUuaW5jbHVkZXMoaXRlbS5qaW11TmFtZSlcclxuICAgIClcclxuICAgIC8vIElmIHRoZXJlIGFyZSB0b28gbWFueSBjb2x1bW5zLCBvbmx5IHRoZSBmaXJzdCA1MCBjb2x1bW5zIHdpbGwgYmUgZGlzcGxheWVkIGJ5IGRlZmF1bHRcclxuICAgIGlmICh0YWJsZUZpZWxkcz8ubGVuZ3RoID4gNTApIHtcclxuICAgICAgdGFibGVGaWVsZHMgPSB0YWJsZUZpZWxkcy5zbGljZSgwLCA1MClcclxuICAgIH1cclxuICAgIHJldHVybiB7IGFsbEZpZWxkcywgdGFibGVGaWVsZHMgfVxyXG4gIH1cclxuXHJcbiAgb25Ub29sU3R5bGVDaGFuZ2UgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgIHdpZHRoIDwgQlJFQUtfUE9JTlRTWzBdXHJcbiAgICAgID8gdGhpcy5zZXRTdGF0ZSh7IG1vYmlsZUZsYWc6IHRydWUgfSlcclxuICAgICAgOiB0aGlzLnNldFN0YXRlKHsgbW9iaWxlRmxhZzogZmFsc2UgfSlcclxuICAgIHdpZHRoIDwgU0VBUkNIX1RPT0xfTUlOX1NJWkVcclxuICAgICAgPyB0aGlzLnNldFN0YXRlKHsgc2VhcmNoVG9vbEZsYWc6IHRydWUgfSlcclxuICAgICAgOiB0aGlzLnNldFN0YXRlKHsgc2VhcmNoVG9vbEZsYWc6IGZhbHNlIH0pXHJcbiAgICB3aWR0aCA8IFRBQkxFX0JPVFRPTV9CUkVBS19QT0lOVFNcclxuICAgICAgPyB0aGlzLnNldFN0YXRlKHsgYm90dG9tUmVzcG9uc2l2ZUZsYWc6IHRydWUgfSlcclxuICAgICAgOiB0aGlzLnNldFN0YXRlKHsgYm90dG9tUmVzcG9uc2l2ZUZsYWc6IGZhbHNlIH0pXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgd2lkZ2V0V2lkdGg6IHdpZHRoIH0pXHJcbiAgfVxyXG5cclxuICBvbkRhdGFTb3VyY2VDcmVhdGVkID0gKGRhdGFTb3VyY2U6IFF1ZXJpYWJsZURhdGFTb3VyY2UpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBkYXRhU291cmNlIH0pXHJcbiAgICBjb25zdCBpc1NlbGVjdGlvblZpZXcgPSBkYXRhU291cmNlPy5kYXRhVmlld0lkID09PSBTRUxFQ1RJT05fREFUQV9WSUVXX0lEXHJcbiAgICAvLyBUaGUgZmlyc3QgdGltZSB5b3Ugc3dpdGNoIGEgVEFCIGFuZCB0aGUgdGFyZ2V0IFRBQiBpcyB1c2luZyBkYXRhVmlldywgdGhlIGRzIGNoYW5nZXMgYWZ0ZXIgdGhlIHVwZGF0ZVxyXG4gICAgY29uc3QgaXNEYXRhVmlldyA9IGRhdGFTb3VyY2U/LmRhdGFWaWV3SWQgJiYgZGF0YVNvdXJjZT8uZGF0YVZpZXdJZCAhPT0gJ291dHB1dCcgJiYgIWlzU2VsZWN0aW9uVmlld1xyXG4gICAgY29uc3QgaGFzTm9TZWxlY3Rpb25WaWV3ID0gISFkYXRhU291cmNlLmdldE1haW5EYXRhU291cmNlKCkuZ2V0RGF0YVZpZXcoREFUQV9WSUVXX0lEX0ZPUl9OT19TRUxFQ1RJT04pXHJcbiAgICBjb25zdCBkc0NoYW5nZUNyZWF0ZVRhYmxlID0gIXRoaXMudXBkYXRpbmdUYWJsZSAmJiAoKGlzU2VsZWN0aW9uVmlldyAmJiBoYXNOb1NlbGVjdGlvblZpZXcpIHx8IGlzRGF0YVZpZXcpXHJcbiAgICBpZiAoZHNDaGFuZ2VDcmVhdGVUYWJsZSkge1xyXG4gICAgICB0aGlzLnVwZGF0aW5nVGFibGUgPSB0cnVlXHJcbiAgICAgIHRoaXMuZGF0YVNvdXJjZVVybCA9IGRhdGFTb3VyY2UudXJsXHJcbiAgICAgIHRoaXMuZGVzdHJveVRhYmxlKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudGFibGUpIHtcclxuICAgICAgICAgIGlmICh0aGlzLnRhYmxlLmhpZ2hsaWdodElkcykge1xyXG4gICAgICAgICAgICB0aGlzLnRhYmxlLmhpZ2hsaWdodElkcy5yZW1vdmVBbGwoKVxyXG4gICAgICAgICAgfSAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMucmVzZXRUYWJsZSgpXHJcbiAgICAgICAgfSAgICAgICAgICAgICAgICBcclxuICAgICAgICB0aGlzLmNyZWF0ZVRhYmxlKGRhdGFTb3VyY2UpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWQgPSAoZXJyOiBhbnkpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLnBlcm1pc2lvbklzc3VlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgdGhpcy5wZXJtaXNpb25Jc3N1ZSA9IFwiWW91IG1heSBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGUgZGF0YSBzb3VyY2UuIFBsZWFzZSBjb250YWN0IHRoZSBzdXBwb3J0IHRlYW0uXCJcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUGVybWlzc2lvbk1vZGFsT3BlbjogdHJ1ZSB9KTsgICBcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gb25TZWxlY3Rpb25DaGFuZ2UgPSAoc2VsZWN0ZWRSZWNvcmRzOiBhbnkpOiB2b2lkID0+IHsgXHJcbiAgLy8gICBpZiAoc2VsZWN0ZWRSZWNvcmRzICYmIHNlbGVjdGVkUmVjb3Jkc1swXSAhPSB1bmRlZmluZWQpIHtcclxuICAvLyAgICAgY29uc29sZS5sb2coXCJSZWNvcmQgc2VsZWN0ZWQgT0lEOiBcIiArIE51bWJlcihzZWxlY3RlZFJlY29yZHNbMF0pKSAgICAgICAgICAgIFxyXG4gIC8vICAgfVxyXG4gIC8vICAgZWxzZSB7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKFwiTm8gcmVjb3JkIHNlbGVjdGVkLiBcIilcclxuICAvLyAgIH0gXHJcbiAgLy8gfVxyXG5cclxuICB1cGRhdGVHZW9tZXRyeUFuZFNxbCA9IChkYXRhU291cmNlOiBRdWVyaWFibGVEYXRhU291cmNlKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMudGFibGU/LmxheWVyKSByZXR1cm5cclxuICAgIGNvbnN0IHsgdGFibGVMb2FkZWQgfSA9IHRoaXMuc3RhdGVcclxuICAgIGNvbnN0IGRzUGFyYW06IGFueSA9IGRhdGFTb3VyY2U/LmdldEN1cnJlbnRRdWVyeVBhcmFtcygpXHJcbiAgICBjb25zdCBvcmdFeHByZXNzaW9uID0gdGhpcy50YWJsZS5sYXllci5kZWZpbml0aW9uRXhwcmVzc2lvblxyXG4gICAgY29uc3QgaXNEZWZhdWx0RXhwcmVzc2lvbiA9IG9yZ0V4cHJlc3Npb24gPT09ICcnICYmIGRzUGFyYW0/LndoZXJlID09PSAnMT0xJ1xyXG4gICAgaWYgKCFpc0RlZmF1bHRFeHByZXNzaW9uICYmIG9yZ0V4cHJlc3Npb24gIT09IGRzUGFyYW0/LndoZXJlKSB7XHJcbiAgICAgIGlmICghdGFibGVMb2FkZWQpIHtcclxuICAgICAgICB0aGlzLmxhc3RTcWwgPSBkc1BhcmFtPy53aGVyZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICh0aGlzLnRhYmxlLmxheWVyLmRlZmluaXRpb25FeHByZXNzaW9uIGFzIGFueSkgPSBkc1BhcmFtPy53aGVyZVxyXG4gICAgICAgIHRoaXMubGFzdFNxbCA9ICcnXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGRhdGFTb3VyY2VVdGlscy5jaGFuZ2VKaW11QXJjR0lTUXVlcnlUb0pTQVBJUXVlcnkoZGF0YVNvdXJjZSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlLCBJbW11dGFibGUoZHNQYXJhbSkpLnRoZW4ocmVzID0+IHtcclxuICAgICAgaWYgKCFyZXMpIHJldHVyblxyXG4gICAgICBjb25zdCB7IGdlb21ldHJ5LCBkaXN0YW5jZSwgdW5pdHMgfSA9IHJlc1xyXG4gICAgICBpZiAoIWdlb21ldHJ5KSByZXR1cm5cclxuICAgICAgY29uc3Qgc3IgPSBnZW9tZXRyeT8uc3BhdGlhbFJlZmVyZW5jZVxyXG4gICAgICBjb25zdCBnZW9tZXRyeVR5cGUgPSAoZ2VvbWV0cnkgYXMgX19lc3JpLkdlb21ldHJ5KT8udHlwZVxyXG4gICAgICBjb25zdCB7IGlzV0dTODQsIGlzV2ViTWVyY2F0b3IgfSA9IHNyIGFzIF9fZXNyaS5TcGF0aWFsUmVmZXJlbmNlXHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcclxuICAgICAgY29uc3QgdXNlQnVmZmVyTWV0aG9kID0gKGlzV0dTODQgfHwgaXNXZWJNZXJjYXRvcikgPyB0aGlzLmdlb21ldHJ5RW5naW5lLmdlb2Rlc2ljQnVmZmVyIDogdGhpcy5nZW9tZXRyeUVuZ2luZS5idWZmZXJcclxuICAgICAgY29uc3Qgb3JnR2VvbWV0cnlKc29uID0gKHRoaXMudGFibGU/LmZpbHRlckdlb21ldHJ5IGFzIGFueSk/LnRvSlNPTigpXHJcbiAgICAgIGlmIChnZW9tZXRyeVR5cGUgIT09ICdwb2x5Z29uJyAmJiBkaXN0YW5jZSAmJiBkaXN0YW5jZSA8PSAwKSB7XHJcbiAgICAgICAgY29uc3QgZW1wdHlCdWZmID0gbmV3IHRoaXMuUG9seWdvbih7IHJpbmdzOiBbXSB9KVxyXG4gICAgICAgIGlmICghbG9kYXNoLmlzRGVlcEVxdWFsKG9yZ0dlb21ldHJ5SnNvbiwgZW1wdHlCdWZmPy50b0pTT04oKSkpIHtcclxuICAgICAgICAgICh0aGlzLnRhYmxlLmZpbHRlckdlb21ldHJ5IGFzIGFueSkgPSBlbXB0eUJ1ZmZcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2UgJiYgdW5pdHMpIHtcclxuICAgICAgICBjb25zdCBnZW9tZXRyeUJ1ZmYgPSB1c2VCdWZmZXJNZXRob2QoZ2VvbWV0cnkgYXMgYW55LCBkaXN0YW5jZSwgdW5pdHMgYXMgYW55KVxyXG4gICAgICAgIGlmICghbG9kYXNoLmlzRGVlcEVxdWFsKG9yZ0dlb21ldHJ5SnNvbiwgKGdlb21ldHJ5QnVmZiBhcyBfX2VzcmkuUG9seWdvbik/LnRvSlNPTigpKSkge1xyXG4gICAgICAgICAgKHRoaXMudGFibGUuZmlsdGVyR2VvbWV0cnkgYXMgYW55KSA9IGdlb21ldHJ5QnVmZlxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHsgLy8gb25seSBleHRlbnQgY2hhbmdlXHJcbiAgICAgICAgKHRoaXMudGFibGUuZmlsdGVyR2VvbWV0cnkgYXMgYW55KSA9IGdlb21ldHJ5XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5hc3luY1NlbGVjdGVkUmVidWlsZChkYXRhU291cmNlKVxyXG4gICAgfSwgNTAwKVxyXG4gIH1cclxuXHJcbiAgb25EYXRhU291cmNlSW5mb0NoYW5nZSA9IChcclxuICAgIGluZm86IElNRGF0YVNvdXJjZUluZm8sXHJcbiAgICBwcmVJbmZvPzogSU1EYXRhU291cmNlSW5mb1xyXG4gICkgPT4ge1xyXG4gICAgaWYgKCFpbmZvKSB7XHJcbiAgICAgIHRoaXMuZGVzdHJveVRhYmxlKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgLy8gZHMgaXMgaW5hY2Nlc3NpYmxlIG9yIGRlbGV0ZSwgZG9uJ3Qgc2hvdyAnbm90UmVhZHknIHdhcm5pbmdcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgbm90UmVhZHk6IGZhbHNlLCBlbXB0eVRhYmxlOiB0cnVlLCB0YWJsZVRvdGFsOiAwLCB0YWJsZVNlbGVjdGVkOiAwIH0pXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhU291cmNlQ2hhbmdlID0gdHJ1ZVxyXG4gICAgaWYgKGluZm8/LnN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5Mb2FkZWQgJiYgcHJlSW5mbz8uc3RhdHVzID09PSBEYXRhU291cmNlU3RhdHVzLkxvYWRlZCkge1xyXG4gICAgICB0aGlzLmRhdGFTb3VyY2VDaGFuZ2UgPSBmYWxzZVxyXG4gICAgfVxyXG4gICAgbGV0IHsgZGF0YVNvdXJjZSB9ID0gdGhpcy5zdGF0ZVxyXG4gICAgY29uc3QgeyBzZWxlY3RRdWVyeUZsYWcsIGFjdGl2ZVRhYklkLCBzZWxmRHNDaGFuZ2UgfSA9IHRoaXMuc3RhdGVcclxuICAgIGNvbnN0IHsgY29uZmlnLCBzdGF0ZSB9ID0gdGhpcy5wcm9wc1xyXG4gICAgY29uc3QgeyBsYXllcnNDb25maWcgfSA9IGNvbmZpZ1xyXG4gICAgY29uc3QgZGFMYXllcnNDb25maWcgPSB0aGlzLmdldERhdGFBY3Rpb25UYWJsZSgpXHJcbiAgICBjb25zdCBhbGxMYXllcnNDb25maWcgPSBsYXllcnNDb25maWcuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5jb25jYXQoZGFMYXllcnNDb25maWcpXHJcbiAgICBjb25zdCBjdXJMYXllciA9IGFsbExheWVyc0NvbmZpZy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gYWN0aXZlVGFiSWQpXHJcbiAgICBjb25zdCB1c2VEUyA9IGN1ckxheWVyPy51c2VEYXRhU291cmNlXHJcbiAgICBjb25zdCBpc1ZpZXdTbmFwc2hvdCA9IGN1ckxheWVyLmRhdGFBY3Rpb25UeXBlID09PSBUYWJsZURhdGFBY3Rpb25UeXBlLlZpZXdcclxuICAgIC8vIElmIG90aGVyIHdpZGdldHMgbG9hZCBkYXRhLCBzdGF0dXMgd2lsbCBiZSBsb2FkZWQgYXQgdGhlIGZpcnN0IHRpbWVcclxuICAgIC8vIFRoaXMgdGltZSBzdGF0ZS5kYXRhU291cmNlIGlzIHVuZGVmaW5lZFxyXG4gICAgaWYgKCghZGF0YVNvdXJjZSAmJiB1c2VEUykgfHwgKCFpc1ZpZXdTbmFwc2hvdCAmJiBkYXRhU291cmNlPy5pZCAhPT0gdXNlRFM/LmRhdGFTb3VyY2VJZCkpIHtcclxuICAgICAgZGF0YVNvdXJjZSA9IHRoaXMuZHNNYW5hZ2VyLmdldERhdGFTb3VyY2UodXNlRFM/LmRhdGFTb3VyY2VJZCkgYXMgUXVlcmlhYmxlRGF0YVNvdXJjZVxyXG4gICAgICBpZiAoIWRhdGFTb3VyY2UpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZW1wdHlUYWJsZTogdHJ1ZSwgdGFibGVUb3RhbDogMCwgdGFibGVTZWxlY3RlZDogMCB9KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKCFkYXRhU291cmNlICYmICF1c2VEUykge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIC8vIHNlbGVjdGlvbiB2aWV3OiBzdGF0dXMgaXMgbG9hZGVkLCBidXQgaWYgdGhlcmUgaXMgbm8gc2VsZWN0aW9uLCBpdCBzaG91bGQgYmUgYW4gZW1wdHkgdGFibGVcclxuICAgIGNvbnN0IGlzRW1wdHlTZWxlY3Rpb25WaWV3ID0gZGF0YVNvdXJjZT8uZGF0YVZpZXdJZCA9PT0gU0VMRUNUSU9OX0RBVEFfVklFV19JRCAmJiBkYXRhU291cmNlPy5nZXRTb3VyY2VSZWNvcmRzKCk/Lmxlbmd0aCA9PT0gMFxyXG4gICAgaWYgKCFjdXJMYXllci5kYXRhQWN0aW9uT2JqZWN0KSB7XHJcbiAgICAgIGlmICghaW5mbz8uc3RhdHVzIHx8IGluZm8/LnN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5Ob3RSZWFkeSB8fCBpc0VtcHR5U2VsZWN0aW9uVmlldykge1xyXG4gICAgICAgIHRoaXMuZGVzdHJveVRhYmxlKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbm90UmVhZHk6IHRydWUsIGVtcHR5VGFibGU6IHRydWUsIHRhYmxlVG90YWw6IDAsIHRhYmxlU2VsZWN0ZWQ6IDAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBub3RSZWFkeTogZmFsc2UsIGVtcHR5VGFibGU6IGZhbHNlIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGxvYWRpbmcgc3RhdHVzXHJcbiAgICBjb25zdCBzaG93TG9hZGluZyA9IHRoaXMuZ2V0TG9hZGluZ1N0YXR1cyhkYXRhU291cmNlLCBpbmZvPy5zdGF0dXMpXHJcbiAgICBjb25zdCBpbnRlcnZhbCA9IGRhdGFTb3VyY2U/LmdldEF1dG9SZWZyZXNoSW50ZXJ2YWwoKSB8fCAwXHJcbiAgICAvLyB0b2dnbGUgYXV0byByZWZyZXNoIGxvYWRpbmcgc3RhdHVzXHJcbiAgICB0aGlzLnRvZ2dsZUF1dG9SZWZyZXNoTG9hZGluZyhkYXRhU291cmNlLCBzaG93TG9hZGluZywgaW50ZXJ2YWwpXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc2hvd0xvYWRpbmcsIGludGVydmFsIH0pXHJcbiAgICAvLyBzaGllbGRpbmcgaW5mbyBjaGFuZ2VcclxuICAgIGNvbnN0IHByZVNlbGVjdGVkSWRzID0gcHJlSW5mbz8uc2VsZWN0ZWRJZHNcclxuICAgIGNvbnN0IG5ld1NlbGVjdGVkSWRzID0gaW5mbz8uc2VsZWN0ZWRJZHNcclxuICAgIGNvbnN0IHByZVNvdXJjZVZlcnNpb24gPSBwcmVJbmZvPy5zb3VyY2VWZXJzaW9uXHJcbiAgICBjb25zdCBuZXdTb3VyY2VWZXJzaW9uID0gaW5mbz8uc291cmNlVmVyc2lvblxyXG4gICAgY29uc3QgbmV3VmVyc2lvbiA9IGluZm8/LmdkYlZlcnNpb25cclxuICAgIGNvbnN0IHByZVZlcnNpb24gPSBwcmVJbmZvPy5nZGJWZXJzaW9uXHJcbiAgICBjb25zdCBuZXdDbGllbnRWZXJzaW9uID0gaW5mbz8udmVyc2lvblxyXG4gICAgY29uc3QgcHJlQ2xpZW50VmVyc2lvbiA9IHByZUluZm8/LnZlcnNpb25cclxuICAgIGNvbnN0IGluZm9TdGF0dXNOb3RDaGFuZ2UgPVxyXG4gICAgICBjdXJMYXllcj8udXNlRGF0YVNvdXJjZT8uZGF0YVNvdXJjZUlkID09PSBkYXRhU291cmNlPy5pZCAmJlxyXG4gICAgICBwcmVJbmZvPy5zdGF0dXMgPT09IGluZm8/LnN0YXR1cyAmJlxyXG4gICAgICBwcmVJbmZvPy5pbnN0YW5jZVN0YXR1cyA9PT0gaW5mbz8uaW5zdGFuY2VTdGF0dXMgJiZcclxuICAgICAgaW5mbz8ud2lkZ2V0UXVlcmllcyA9PT0gcHJlSW5mbz8ud2lkZ2V0UXVlcmllcyAmJlxyXG4gICAgICBwcmVTZWxlY3RlZElkcyA9PT0gbmV3U2VsZWN0ZWRJZHMgJiZcclxuICAgICAgLy8gSWYgdGhlIHZlcnNpb24gY2hhbmdlIGlzIGNhdXNlZCBieSB0aGUgdGFibGUncyBvd24gbW9kaWZpY2F0aW9ucywgZG8gbm90IHJlbnJlbmRlclxyXG4gICAgICAocHJlU291cmNlVmVyc2lvbiA9PT0gbmV3U291cmNlVmVyc2lvbiB8fCAoc3RhdGUgPT09IFdpZGdldFN0YXRlLkFjdGl2ZSAmJiBwcmVTb3VyY2VWZXJzaW9uICE9PSBuZXdTb3VyY2VWZXJzaW9uKSkgJiZcclxuICAgICAgbmV3VmVyc2lvbiA9PT0gcHJlVmVyc2lvblxyXG4gICAgaWYgKFxyXG4gICAgICBub3RMb2FkLmluY2x1ZGVzKGluZm8/LnN0YXR1cykgfHxcclxuICAgICAgdGhpcy51cGRhdGluZ1RhYmxlIHx8XHJcbiAgICAgIGluZm9TdGF0dXNOb3RDaGFuZ2VcclxuICAgICkgeyByZXR1cm4gfVxyXG4gICAgLy8gdXBkYXRlIGRzIHNlbGVjdGlvbiAoZGF0YS1hY3Rpb24pXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0UmVjb3JkczogZGF0YVNvdXJjZT8uZ2V0U2VsZWN0ZWRSZWNvcmRzKCkgfSlcclxuICAgIC8vIGRzIHJlYWR5IGNyZWF0ZSB0YWJsZSBhbmQgc2VsZWN0ZWQgZmVhdHVyZXMgY2hhbmdlXHJcbiAgICBjb25zdCBzb3VyY2VWZXJzaW9uQ2hhbmdlID0gbmV3U291cmNlVmVyc2lvbiAhPT0gcHJlU291cmNlVmVyc2lvblxyXG4gICAgY29uc3QgY2xpZW50VmVyc2lvbkNoYW5nZSA9IG5ld0NsaWVudFZlcnNpb24gIT09IHByZUNsaWVudFZlcnNpb25cclxuICAgIGNvbnN0IHRhYkNoYW5nZSA9IGN1ckxheWVyPy51c2VEYXRhU291cmNlPy5kYXRhU291cmNlSWQgIT09IGRhdGFTb3VyY2U/LmlkXHJcbiAgICBjb25zdCBvdXRwdXRSZWFwcGx5ID0gKCFwcmVJbmZvPy5zdGF0dXMgfHwgbm90TG9hZC5pbmNsdWRlcyhwcmVJbmZvPy5zdGF0dXMpKSAmJiBpbmZvICYmICFub3RMb2FkLmluY2x1ZGVzKGluZm8/LnN0YXR1cykgJiYgaW5mbz8uaW5zdGFuY2VTdGF0dXMgIT09IERhdGFTb3VyY2VTdGF0dXMuTm90Q3JlYXRlZFxyXG4gICAgY29uc3Qgc2VsZWN0ZWRDaGFuZ2UgPSBwcmVTZWxlY3RlZElkcyAhPT0gbmV3U2VsZWN0ZWRJZHMgJiYgKHByZVNlbGVjdGVkSWRzPy5sZW5ndGggIT09IDAgfHwgbmV3U2VsZWN0ZWRJZHM/Lmxlbmd0aCAhPT0gMClcclxuICAgIGNvbnN0IGluZm9Ob3RDaGFuZ2UgPSBpbmZvPy5zdGF0dXMgPT09IHByZUluZm8/LnN0YXR1cyAmJiBpbmZvPy5pbnN0YW5jZVN0YXR1cyA9PT0gcHJlSW5mbz8uaW5zdGFuY2VTdGF0dXNcclxuICAgIGNvbnN0IGlzT3V0cHV0RHMgPSBkYXRhU291cmNlPy5nZXREYXRhU291cmNlSnNvbigpPy5pc091dHB1dEZyb21XaWRnZXRcclxuICAgIGNvbnN0IGRzQ3JlYXRlZCA9ICFjdXJMYXllci5kYXRhQWN0aW9uT2JqZWN0ICYmIGluZm8/LnN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5VbmxvYWRlZCAmJiBpbmZvPy5pbnN0YW5jZVN0YXR1cyA9PT0gRGF0YVNvdXJjZVN0YXR1cy5DcmVhdGVkICYmXHJcbiAgICAgICFzZWxlY3RlZENoYW5nZSAmJiAhaW5mb05vdENoYW5nZSAmJiAhaXNPdXRwdXREc1xyXG4gICAgaWYgKG91dHB1dFJlYXBwbHkgfHwgdGFiQ2hhbmdlIHx8IGRzQ3JlYXRlZCB8fCBzb3VyY2VWZXJzaW9uQ2hhbmdlIHx8IGNsaWVudFZlcnNpb25DaGFuZ2UpIHtcclxuICAgICAgY29uc3QgZGF0YUFjdGlvbkZsYWcgPSBjdXJMYXllcj8uZGF0YUFjdGlvblR5cGUgPT09IFRhYmxlRGF0YUFjdGlvblR5cGUuVmlldyB8fFxyXG4gICAgICAgIChjdXJMYXllcj8uZGF0YUFjdGlvblR5cGUgPT09IFRhYmxlRGF0YUFjdGlvblR5cGUuQWRkICYmIGRhdGFTb3VyY2U/LmRhdGFWaWV3SWQgIT09IFNFTEVDVElPTl9EQVRBX1ZJRVdfSUQpXHJcbiAgICAgIGlmIChkYXRhQWN0aW9uRmxhZykgcmV0dXJuXHJcbiAgICAgIGlmICghdGhpcy5kYXRhQWN0aW9uQ2FuTG9hZCkgcmV0dXJuXHJcbiAgICAgIHRoaXMudXBkYXRpbmdUYWJsZSA9IHRydWVcclxuICAgICAgdGhpcy5kZXN0cm95VGFibGUoKS50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLmNyZWF0ZVRhYmxlKGRhdGFTb3VyY2UpXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgLy8gYXN5bmMgY2xpY2sgc2VsZWN0ZWRcclxuICAgIC8vIEFjdGlvbiB0YWJsZSBkb2VzIG5vdCBuZWVkIHRvIGJlIHNlbGVjdGVkIHN5bmNocm9ub3VzbHlcclxuICAgIGlmIChwcmVTZWxlY3RlZElkcyAhPT0gbmV3U2VsZWN0ZWRJZHMpIHtcclxuICAgICAgaWYgKHNlbGVjdFF1ZXJ5RmxhZykge1xyXG4gICAgICAgIHRoaXMuYXN5bmNTZWxlY3RlZFdoZW5TZWxlY3Rpb24obmV3U2VsZWN0ZWRJZHMgfHwgSW1tdXRhYmxlKFtdKSlcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHRoaXMuYXN5bmNTZWxlY3RlZFJlYnVpbGQoZGF0YVNvdXJjZSlcclxuICAgICAgICB9LCA1MDApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHNlbGZEc0NoYW5nZSkge1xyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGZEc0NoYW5nZTogZmFsc2UgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYXN5bmNTZWxlY3RlZFJlYnVpbGQoZGF0YVNvdXJjZSlcclxuICAgICAgICAgIH0sIDUwMClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbXBhcmVBbmRVcGRhdGVUYWJsZSA9IChjdXJEc1F1ZXJ5SW5mbywgcHJlRHNRdWVyeUluZm8sIGlzQmVsb25ndG8/OiBib29sZWFuKSA9PiB7XHJcbiAgICBjb25zdCB7IGRhdGFTb3VyY2UsIGFjdGl2ZVRhYklkIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCB7IGNvbmZpZyB9ID0gdGhpcy5wcm9wc1xyXG4gICAgY29uc3QgeyBsYXllcnNDb25maWcgfSA9IGNvbmZpZ1xyXG4gICAgY29uc3QgZGFMYXllcnNDb25maWcgPSB0aGlzLmdldERhdGFBY3Rpb25UYWJsZSgpXHJcbiAgICBjb25zdCBhbGxMYXllcnNDb25maWcgPSBsYXllcnNDb25maWcuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5jb25jYXQoZGFMYXllcnNDb25maWcpXHJcbiAgICBjb25zdCBjdXJMYXllciA9IGFsbExheWVyc0NvbmZpZy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gYWN0aXZlVGFiSWQpXHJcbiAgICBjb25zdCB7IHdpZGdldFF1ZXJpZXM6IHByZVdpZGdldFF1ZXJpZXMsIGdkYlZlcnNpb246IHByZUdkYlZlcnNpb24sIHNvdXJjZVZlcnNpb246IHByZXNTb3VyY2VWZXJzaW9uIH0gPSBwcmVEc1F1ZXJ5SW5mb1xyXG4gICAgY29uc3QgeyB3aWRnZXRRdWVyaWVzLCBnZGJWZXJzaW9uLCBuZWVkUmVmcmVzaCwgc291cmNlVmVyc2lvbiB9ID0gY3VyRHNRdWVyeUluZm9cclxuICAgIGNvbnN0IGdkYlZlcnNpb25DaGFuZ2UgPSBwcmVHZGJWZXJzaW9uICYmIGdkYlZlcnNpb24gJiYgZ2RiVmVyc2lvbiAhPT0gcHJlR2RiVmVyc2lvbiAmJiB0aGlzLnRhYmxlXHJcbiAgICBjb25zdCB3aWRnZXRRdWVyeUNoYW5nZSA9ICFjdXJMYXllci5kYXRhQWN0aW9uT2JqZWN0ICYmIHdpZGdldFF1ZXJpZXMgIT09IHByZVdpZGdldFF1ZXJpZXNcclxuICAgIGNvbnN0IGJlbG9uZ3RvU291cmNlVmVyc2lvbkNoYW5nZSA9IGlzQmVsb25ndG8gJiYgcHJlc1NvdXJjZVZlcnNpb24gIT09IHNvdXJjZVZlcnNpb25cclxuICAgIC8vIGdkYlZlcnNpb24vc291cmNlVmVyc2lvbiBjaGFuZ2UgJiBhdXRvIHJlZnJlc2hcclxuICAgIGlmIChnZGJWZXJzaW9uQ2hhbmdlKSB7XHJcbiAgICAgIGNvbnN0IHRhYmxlTGF5ZXI6IGFueSA9IHRoaXMudGFibGUubGF5ZXJcclxuICAgICAgdGFibGVMYXllci5nZGJWZXJzaW9uID0gZ2RiVmVyc2lvblxyXG4gICAgICB0aGlzLm9uVGFibGVSZWZyZXNoKClcclxuICAgICAgcmV0dXJuXHJcbiAgICB9IGVsc2UgaWYgKG5lZWRSZWZyZXNoKSB7XHJcbiAgICAgIHRoaXMub25UYWJsZVJlZnJlc2goKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIC8vIGJlbG9uZ3RvIGRzIHNvdXJjZVZlcnNpb24gY2hhbmdlKGNhbid0IGdldCBzcWwgY2hhbmdlIHdpdGggZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKVxyXG4gICAgaWYgKGJlbG9uZ3RvU291cmNlVmVyc2lvbkNoYW5nZSkge1xyXG4gICAgICB0aGlzLnVwZGF0aW5nVGFibGUgPSB0cnVlXHJcbiAgICAgIHRoaXMuZGVzdHJveVRhYmxlKCkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVUYWJsZSgpXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgLy8gd2lkZ2V0UXVlcnkgY2hhbmdlXHJcbiAgICBpZiAod2lkZ2V0UXVlcnlDaGFuZ2UpIHtcclxuICAgICAgdGhpcy51cGRhdGVHZW9tZXRyeUFuZFNxbChkYXRhU291cmNlKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb25RdWVyeVJlcXVpcmVkID0gKHF1ZXJ5UmVxdWlyZWRJbmZvOiBRdWVyeVJlcXVpcmVkSW5mbywgcHJlUXVlcnlSZXF1aXJlZEluZm8/OiBRdWVyeVJlcXVpcmVkSW5mbykgPT4ge1xyXG4gICAgY29uc3QgeyBkYXRhU291cmNlIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCBpc0RhdGFBY3Rpb25UYWJsZSA9IHRoaXMucHJvcHM/LnN0YXRlUHJvcHM/LmRhdGFBY3Rpb25BY3RpdmVPYmo/LmRhdGFBY3Rpb25UYWJsZVxyXG4gICAgaWYgKGlzRGF0YUFjdGlvblRhYmxlIHx8ICFwcmVRdWVyeVJlcXVpcmVkSW5mbykgcmV0dXJuXHJcbiAgICBjb25zdCBkYXRhU291cmNlSWQgPSBkYXRhU291cmNlPy5pZFxyXG4gICAgLy8gdGltZSBleHRlbnQgY2hhbmdlXHJcbiAgICBjb25zdCBkc1BhcmFtOiBhbnkgPSBkYXRhU291cmNlPy5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKVxyXG4gICAgY29uc3QgdGltZSA9IGRzUGFyYW0/LnRpbWVcclxuICAgIGNvbnN0IHRhYmxlTGF5ZXIgPSB0aGlzLnRhYmxlPy5sYXllciBhcyBhbnlcclxuICAgIGlmICh0aW1lKSB7XHJcbiAgICAgIGNvbnN0IGFwaVRpbWUgPSBkYXRhU291cmNlVXRpbHMuY2hhbmdlSmltdVRpbWVUb0pTQVBJVGltZUV4dGVudCh0aW1lKVxyXG4gICAgICBjb25zdCBvcmdUaW1lRXh0ZW50ID0gdGFibGVMYXllcj8udGltZUV4dGVudFxyXG4gICAgICBjb25zdCB0aW1lTm90Q2hhbmdlID0gdGltZT8uWzBdID09PSBvcmdUaW1lRXh0ZW50Py5zdGFydD8uZ2V0VGltZSgpICYmIHRpbWU/LlsxXSA9PT0gb3JnVGltZUV4dGVudD8uZW5kPy5nZXRUaW1lKClcclxuICAgICAgaWYgKCF0aW1lTm90Q2hhbmdlICYmIHRhYmxlTGF5ZXIpIHRhYmxlTGF5ZXIudGltZUV4dGVudCA9IGFwaVRpbWVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh0YWJsZUxheWVyKSB0YWJsZUxheWVyLnRpbWVFeHRlbnQgPSBudWxsXHJcbiAgICB9XHJcbiAgICAvLyBkcy9iZWxvbmd0b0RzIGluZm9cclxuICAgIGNvbnN0IGN1ckRzUmVxdWlyZWRJbmZvID0gcXVlcnlSZXF1aXJlZEluZm8/LltkYXRhU291cmNlSWRdXHJcbiAgICBjb25zdCBwcmVEc1JlcXVpcmVkSW5mbyA9IHByZVF1ZXJ5UmVxdWlyZWRJbmZvPy5bZGF0YVNvdXJjZUlkXVxyXG4gICAgY29uc3QgYmVsb25ndG9Ec0lkID0gZGF0YVNvdXJjZT8uYmVsb25nVG9EYXRhU291cmNlPy5pZFxyXG4gICAgY29uc3QgY3VyQmVsb25ndG9Ec0luZm8gPSBxdWVyeVJlcXVpcmVkSW5mbz8uW2JlbG9uZ3RvRHNJZF1cclxuICAgIGNvbnN0IHByZUJlbG9uZ3RvRHNJbmZvID0gcHJlUXVlcnlSZXF1aXJlZEluZm8/LltiZWxvbmd0b0RzSWRdXHJcbiAgICBpZiAoIWN1ckRzUmVxdWlyZWRJbmZvICYmICFjdXJCZWxvbmd0b0RzSW5mbykgcmV0dXJuXHJcbiAgICAvLyBiZWxvbmdUb0RhdGFTb3VyY2UgaW5mbyBjaGFuZ2VcclxuICAgIGlmIChjdXJCZWxvbmd0b0RzSW5mbykge1xyXG4gICAgICB0aGlzLmNvbXBhcmVBbmRVcGRhdGVUYWJsZShjdXJCZWxvbmd0b0RzSW5mbywgcHJlQmVsb25ndG9Ec0luZm8sIHRydWUpXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgLy8gZGF0YVNvdXJjZSBpbmZvIGNoYW5nZVxyXG4gICAgdGhpcy5jb21wYXJlQW5kVXBkYXRlVGFibGUoY3VyRHNSZXF1aXJlZEluZm8sIHByZURzUmVxdWlyZWRJbmZvKVxyXG4gIH1cclxuXHJcbiAgZ2V0TGF5ZXJPYmplY3RJZEZpZWxkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBkYXRhU291cmNlIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCBvYmplY3RJZEZpZWxkID1cclxuICAgICAgdGhpcy50YWJsZT8ubGF5ZXI/Lm9iamVjdElkRmllbGQgfHxcclxuICAgICAgKGRhdGFTb3VyY2UgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSk/LmxheWVyPy5vYmplY3RJZEZpZWxkIHx8XHJcbiAgICAgICdPQkpFQ1RJRCdcclxuICAgIHJldHVybiBvYmplY3RJZEZpZWxkXHJcbiAgfVxyXG5cclxuICBhc3luY1NlbGVjdGVkV2hlblNlbGVjdGlvbiA9IChuZXdTZWxlY3RlZElkczogSW1tdXRhYmxlQXJyYXk8c3RyaW5nPikgPT4ge1xyXG4gICAgY29uc3QgeyBkYXRhU291cmNlIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCBvYmplY3RJZEZpZWxkID0gdGhpcy5nZXRMYXllck9iamVjdElkRmllbGQoKVxyXG4gICAgY29uc3QgY3VyUXVlcnk6IGFueSA9IGRhdGFTb3VyY2UgJiYgZGF0YVNvdXJjZS5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKVxyXG4gICAgbGV0IGxlZ2FsID0gdHJ1ZVxyXG4gICAgbmV3U2VsZWN0ZWRJZHMuZm9yRWFjaChpZCA9PiB7XHJcbiAgICAgIGlmICghaWQpIGxlZ2FsID0gZmFsc2VcclxuICAgIH0pXHJcbiAgICBjb25zdCBzZWxlY3RlZFF1ZXJ5ID0gKG5ld1NlbGVjdGVkSWRzLmxlbmd0aCA+IDAgJiYgbGVnYWwpXHJcbiAgICAgID8gYCR7b2JqZWN0SWRGaWVsZH0gSU4gKCR7bmV3U2VsZWN0ZWRJZHNcclxuICAgICAgLm1hcChpZCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGlkXHJcbiAgICAgIH0pXHJcbiAgICAgIC5qb2luKCl9KWBcclxuICAgICAgOiBjdXJRdWVyeS53aGVyZVxyXG4gICAgaWYgKHRoaXMudGFibGUgJiYgdGhpcy50YWJsZS5sYXllcikge1xyXG4gICAgICB0aGlzLnRhYmxlLmNsZWFyU2VsZWN0aW9uRmlsdGVyKClcclxuICAgICAgY29uc3QgdGFibGVJbnN0YW5jZSA9IHRoaXMudGFibGUgYXMgYW55XHJcbiAgICAgIHRhYmxlSW5zdGFuY2UubGF5ZXIuZGVmaW5pdGlvbkV4cHJlc3Npb24gPSBzZWxlY3RlZFF1ZXJ5XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRJbWFnZXJ5TGF5ZXIgPSAoZGF0YVNvdXJjZSwgZGF0YVJlY29yZHM/OiBEYXRhUmVjb3JkW10pOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gICAgY29uc3QgZHMgPSBkYXRhU291cmNlIGFzIEltYWdlcnlMYXllckRhdGFTb3VyY2VcclxuICAgIGNvbnN0IGlzSW1hZ2VyeSA9IGRhdGFTb3VyY2UudHlwZSA9PT0gQWxsRGF0YVNvdXJjZVR5cGVzLkltYWdlcnlMYXllclxyXG4gICAgY29uc3QgaXNPcmllbnRlZEltYWdlcnkgPSBkYXRhU291cmNlLnR5cGUgPT09IEFsbERhdGFTb3VyY2VUeXBlcy5PcmllbnRlZEltYWdlcnlMYXllclxyXG4gICAgY29uc3Qgbm90VG9Mb2FkID0gZGF0YVNvdXJjZT8uZ2V0RGF0YVNvdXJjZUpzb24oKT8uaXNEYXRhSW5EYXRhU291cmNlSW5zdGFuY2VcclxuICAgIGxldCBpbWFnZUxheWVyXHJcbiAgICBpZiAoZGF0YVJlY29yZHM/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgcmV0dXJuIGRhdGFTb3VyY2VVdGlscy5jcmVhdGVKU0FQSUZlYXR1cmVMYXllckJ5UmVjb3JkcyhkcywgZGF0YVJlY29yZHMgYXMgRmVhdHVyZURhdGFSZWNvcmRbXSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnN0IGN1clF1ZXJ5OiBhbnkgPSBkcy5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKVxyXG4gICAgICBpZiAobm90VG9Mb2FkKSB7XHJcbiAgICAgICAgY29uc3QgcTogRmVhdHVyZUxheWVyUXVlcnlQYXJhbXMgPSB7XHJcbiAgICAgICAgICByZXR1cm5HZW9tZXRyeTogdHJ1ZSxcclxuICAgICAgICAgIG91dEZpZWxkczogWycqJ10sXHJcbiAgICAgICAgICBub3RBZGRGaWVsZHNUb0NsaWVudDogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDdXJyZW50IGRhdGEgc291cmNlIGlzIHNlbGVjdGlvbiB2aWV3IGFuZCBzZWxlY3Rpb24gdmlldyBpcyBlbXB0eSBpbmRpY2F0ZSB0aGF0IHdpZGdldCBpcyBhY3R1YWxseSB1c2luZyBub19zZWxlY3Rpb24gbm93LlxyXG4gICAgICAgIGNvbnN0IHVzaW5nTm9TZWxlY3Rpb25WaWV3ID0gZHMuZGF0YVZpZXdJZCA9PT0gU0VMRUNUSU9OX0RBVEFfVklFV19JRCAmJiAoIShkcyBhcyBhbnkpLnNvdXJjZVJlY29yZHMgfHwgKGRzIGFzIGFueSkuc291cmNlUmVjb3Jkcy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgLy8gSWYgd2lkZ2V0IGlzIHVzaW5nIG5vX3NlbGVjdGlvbiB2aWV3LCBzaG91bGQgdXNlIHBhZ2VTaXplIG9mIHRoZSBub19zZWxlY3Rpb24gdmlldyB0byBsb2FkIHJlY29yZHMuXHJcbiAgICAgICAgaWYgKHVzaW5nTm9TZWxlY3Rpb25WaWV3KSB7XHJcbiAgICAgICAgICBjb25zdCBub1NlbGVjdGlvblZpZXcgPSBkcy5nZXRNYWluRGF0YVNvdXJjZSgpLmdldERhdGFWaWV3KERBVEFfVklFV19JRF9GT1JfTk9fU0VMRUNUSU9OKVxyXG4gICAgICAgICAgaWYgKG5vU2VsZWN0aW9uVmlldykge1xyXG4gICAgICAgICAgICBxLnBhZ2VTaXplID0gZHMuZ2V0TWFpbkRhdGFTb3VyY2UoKS5nZXREYXRhU291cmNlSnNvbigpPy5kYXRhVmlld3M/LltEQVRBX1ZJRVdfSURfRk9SX05PX1NFTEVDVElPTl0/LnBhZ2VTaXplXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNoYXJ0IG91dHB1dCBhbmQgc2VsZWN0ZWQgZmVhdHVyZXMgbmVlZCBsb2FkXHJcbiAgICAgICAgcmV0dXJuIGRzLnF1ZXJ5KHEpLnRoZW4oYXN5bmMgKHsgcmVjb3JkcyB9KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkYXRhUmVjb3JkcyA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShyZWNvcmRzKSBhcyBGZWF0dXJlRGF0YVJlY29yZFtdXHJcbiAgICAgICAgICByZXR1cm4gZGF0YVNvdXJjZVV0aWxzLmNyZWF0ZUpTQVBJRmVhdHVyZUxheWVyQnlSZWNvcmRzKGRzLCBkYXRhUmVjb3JkcylcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChkcy5pdGVtSWQpIHtcclxuICAgICAgICBjb25zdCBsYXllcklkID0gZHMubGF5ZXJJZCA/IHBhcnNlSW50KGRzLmxheWVySWQpIDogJydcclxuICAgICAgICBjb25zdCBsYXllckNvbmZpZyA9IHtcclxuICAgICAgICAgIHBvcnRhbEl0ZW06IHtcclxuICAgICAgICAgICAgaWQ6IGRzLml0ZW1JZCxcclxuICAgICAgICAgICAgcG9ydGFsOiB7XHJcbiAgICAgICAgICAgICAgdXJsOiBkcy5wb3J0YWxVcmxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRlZmluaXRpb25FeHByZXNzaW9uOiBjdXJRdWVyeS53aGVyZSxcclxuICAgICAgICAgIGxheWVySWQ6IGxheWVySWQgfHwgdW5kZWZpbmVkXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkcy51cmwpIChsYXllckNvbmZpZyBhcyBhbnkpLnVybCA9IGRzLnVybFxyXG4gICAgICAgIGltYWdlTGF5ZXIgPSBpc0ltYWdlcnkgPyBuZXcgdGhpcy5JbWFnZXJ5TGF5ZXIobGF5ZXJDb25maWcpIDogbmV3IHRoaXMuT3JpZW50ZWRJbWFnZXJ5TGF5ZXIobGF5ZXJDb25maWcpXHJcbiAgICAgIH0gZWxzZSBpZiAoZHMudXJsKSB7XHJcbiAgICAgICAgaW1hZ2VMYXllciA9IGlzSW1hZ2VyeVxyXG4gICAgICAgICAgPyBuZXcgdGhpcy5JbWFnZXJ5TGF5ZXIoe1xyXG4gICAgICAgICAgICBkZWZpbml0aW9uRXhwcmVzc2lvbjogY3VyUXVlcnkud2hlcmUsXHJcbiAgICAgICAgICAgIHVybDogZHMudXJsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgOiBuZXcgdGhpcy5PcmllbnRlZEltYWdlcnlMYXllcih7XHJcbiAgICAgICAgICAgIGRlZmluaXRpb25FeHByZXNzaW9uOiBjdXJRdWVyeS53aGVyZSxcclxuICAgICAgICAgICAgdXJsOiBkcy51cmxcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSBpZiAoZHMubGF5ZXIpIHtcclxuICAgICAgICByZXR1cm4gZHM/LmNyZWF0ZUpTQVBJTGF5ZXJCeURhdGFTb3VyY2UoKS50aGVuKGxheWVyID0+IHtcclxuICAgICAgICAgIHJldHVybiBsYXllclxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc0ltYWdlcnkpIHtcclxuICAgICAgaWYgKCF0aGlzLkltYWdlcnlMYXllcikgcmV0dXJuIFByb21pc2UucmVzb2x2ZShpbWFnZUxheWVyKVxyXG4gICAgfSBlbHNlIGlmIChpc09yaWVudGVkSW1hZ2VyeSkge1xyXG4gICAgICBpZiAoIXRoaXMuT3JpZW50ZWRJbWFnZXJ5TGF5ZXIpIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW1hZ2VMYXllcilcclxuICAgIH1cclxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoaW1hZ2VMYXllcilcclxuICB9XHJcblxyXG4gIGdldEZlYXR1cmVMYXllciA9IChkYXRhU291cmNlOiBRdWVyaWFibGVEYXRhU291cmNlLCBkYXRhUmVjb3Jkcz86IERhdGFSZWNvcmRbXSk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgICBpZiAoZGF0YVNvdXJjZS50eXBlID09PSBBbGxEYXRhU291cmNlVHlwZXMuSW1hZ2VyeUxheWVyIHx8IGRhdGFTb3VyY2UudHlwZSA9PT0gQWxsRGF0YVNvdXJjZVR5cGVzLk9yaWVudGVkSW1hZ2VyeUxheWVyKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmdldEltYWdlcnlMYXllcihkYXRhU291cmNlLCBkYXRhUmVjb3JkcylcclxuICAgIH1cclxuICAgIGNvbnN0IGRzID0gZGF0YVNvdXJjZSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlXHJcbiAgICBjb25zdCBub3RUb0xvYWQgPSBkYXRhU291cmNlPy5nZXREYXRhU291cmNlSnNvbigpPy5pc0RhdGFJbkRhdGFTb3VyY2VJbnN0YW5jZVxyXG4gICAgbGV0IGZlYXR1cmVMYXllclxyXG4gICAgaWYgKGRhdGFSZWNvcmRzPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiBkYXRhU291cmNlVXRpbHMuY3JlYXRlSlNBUElGZWF0dXJlTGF5ZXJCeVJlY29yZHMoZHMsIGRhdGFSZWNvcmRzIGFzIEZlYXR1cmVEYXRhUmVjb3JkW10pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBjdXJRdWVyeTogYW55ID0gZGF0YVNvdXJjZSAmJiBkYXRhU291cmNlLmdldEN1cnJlbnRRdWVyeVBhcmFtcygpXHJcbiAgICAgIGlmIChub3RUb0xvYWQpIHtcclxuICAgICAgICBjb25zdCBxOiBGZWF0dXJlTGF5ZXJRdWVyeVBhcmFtcyA9IHtcclxuICAgICAgICAgIHJldHVybkdlb21ldHJ5OiB0cnVlLFxyXG4gICAgICAgICAgb3V0RmllbGRzOiBbJyonXSxcclxuICAgICAgICAgIG5vdEFkZEZpZWxkc1RvQ2xpZW50OiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEN1cnJlbnQgZGF0YSBzb3VyY2UgaXMgc2VsZWN0aW9uIHZpZXcgYW5kIHNlbGVjdGlvbiB2aWV3IGlzIGVtcHR5IGluZGljYXRlIHRoYXQgd2lkZ2V0IGlzIGFjdHVhbGx5IHVzaW5nIG5vX3NlbGVjdGlvbiBub3cuXHJcbiAgICAgICAgY29uc3QgdXNpbmdOb1NlbGVjdGlvblZpZXcgPSBkcy5kYXRhVmlld0lkID09PSBTRUxFQ1RJT05fREFUQV9WSUVXX0lEICYmICghKGRzIGFzIGFueSkuc291cmNlUmVjb3JkcyB8fCAoZHMgYXMgYW55KS5zb3VyY2VSZWNvcmRzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAvLyBJZiB3aWRnZXQgaXMgdXNpbmcgbm9fc2VsZWN0aW9uIHZpZXcsIHNob3VsZCB1c2UgcGFnZVNpemUgb2YgdGhlIG5vX3NlbGVjdGlvbiB2aWV3IHRvIGxvYWQgcmVjb3Jkcy5cclxuICAgICAgICBpZiAodXNpbmdOb1NlbGVjdGlvblZpZXcpIHtcclxuICAgICAgICAgIGNvbnN0IG5vU2VsZWN0aW9uVmlldyA9IGRzLmdldE1haW5EYXRhU291cmNlKCkuZ2V0RGF0YVZpZXcoREFUQV9WSUVXX0lEX0ZPUl9OT19TRUxFQ1RJT04pXHJcbiAgICAgICAgICBpZiAobm9TZWxlY3Rpb25WaWV3KSB7XHJcbiAgICAgICAgICAgIHEucGFnZVNpemUgPSBkcy5nZXRNYWluRGF0YVNvdXJjZSgpLmdldERhdGFTb3VyY2VKc29uKCk/LmRhdGFWaWV3cz8uW0RBVEFfVklFV19JRF9GT1JfTk9fU0VMRUNUSU9OXT8ucGFnZVNpemVcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY2hhcnQgb3V0cHV0IGFuZCBzZWxlY3RlZCBmZWF0dXJlcyBuZWVkIGxvYWRcclxuICAgICAgICByZXR1cm4gZHMucXVlcnkocSkudGhlbihhc3luYyAoeyByZWNvcmRzIH0pID0+IHtcclxuICAgICAgICAgIGNvbnN0IGRhdGFSZWNvcmRzID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKHJlY29yZHMpIGFzIEZlYXR1cmVEYXRhUmVjb3JkW11cclxuICAgICAgICAgIHJldHVybiBkYXRhU291cmNlVXRpbHMuY3JlYXRlSlNBUElGZWF0dXJlTGF5ZXJCeVJlY29yZHMoZHMsIGRhdGFSZWNvcmRzKVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgLy8gQWRqdXN0IHRoZSBvcmRlciwgYmVjYXVzZSBkcy5sYXllciBpcyBhIHJlZmVyZW5jZSB0eXBlIHRoYXQgY2hhbmdlcyB0aGUgb3JpZ2luYWwgZGF0YVxyXG4gICAgICAvLyBjc3YgdXBsb2FkIHR5cGUgZHM6IG9ubHkgaGF2ZSBsYXllciwgYnV0IG5vdCBpdGVtSWQgYW5kIHVybFxyXG4gICAgICBpZiAoIXRoaXMuRmVhdHVyZUxheWVyKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVMYXllcilcclxuICAgICAgaWYgKGRzLml0ZW1JZCkge1xyXG4gICAgICAgIGNvbnN0IGxheWVySWQgPSBkcy5sYXllcklkID8gcGFyc2VJbnQoZHMubGF5ZXJJZCkgOiAnJ1xyXG4gICAgICAgIGNvbnN0IGxheWVyQ29uZmlnID0ge1xyXG4gICAgICAgICAgcG9ydGFsSXRlbToge1xyXG4gICAgICAgICAgICBpZDogZHMuaXRlbUlkLFxyXG4gICAgICAgICAgICBwb3J0YWw6IHtcclxuICAgICAgICAgICAgICB1cmw6IGRzLnBvcnRhbFVybFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZGVmaW5pdGlvbkV4cHJlc3Npb246IGN1clF1ZXJ5LndoZXJlLFxyXG4gICAgICAgICAgbGF5ZXJJZDogbGF5ZXJJZCB8fCB1bmRlZmluZWRcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRzLnVybCkgKGxheWVyQ29uZmlnIGFzIGFueSkudXJsID0gZHMudXJsXHJcbiAgICAgICAgZmVhdHVyZUxheWVyID0gbmV3IHRoaXMuRmVhdHVyZUxheWVyKGxheWVyQ29uZmlnKVxyXG4gICAgICB9IGVsc2UgaWYgKGRzLnVybCkge1xyXG4gICAgICAgIGZlYXR1cmVMYXllciA9IG5ldyB0aGlzLkZlYXR1cmVMYXllcih7XHJcbiAgICAgICAgICBkZWZpbml0aW9uRXhwcmVzc2lvbjogY3VyUXVlcnkud2hlcmUsXHJcbiAgICAgICAgICB1cmw6IGRzLnVybFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gZWxzZSBpZiAoZHMubGF5ZXIpIHtcclxuICAgICAgICAvLyBUaGUgb3JpZ2luYWwgbWV0aG9kIG9mIGNyZWF0aW5nIGEgbGF5ZXIgYnkgcXVlcnlpbmcgcmVjb3JkcyB3aWxsIGxvc2VcclxuICAgICAgICAvLyB0aGUgZGF0YSBpbiBkcyB3aGVuIHRoZSBmaWx0ZXIgaXMgc2V0IGZpcnN0IGFuZCB0aGVuIHZpZXcgaW4gdGFibGUuXHJcbiAgICAgICAgcmV0dXJuIGRzPy5jcmVhdGVKU0FQSUxheWVyQnlEYXRhU291cmNlKCkudGhlbihsYXllciA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gbGF5ZXJcclxuICAgICAgICB9KVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmVhdHVyZUxheWVyKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAobm90VG9Mb2FkKSB7IC8vIG91dHB1dCBkcyAoZHluYW1pYyBsYXllciwgbG9hZCB3aWxsIHJpc2UgYnVnKVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZlYXR1cmVMYXllcilcclxuICAgIH0gZWxzZSB7IC8vIG5lZWQgbG9hZCB0byBnZXQgbGF5ZXIuY2FwYWJpbGl0aWVzXHJcbiAgICAgIHJldHVybiBmZWF0dXJlTGF5ZXIubG9hZCgpLnRoZW4oYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLnJlc29sdmUoZmVhdHVyZUxheWVyKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0RHNBY2Nlc3NpYmxlSW5mbyA9ICh1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKCF1cmwpIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpXHJcbiAgICBjb25zdCByZXF1ZXN0ID0gZXNyaS5yZXN0UmVxdWVzdC5yZXF1ZXN0XHJcbiAgICByZXR1cm4gcmVxdWVzdChgJHt1cmx9P2Y9anNvbmApLnRoZW4oaW5mbyA9PiB7XHJcbiAgICAgIGlmIChPYmplY3Qua2V5cyhpbmZvKS5pbmNsdWRlcygnZXJyb3InKSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIH1cclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGdldEZpZWxkRWRpdGFibGUgPSAobGF5ZXJEZWZpbml0aW9uLCBqaW11TmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCBmaWVsZHNDb25maWcgPSBsYXllckRlZmluaXRpb24/LmZpZWxkcyB8fCBbXVxyXG4gICAgY29uc3Qgb3JnRmllbGQgPSBmaWVsZHNDb25maWcuZmluZChjb25maWcgPT4gY29uZmlnLm5hbWUgPT09IGppbXVOYW1lKVxyXG4gICAgY29uc3QgZmllbGRFZGl0YWJsZSA9IG9yZ0ZpZWxkID8gb3JnRmllbGQ/LmVkaXRhYmxlIDogdHJ1ZVxyXG4gICAgcmV0dXJuIGZpZWxkRWRpdGFibGVcclxuICB9XHJcblxyXG4gIGRzQXN5bmNTZWxlY3RUYWJsZSA9IChkYXRhU291cmNlLCBzZWxlY3RlZEl0ZW1zOiBEYXRhUmVjb3JkW10gfCBudW1iZXJbXSwgcm93Q2xpY2s6IGJvb2xlYW4sIHZlcnNpb25DaGFuZ2VDbGVhcj86IGJvb2xlYW4pID0+IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHRhYmxlSW5zdGFuY2UgPSB0aGlzLnRhYmxlIGFzIGFueVxyXG4gICAgY29uc3Qgc2VsZWN0ZWRJZHMgPSBzZWxlY3RlZEl0ZW1zPy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgIGlmIChpdGVtLmRhdGFTb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gaXRlbS5nZXRJZCgpPy50b1N0cmluZygpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW0/LnRvU3RyaW5nKClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIGlmICh2ZXJzaW9uQ2hhbmdlQ2xlYXIpIGRhdGFTb3VyY2UuY2xlYXJTZWxlY3Rpb24oKVxyXG4gICAgY29uc3Qgc3luY1NxbFJlc3VsdCA9IChyZWNvcmRzKSA9PiB7XHJcbiAgICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UoXHJcbiAgICAgICAgbmV3IERhdGFSZWNvcmRzU2VsZWN0aW9uQ2hhbmdlTWVzc2FnZShpZCwgcmVjb3JkcylcclxuICAgICAgKVxyXG4gICAgICB0YWJsZUluc3RhbmNlLmxheWVyLnF1ZXJ5RmVhdHVyZUNvdW50KCkudGhlbihjb3VudCA9PiB7XHJcbiAgICAgICAgY291bnQgPT09IDAgPyB0aGlzLnNldFN0YXRlKHsgZW1wdHlEYXRhOiB0cnVlIH0pIDogdGhpcy5zZXRTdGF0ZSh7IGVtcHR5RGF0YTogZmFsc2UgfSlcclxuICAgICAgfSlcclxuICAgICAgaWYgKHJlY29yZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGRhdGFTb3VyY2Uuc2VsZWN0UmVjb3Jkc0J5SWRzKFxyXG4gICAgICAgICAgcmVjb3Jkcy5tYXAocmVjb3JkID0+IHJlY29yZC5nZXRJZCgpKSxcclxuICAgICAgICAgIHJlY29yZHNcclxuICAgICAgICApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YVNvdXJjZS5jbGVhclNlbGVjdGlvbigpXHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFyb3dDbGljaykge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hc3luY1NlbGVjdGVkUmVidWlsZChkYXRhU291cmNlKVxyXG4gICAgICAgIH0sIDUwMClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNlbGVjdGVkSWRzPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGRhdGFTb3VyY2UucXVlcnkoe1xyXG4gICAgICAgIG9iamVjdElkczogc2VsZWN0ZWRJZHMsXHJcbiAgICAgICAgcmV0dXJuR2VvbWV0cnk6IHRydWUsXHJcbiAgICAgICAgb3V0RmllbGRzOiBbJyonXSxcclxuICAgICAgICBub3RBZGRGaWVsZHNUb0NsaWVudDogdHJ1ZVxyXG4gICAgICB9IGFzIFF1ZXJ5UGFyYW1zLCB7IHNjb3BlOiBRdWVyeVNjb3BlLkluQWxsRGF0YSB9KS50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVjb3JkcyA9IHJlc3VsdD8ucmVjb3Jkc1xyXG4gICAgICAgIGlmIChyZWNvcmRzKSBzeW5jU3FsUmVzdWx0KHJlY29yZHMpXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzeW5jU3FsUmVzdWx0KFtdKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaXNEYXRhU291cmNlQWNjZXNzaWJsZSA9IChkYXRhU291cmNlSWQ6IHN0cmluZywgaXNEYXRhQWN0aW9uPzogYm9vbGVhbiwgYWN0aW9uRGF0YVNvdXJjZT86IERhdGFTb3VyY2UpOiBib29sZWFuID0+IHtcclxuICAgIGNvbnN0IGhhc0luc3RhbmNlID0gISF0aGlzLmRzTWFuYWdlci5nZXREYXRhU291cmNlKGRhdGFTb3VyY2VJZClcclxuICAgIGxldCBkYXRhU291cmNlSXNJblByb3BzID0gZmFsc2VcclxuICAgIGlmIChhY3Rpb25EYXRhU291cmNlKSB7XHJcbiAgICAgIGRhdGFTb3VyY2VJc0luUHJvcHMgPSB0cnVlXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkYXRhU291cmNlSXNJblByb3BzID0gaXNEYXRhQWN0aW9uID8gaGFzSW5zdGFuY2UgOiAodGhpcy5wcm9wcy51c2VEYXRhU291cmNlcz8uZmlsdGVyKHVzZURzID0+IGRhdGFTb3VyY2VJZCA9PT0gdXNlRHMuZGF0YVNvdXJjZUlkKS5sZW5ndGggPiAwKVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGFTb3VyY2VJc0luUHJvcHNcclxuICB9XHJcblxyXG4gIHJlc2V0VXBkYXRpbmdTdGF0dXMgPSAoZW1wdHlUYWJsZTogYm9vbGVhbiA9IGZhbHNlKSA9PiB7XHJcbiAgICB0aGlzLmRhdGFTb3VyY2VDaGFuZ2UgPSBmYWxzZVxyXG4gICAgdGhpcy5kYXRhQWN0aW9uQ2FuTG9hZCA9IHRydWVcclxuICAgIHRoaXMudXBkYXRpbmdUYWJsZSA9IGZhbHNlXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgZW1wdHlUYWJsZSB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0SXNBZHZhbmNlZFBlcm1pc3Npb24gPSBhc3luYyAoY3VycmVudExheWVyRHMpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICAgIGlmICghY3VycmVudExheWVyRHMpIHJldHVybiBmYWxzZVxyXG4gICAgY29uc3QgbGF5ZXJJdGVtSW5mbyA9IGF3YWl0IGN1cnJlbnRMYXllckRzPy5mZXRjaEl0ZW1JbmZvKCkudGhlbihpbmZvID0+IHtcclxuICAgICAgcmV0dXJuIGluZm9cclxuICAgIH0pLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgIGNvbnNvbGUud2FybihlcnIpXHJcbiAgICB9KVxyXG4gICAgaWYgKCFsYXllckl0ZW1JbmZvIHx8ICFsYXllckl0ZW1JbmZvLnVybCkgcmV0dXJuIGZhbHNlXHJcbiAgICAvLyB1c2VyIGlzIGFkbWluL293bmVyLCBvciB1c2VyIGFuZCBpdGVtIGFyZSBpbiB0aGUgc2FtZSB1cGRhdGUgb3JnXHJcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBwb3J0YWxVcmwsIGl0IG1lYW5zIGl0J3Mgbm9uLWhvc3RlZCAoc2FtcGxlc2VydmVyNilcclxuICAgIGNvbnN0IHBvcnRhbFVybCA9IFNlcnZpY2VNYW5hZ2VyLmdldEluc3RhbmNlKCkuZ2V0U2VydmVySW5mb0J5U2VydmljZVVybChsYXllckl0ZW1JbmZvLnVybCk/Lm93bmluZ1N5c3RlbVVybFxyXG4gICAgaWYgKCFwb3J0YWxVcmwpIHJldHVybiBmYWxzZVxyXG4gICAgY29uc3Qgc2Vzc2lvbkZvckl0ZW0gPSBTZXNzaW9uTWFuYWdlci5nZXRJbnN0YW5jZSgpLmdldFNlc3Npb25CeVVybChwb3J0YWxVcmwpXHJcbiAgICAvLyBJZiB0aGVyZSBpcyBubyBzZXNzaW9uLCBpdCBtZWFucyB0aGVyZSB3YXMgbm8gcG9wLXVwIGxvZ2luXHJcbiAgICBpZiAoIXNlc3Npb25Gb3JJdGVtKSByZXR1cm4gZmFsc2VcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBzZXNzaW9uRm9ySXRlbS5nZXRVc2VyKClcclxuICAgIGNvbnN0IGlzQWRtaW4gPSB1c2VyPy5yb2xlID09PSAnb3JnX2FkbWluJyAmJiBsYXllckl0ZW1JbmZvPy5pc09yZ0l0ZW1cclxuICAgIGNvbnN0IGlzT3duZXIgPSBsYXllckl0ZW1JbmZvLm93bmVyID09PSB1c2VyPy51c2VybmFtZVxyXG4gICAgY29uc3QgaXNJblVwZGF0ZWRHcm91cCA9IGF3YWl0IHByaXZpbGVnZVV0aWxzLmlzSXRlbUluVGhlVXBkYXRlZEdyb3VwKGxheWVySXRlbUluZm8uaWQsIHNlc3Npb25Gb3JJdGVtKVxyXG4gICAgcmV0dXJuIGlzQWRtaW4gfHwgaXNPd25lciB8fCBpc0luVXBkYXRlZEdyb3VwXHJcbiAgfVxyXG5cclxuICBnZXRGaWx0ZXJlZFVzZUZpZWxkcyA9IChzY2hlbWFGaWVsZHMsIGRlZmluaXRpb25GaWVsZHMpID0+IHtcclxuICAgIGxldCBmaWx0ZXJlZFVzZUZpZWxkcyA9IFtdXHJcbiAgICBjb25zdCBzY2hlbWFGaWVsZHNLZXlzID0gT2JqZWN0LmtleXMoc2NoZW1hRmllbGRzKVxyXG4gICAgLy8gdXNlIGxheWVyIGRlZmluaXRpb24gZmllbGRzXHJcbiAgICBpZiAoZGVmaW5pdGlvbkZpZWxkcz8ubGVuZ3RoID49IHNjaGVtYUZpZWxkc0tleXM/Lmxlbmd0aCkge1xyXG4gICAgICBmaWx0ZXJlZFVzZUZpZWxkcyA9IGRlZmluaXRpb25GaWVsZHMuZmlsdGVyKGl0ZW0gPT4gc2NoZW1hRmllbGRzS2V5cy5pbmNsdWRlcyhpdGVtLmppbXVOYW1lIHx8IGl0ZW0ubmFtZSkpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzY2hlbWFGaWVsZHNLZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICBjb25zdCBjdXJyZW50RmllbGQgPSBzY2hlbWFGaWVsZHNba2V5XVxyXG4gICAgICAgIGNvbnN0IGhhc0RlZmluaXRpb25GaWVsZCA9IGRlZmluaXRpb25GaWVsZHMuZmluZChmaWVsZCA9PiBmaWVsZC5uYW1lID09PSBrZXkpXHJcbiAgICAgICAgLy8gc29tZSBkZWZpbml0aW9uIGhhcyBkb21haW4gaW5mbywgaWYgZXhpc3QsIG5lZWQgdG8gbWVyZ2UgdGhpcyBpbmZvIGludG8gc2NoZW1hRmllbGRzXHJcbiAgICAgICAgZmlsdGVyZWRVc2VGaWVsZHMucHVzaCh7XHJcbiAgICAgICAgICAuLi5jdXJyZW50RmllbGQsXHJcbiAgICAgICAgICAuLi5oYXNEZWZpbml0aW9uRmllbGRcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZpbHRlcmVkVXNlRmllbGRzXHJcbiAgfVxyXG5cclxuICBkc0FzeW5jQ2xpY2sgPSAoZGF0YVNvdXJjZSwgc2VsZWN0ZWRJdGVtczogRGF0YVJlY29yZFtdIHwgbnVtYmVyW10sIHJvd0NsaWNrOiBib29sZWFuLCB2ZXJzaW9uQ2hhbmdlQ2xlYXI/OiBib29sZWFuKSA9PiB7XHJcbiAgICBpZiAodGhpcy5jbGlja1RpbWVyKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsaWNrVGltZXIpXHJcbiAgICB9XHJcbiAgICB0aGlzLmNsaWNrVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgdGhpcy5kc0FzeW5jU2VsZWN0VGFibGUoZGF0YVNvdXJjZSwgc2VsZWN0ZWRJdGVtcywgcm93Q2xpY2spXHJcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNsaWNrVGltZXIpXHJcbiAgICAgIHRoaXMuY2xpY2tUaW1lciA9IG51bGxcclxuICAgIH0sIDQwMClcclxuICB9XHJcblxyXG4gIGdldExheWVyQW5kTmV3VGFibGUgPSAoZGF0YVNvdXJjZTogUXVlcmlhYmxlRGF0YVNvdXJjZSwgY3VyTGF5ZXJDb25maWc6IExheWVyc0NvbmZpZywgZGF0YVJlY29yZHM6IERhdGFSZWNvcmRbXSkgPT4ge1xyXG4gICAgY29uc3QgeyB0YWJsZVNob3dDb2x1bW5zLCBzZWxlY3RRdWVyeUZsYWcgfSA9IHRoaXMuc3RhdGVcclxuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IG5ld0lkID0gdGhpcy5jdXJyZW50UmVxdWVzdElkICsgMVxyXG4gICAgdGhpcy5jdXJyZW50UmVxdWVzdElkKytcclxuICAgIGNvbnN0IGlzU2NlbmVMYXllciA9IGRhdGFTb3VyY2U/LnR5cGUgPT09IEFsbERhdGFTb3VyY2VUeXBlcy5TY2VuZUxheWVyIHx8IGRhdGFTb3VyY2U/LnR5cGUgPT09IEFsbERhdGFTb3VyY2VUeXBlcy5CdWlsZGluZ0NvbXBvbmVudFN1YkxheWVyXHJcbiAgICBjb25zdCBkYXRhU291cmNlVXNlZCA9IGlzU2NlbmVMYXllciA/IChkYXRhU291cmNlIGFzIFNjZW5lTGF5ZXJEYXRhU291cmNlKS5nZXRBc3NvY2lhdGVkRGF0YVNvdXJjZSgpIDogZGF0YVNvdXJjZVxyXG4gICAgaWYgKGRhdGFTb3VyY2VVc2VkKSB7XHJcbiAgICAgIGNvbnN0IGdldFByaXZpbGVnZSA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gcHJpdmlsZWdlVXRpbHMuY2hlY2tFeGJBY2Nlc3MocHJpdmlsZWdlVXRpbHMuQ2hlY2tUYXJnZXQuRXhwZXJpZW5jZSkudGhlbihleGJBY2Nlc3MgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGV4YkFjY2Vzcz8uY2FwYWJpbGl0aWVzXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB0YWJsZVByb21pc2UgPSBjYW5jZWxhYmxlUHJvbWlzZS5jYW5jZWxhYmxlKHRoaXMuZ2V0RmVhdHVyZUxheWVyKGRhdGFTb3VyY2VVc2VkLCBkYXRhUmVjb3JkcykudGhlbihhc3luYyBsYXllciA9PiB7XHJcbiAgICAgICAgaWYgKG5ld0lkICE9PSB0aGlzLmN1cnJlbnRSZXF1ZXN0SWQgfHwgIWxheWVyIHx8ICF0aGlzLkZlYXR1cmVUYWJsZSB8fCAhdGhpcy5yZWZzLmN1cnJlbnRFbCB8fCAhdGhpcy5yZWZzLnRhYmxlQ29udGFpbmVyIHx8ICFkb2N1bWVudCkge1xyXG4gICAgICAgICAgdGhpcy5yZXNldFVwZGF0aW5nU3RhdHVzKClcclxuICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBmZWF0dXJlTGF5ZXIgPSBsYXllcj8ubGF5ZXIgfHwgbGF5ZXJcclxuICAgICAgICAvLyBJZiAndmlldyBpbiB0YWJsZScsIHVzZSBzZWxlY3Rpb24gdmlldyBhcyBsYXllciBkYXRhU291cmNlXHJcbiAgICAgICAgbGV0IGxheWVyRHMgPSBudWxsXHJcbiAgICAgICAgaWYgKGRhdGFSZWNvcmRzPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICB0aGlzLnZpZXdUYWJsZUlkKytcclxuICAgICAgICAgIGNvbnN0IG5ld0RzSWQgPSBgJHtkYXRhU291cmNlVXNlZC5pZH0tJHtpZH0tdmlld19pbl90YWJsZS0ke3RoaXMudmlld1RhYmxlSWR9YFxyXG4gICAgICAgICAgY29uc3QgbmV3U291cmNlTGFiZWwgPSBgJHtkYXRhU291cmNlVXNlZC5iZWxvbmdUb0RhdGFTb3VyY2U/LmdldERhdGFTb3VyY2VKc29uKCkuc291cmNlTGFiZWx9LSR7dGhpcy52aWV3VGFibGVJZH1gXHJcbiAgICAgICAgICBjb25zdCBsYXllckRzSnNvbiA9IEltbXV0YWJsZSh7XHJcbiAgICAgICAgICAgIGlkOiBuZXdEc0lkLFxyXG4gICAgICAgICAgICB0eXBlOiBEYXRhU291cmNlVHlwZXMuRmVhdHVyZUxheWVyLFxyXG4gICAgICAgICAgICBzb3VyY2VMYWJlbDogbmV3U291cmNlTGFiZWxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBjb25zdCBsYXllckRzT3B0aW9uID0ge1xyXG4gICAgICAgICAgICBpZDogbmV3RHNJZCxcclxuICAgICAgICAgICAgZGF0YVNvdXJjZUpzb246IGxheWVyRHNKc29uLFxyXG4gICAgICAgICAgICBsYXllcjogZmVhdHVyZUxheWVyXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXllckRzID0gYXdhaXQgdGhpcy5kc01hbmFnZXIuY3JlYXRlRGF0YVNvdXJjZShsYXllckRzT3B0aW9uKVxyXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRhdGFTb3VyY2U6IGxheWVyRHMgYXMgUXVlcmlhYmxlRGF0YVNvdXJjZSB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmZXRjaCB0byBjb25maXJtIHdoZXRoZXIgaXQncyBhIHB1YmxpYyBzb3VyY2VcclxuICAgICAgICBjb25zdCBhY2Nlc3NpYmxlID0gYXdhaXQgdGhpcy5nZXREc0FjY2Vzc2libGVJbmZvKGxheWVyPy51cmwpXHJcbiAgICAgICAgLy8gdXNlIGV4YiBwcml2aWxlZ2UgaW5zdGVhZCBvZiBhcGkncyBzdXBwb3J0c1VwZGF0ZUJ5T3RoZXJzXHJcbiAgICAgICAgY29uc3QgcHJpdmlsZWdlID0gYXdhaXQgZ2V0UHJpdmlsZWdlKClcclxuICAgICAgICBjb25zdCBwcml2aWxlZ2VFZGl0YWJsZSA9IHByaXZpbGVnZT8uY2FuRWRpdEZlYXR1cmVcclxuICAgICAgICAvLyBOZXcgbG9naWMgb2YgQVBJOiBUaGUgdXNlciB3aXRoIGFkdmFuY2VkIHBlcm1pc3Npb25zIGNhbiBtb2RpZnkgdGhlIGNvbmZpZ3VyYXRpb24gcmVnYXJkbGVzcyBvZiB0aGUgY29uZmlndXJhdGlvblxyXG4gICAgICAgIGNvbnN0IGlzQWR2YW5jZWRQZXJtaXNzaW9uID0gYXdhaXQgdGhpcy5nZXRJc0FkdmFuY2VkUGVybWlzc2lvbihsYXllckRzIHx8IGRhdGFTb3VyY2UpXHJcbiAgICAgICAgLy8gZnVsbCBlZGl0aW5nIHByaXZpbGVnZXNcclxuICAgICAgICBjb25zdCBmdWxsRWRpdGluZ1ByaXZpbGVnZXMgPSBmZWF0dXJlTGF5ZXI/LnVzZXJIYXNGdWxsRWRpdGluZ1ByaXZpbGVnZXNcclxuICAgICAgICAvLyBjaGVjayBsYXllciBjYXBhYmlsaXRpZXMgZm9yIGRlbGV0ZSBvcGVyYXRpb25cclxuICAgICAgICBjb25zdCBsYXllckRlZmluaXRpb24gPSAoZGF0YVNvdXJjZSBhcyBGZWF0dXJlTGF5ZXJEYXRhU291cmNlKT8uZ2V0TGF5ZXJEZWZpbml0aW9uKClcclxuICAgICAgICBjb25zdCBsYXllckVkaXRpbmdFbmFibGVkID0gZmVhdHVyZUxheWVyPy5lZGl0aW5nRW5hYmxlZCA/PyB0cnVlXHJcbiAgICAgICAgY29uc3QgaXNIb25vcldlYm1hcCA9IGN1ckxheWVyQ29uZmlnLmxheWVySG9ub3JNb2RlID09PSBMYXllckhvbm9yTW9kZVR5cGUuV2VibWFwXHJcbiAgICAgICAgY29uc3QgY2FuRWRpdEZlYXR1cmUgPSBhY2Nlc3NpYmxlIHx8IHByaXZpbGVnZUVkaXRhYmxlXHJcbiAgICAgICAgY29uc3Qgbm9ybWFsRWRpdFBlcm1pc3Npb24gPSBpc0hvbm9yV2VibWFwID8gY2FuRWRpdEZlYXR1cmUgOiBjdXJMYXllckNvbmZpZy5lbmFibGVFZGl0ICYmIGNhbkVkaXRGZWF0dXJlXHJcbiAgICAgICAgY29uc3Qgbm9ybWFsRGVsZXRlUGVybWlzc2lvbiA9IGlzSG9ub3JXZWJtYXAgPyBjYW5FZGl0RmVhdHVyZSA6IGN1ckxheWVyQ29uZmlnLmVuYWJsZURlbGV0ZSAmJiBjYW5FZGl0RmVhdHVyZVxyXG4gICAgICAgIGxldCBlZGl0YWJsZSA9IGZhbHNlXHJcbiAgICAgICAgbGV0IGRlbGV0YWJsZSA9IGZhbHNlXHJcbiAgICAgICAgaWYgKGlzQWR2YW5jZWRQZXJtaXNzaW9uIHx8IChmdWxsRWRpdGluZ1ByaXZpbGVnZXMgJiYgbGF5ZXJFZGl0aW5nRW5hYmxlZCkpIHtcclxuICAgICAgICAgIGVkaXRhYmxlID0gdHJ1ZVxyXG4gICAgICAgICAgZGVsZXRhYmxlID0gdHJ1ZVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZnVsbEVkaXRpbmdQcml2aWxlZ2VzICYmICFsYXllckVkaXRpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgICBlZGl0YWJsZSA9IGZhbHNlXHJcbiAgICAgICAgICBkZWxldGFibGUgPSBmYWxzZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBlZGl0YWJsZSA9IG5vcm1hbEVkaXRQZXJtaXNzaW9uXHJcbiAgICAgICAgICBkZWxldGFibGUgPSBub3JtYWxEZWxldGVQZXJtaXNzaW9uXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICdkZWxldGFibGUnIG9idGFpbmVkIGJ5IGFkdmFuY2VkIHBlcm1pc3Npb24gaXMgbm90IHVzZWQgZm9yIHRoZSB0aW1lIGJlaW5nICMxMzM2MVxyXG4gICAgICAgIC8vIHRoaXMuc2V0U3RhdGUoeyBhbGxvd0RlbDogZGVsZXRhYmxlIH0pXHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICBhbGxvd0RlbDogY3VyTGF5ZXJDb25maWcuZW5hYmxlRGVsZXRlICYmIGNhbkVkaXRGZWF0dXJlLFxyXG4gICAgICAgICAgZXhiUHJpdmlsZWdlOiBjYW5FZGl0RmVhdHVyZVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8gZmllbGRDb25maWdzOiBQcmlvcml0eSBuZWVkcyB0byBiZSBjb25zaWRlcmVkIGZvciAnZWRpdGFibGUnXHJcbiAgICAgICAgY29uc3QgYWxsRmllbGRzU2NoZW1hID0gKGRhdGFTb3VyY2VVc2VkIGFzIERhdGFTb3VyY2UpPy5nZXRTY2hlbWEoKVxyXG4gICAgICAgIC8vIHNvcnQgZmllbGRzXHJcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSBkYXRhU291cmNlPy5nZXRDdXJyZW50UXVlcnlQYXJhbXMoKVxyXG4gICAgICAgIGNvbnN0IHNvcnRGaWVsZHNBcnJheSA9IChxdWVyeVBhcmFtcyBhcyBhbnkpPy5vcmRlckJ5RmllbGRzIHx8IFtdXHJcbiAgICAgICAgY29uc3Qgc29ydEZpZWxkcyA9IHt9XHJcbiAgICAgICAgc29ydEZpZWxkc0FycmF5LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBmaWVsZFNvcnQgPSBpdGVtLnNwbGl0KCcgJylcclxuICAgICAgICAgIHNvcnRGaWVsZHNbZmllbGRTb3J0WzBdXSA9IHsgZGlyZWN0aW9uOiBmaWVsZFNvcnRbMV0/LnRvTG93ZXJDYXNlKCksIGluaXRpYWxTb3J0UHJpb3JpdHk6IGluZGV4IH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIGNvbnN0cnVjdCB0YWJsZVRlbXBsYXRlXHJcbiAgICAgICAgY29uc3QgY29sdW1uU2V0dGluZyA9IGN1ckxheWVyQ29uZmlnLmNvbHVtblNldHRpbmdcclxuICAgICAgICBjb25zdCBmaWVsZENvbHVtbkF0dHIgPSBjb2x1bW5TZXR0aW5nPy5yZXNwb25zaXZlVHlwZSA9PT0gUmVzcG9uc2l2ZVR5cGUuRml0ID8geyBhdXRvV2lkdGg6IHRydWUgfSA6IHsgYXV0b1dpZHRoOiBmYWxzZSwgd2lkdGg6IGNvbHVtblNldHRpbmc/LmNvbHVtbldpZHRoIHx8IDIwMCB9XHJcbiAgICAgICAgY29uc3QgeyBhbGxGaWVsZHMgfSA9IHRoaXMuZ2V0RmllbGRzRnJvbURhdGFzb3VyY2UoKVxyXG4gICAgICAgIGNvbnN0IGN1ckNvbHVtbnMgPSB0YWJsZVNob3dDb2x1bW5zID8gdGFibGVTaG93Q29sdW1ucy5tYXAoY29sID0+IHsgcmV0dXJuIHsgamltdU5hbWU6IGNvbC52YWx1ZSB9IH0pIDogY3VyTGF5ZXJDb25maWcudGFibGVGaWVsZHMuZmlsdGVyKGl0ZW0gPT4gaXRlbS52aXNpYmxlKVxyXG4gICAgICAgIGNvbnN0IGludmlzaWJsZUNvbHVtbnMgPSBtaW51c0FycmF5KGFsbEZpZWxkcywgY3VyQ29sdW1ucykubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGl0ZW0uamltdU5hbWVcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIEZvciBkYXRhdmlldywgbmVlZCB0byBtZXJnZSBpdHMgc29ydGluZyBpbmZvcm1hdGlvbiBpbnRvIGRlZmF1bHRcclxuICAgICAgICBsZXQgdGFibGVUZW1wbGF0ZTogX19lc3JpLlRhYmxlVGVtcGxhdGVcclxuICAgICAgICBpZiAoaXNIb25vcldlYm1hcCkgeyAvLyAgJiYgZGF0YVNvdXJjZS5pc0RhdGFWaWV3ICYmIGRhdGFTb3VyY2U/LmRhdGFWaWV3SWQgIT09IE9VVFBVVF9EQVRBX1ZJRVdfSURcclxuICAgICAgICAgIGNvbnN0IHBvcHVwSW5mbyA9IChkYXRhU291cmNlIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2UpPy5nZXRQb3B1cEluZm8oKVxyXG4gICAgICAgICAgY29uc3QgcG9wdXBBbGxGaWVsZEluZm9zID0gcG9wdXBJbmZvPy5maWVsZEluZm9zIHx8IFtdXHJcbiAgICAgICAgICAvLyB1c2Ugc2NoZW1hRmllbGRzIHRvIGZpbHRlciB1c2VkIGZpZWxkcywgc29tZSBmaWVsZCBpcyBzcGVjaWFsIGFuZCBpbnZpc2libGUgaW4gc2NoZW1hXHJcbiAgICAgICAgICBjb25zdCBzY2hlbWFGaWVsZHNLZXlzID0gT2JqZWN0LmtleXMoYWxsRmllbGRzU2NoZW1hPy5maWVsZHMpXHJcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZFBvcHVwRmllbGRJbmZvcyA9IHBvcHVwQWxsRmllbGRJbmZvcy5maWx0ZXIoaXRlbSA9PiBzY2hlbWFGaWVsZHNLZXlzLmluY2x1ZGVzKGl0ZW0uZmllbGROYW1lKSlcclxuICAgICAgICAgIGNvbnN0IHVzZUZpZWxkcyA9IGxheWVyRGVmaW5pdGlvbj8uZmllbGRzPy5sZW5ndGggPiAwID8gbGF5ZXJEZWZpbml0aW9uLmZpZWxkcyA6IGFsbEZpZWxkc1xyXG4gICAgICAgICAgY29uc3QgZmlsdGVyZWRVc2VGaWVsZHMgPSB0aGlzLmdldEZpbHRlcmVkVXNlRmllbGRzKGFsbEZpZWxkc1NjaGVtYT8uZmllbGRzLCB1c2VGaWVsZHMpXHJcbiAgICAgICAgICB0YWJsZVRlbXBsYXRlID0gcG9wdXBJbmZvPy5maWVsZEluZm9zPy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgID8gbmV3IHRoaXMuVGFibGVUZW1wbGF0ZSh7XHJcbiAgICAgICAgICAgICAgY29sdW1uVGVtcGxhdGVzOiBmaWx0ZXJlZFBvcHVwRmllbGRJbmZvcy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtS2V5ID0gaXRlbS5maWVsZE5hbWVcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgIC4uLml0ZW0sXHJcbiAgICAgICAgICAgICAgICAgIC4uLmZpZWxkQ29sdW1uQXR0cixcclxuICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZpZWxkJyxcclxuICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IGl0ZW0uaXNFZGl0YWJsZSA/PyBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgLi4uKHNvcnRGaWVsZHNbaXRlbUtleV0gPyBzb3J0RmllbGRzW2l0ZW1LZXldIDoge30pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgOiBuZXcgdGhpcy5UYWJsZVRlbXBsYXRlKHtcclxuICAgICAgICAgICAgICBjb2x1bW5UZW1wbGF0ZXM6IGZpbHRlcmVkVXNlRmllbGRzLm1hcChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1LZXkgPSBpdGVtLmppbXVOYW1lIHx8IGl0ZW0ubmFtZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcclxuICAgICAgICAgICAgICAgICAgLi4uZmllbGRDb2x1bW5BdHRyLFxyXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnZmllbGQnLFxyXG4gICAgICAgICAgICAgICAgICBmaWVsZE5hbWU6IGl0ZW1LZXksXHJcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtLmFsaWFzIHx8IGl0ZW0ubmFtZSxcclxuICAgICAgICAgICAgICAgICAgZWRpdGFibGU6IHRoaXMuZ2V0RmllbGRFZGl0YWJsZShsYXllckRlZmluaXRpb24sIGl0ZW1LZXkpLFxyXG4gICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAuLi4oc29ydEZpZWxkc1tpdGVtS2V5XSA/IHNvcnRGaWVsZHNbaXRlbUtleV0gOiB7fSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlzSG9ub3JXZWJtYXApIHtcclxuICAgICAgICAgIHRhYmxlVGVtcGxhdGUgPSBuZXcgdGhpcy5UYWJsZVRlbXBsYXRlKHtcclxuICAgICAgICAgICAgY29sdW1uVGVtcGxhdGVzOiBjdXJMYXllckNvbmZpZy50YWJsZUZpZWxkcy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgaXRlbUtleSA9IGl0ZW0uamltdU5hbWUgfHwgaXRlbS5uYW1lXHJcbiAgICAgICAgICAgICAgY29uc3QgbmV3SXRlbSA9IGFsbEZpZWxkc1NjaGVtYT8uZmllbGRzPy5baXRlbUtleV1cclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZpZWxkJyxcclxuICAgICAgICAgICAgICAgIC4uLmZpZWxkQ29sdW1uQXR0cixcclxuICAgICAgICAgICAgICAgIGZpZWxkTmFtZTogaXRlbUtleSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBuZXdJdGVtPy5hbGlhcyxcclxuICAgICAgICAgICAgICAgIC4uLihlZGl0YWJsZSA/IHsgZWRpdGFibGU6IHRoaXMuZ2V0RmllbGRFZGl0YWJsZShsYXllckRlZmluaXRpb24sIGl0ZW1LZXkpICYmIGl0ZW0/LmVkaXRBdXRob3JpdHkgfSA6IHt9KSxcclxuICAgICAgICAgICAgICAgIHZpc2libGU6IGludmlzaWJsZUNvbHVtbnMuaW5kZXhPZihpdGVtS2V5KSA8IDAsXHJcbiAgICAgICAgICAgICAgICAuLi4oc29ydEZpZWxkc1tpdGVtS2V5XSA/IHNvcnRGaWVsZHNbaXRlbUtleV0gOiB7fSlcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3aGVuIHVuc2VsZWN0IGFsbCBmaWVsZHMsIGRvIG5vdCByZW5kZXIgdGFibGVcclxuICAgICAgICBpZiAodGFibGVUZW1wbGF0ZT8uY29sdW1uVGVtcGxhdGVzPy5sZW5ndGggPT09IDAgJiYgIWlzSG9ub3JXZWJtYXApIHtcclxuICAgICAgICAgIHRoaXMucmVzZXRVcGRhdGluZ1N0YXR1cygpXHJcbiAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVkaXRhYmxlIHx8IGRlbGV0YWJsZSkge1xyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICAgICAgICBjb25zdCB0aGF0ID0gdGhpc1xyXG4gICAgICAgICAgZmVhdHVyZUxheWVyLm9uKCdlZGl0cycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBjb25zdCB7IHVwZGF0ZWRGZWF0dXJlcywgZGVsZXRlZEZlYXR1cmVzIH0gPSBldmVudFxyXG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBubyAnYWRkJyBpbiBhcGkgZm9yIG5vd1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVzID0gdXBkYXRlZEZlYXR1cmVzICYmIHVwZGF0ZWRGZWF0dXJlcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZXMgPSBkZWxldGVkRmVhdHVyZXMgJiYgZGVsZXRlZEZlYXR1cmVzLmxlbmd0aCA+IDBcclxuICAgICAgICAgICAgaWYgKHVwZGF0ZXMpIHtcclxuICAgICAgICAgICAgICBjb25zdCB1cGRhdGVGZWF0dXJlID0gZXZlbnQ/LmVkaXRzPy51cGRhdGVGZWF0dXJlcz8uWzBdXHJcbiAgICAgICAgICAgICAgaWYgKHVwZGF0ZUZlYXR1cmUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IGRhdGFTb3VyY2UuYnVpbGRSZWNvcmQodXBkYXRlRmVhdHVyZSlcclxuICAgICAgICAgICAgICAgIGRhdGFTb3VyY2UuYWZ0ZXJVcGRhdGVSZWNvcmQocmVjb3JkKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGVsZXRlcykge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUZlYXR1cmVzID0gZXZlbnQ/LmVkaXRzPy5kZWxldGVGZWF0dXJlc1xyXG4gICAgICAgICAgICAgIGlmIChkZWxldGVGZWF0dXJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWxldGVJZHMgPSBbXVxyXG4gICAgICAgICAgICAgICAgZGVsZXRlRmVhdHVyZXMuZm9yRWFjaChkZWxldGVGZWF0dXJlID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgcmVjb3JkID0gZGF0YVNvdXJjZS5idWlsZFJlY29yZChkZWxldGVGZWF0dXJlKVxyXG4gICAgICAgICAgICAgICAgICBkZWxldGVJZHMucHVzaChyZWNvcmQuZ2V0SWQoKSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBkYXRhU291cmNlLmFmdGVyRGVsZXRlUmVjb3Jkc0J5SWRzKGRlbGV0ZUlkcylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRzR2RiVmVyc2lvbiA9IChkYXRhU291cmNlIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2UpLmdldEdEQlZlcnNpb24oKVxyXG4gICAgICAgIGlmIChkc0dkYlZlcnNpb24pIGZlYXR1cmVMYXllci5nZGJWZXJzaW9uID0gZHNHZGJWZXJzaW9uXHJcbiAgICAgICAgY29uc3QgdGltZUV4dGVudCA9IChxdWVyeVBhcmFtcyBhcyBhbnkpPy50aW1lXHJcbiAgICAgICAgaWYgKHRpbWVFeHRlbnQpIHtcclxuICAgICAgICAgIGNvbnN0IGFwaVRpbWUgPSBkYXRhU291cmNlVXRpbHMuY2hhbmdlSmltdVRpbWVUb0pTQVBJVGltZUV4dGVudCh0aW1lRXh0ZW50KVxyXG4gICAgICAgICAgZmVhdHVyZUxheWVyLnRpbWVFeHRlbnQgPSBhcGlUaW1lXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENsZWFyIHRhYmxlIGNvbnRhaW5lciBiZWZvcmUgY3JlYXRlIG5ldyB0YWJsZS5cclxuICAgICAgICB0aGlzLnJlZnMudGFibGVDb250YWluZXIuaW5uZXJIVE1MID0gJydcclxuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBgdGFibGUtY29udGFpbmVyLSR7aWR9YFxyXG4gICAgICAgIHRoaXMucmVmcy50YWJsZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjb250YWluZXIpXHJcbiAgICAgICAgdGhpcy50YWJsZSA9IG5ldyB0aGlzLkZlYXR1cmVUYWJsZSh7XHJcbiAgICAgICAgICBsYXllcjogZmVhdHVyZUxheWVyLFxyXG4gICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXHJcbiAgICAgICAgICB2aXNpYmxlRWxlbWVudHM6IHtcclxuICAgICAgICAgICAgaGVhZGVyOiBmYWxzZSxcclxuICAgICAgICAgICAgbWVudTogZmFsc2UsXHJcbiAgICAgICAgICAgIG1lbnVJdGVtczoge1xyXG4gICAgICAgICAgICAgIGNsZWFyU2VsZWN0aW9uOiBmYWxzZSxcclxuICAgICAgICAgICAgICByZWZyZXNoRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgdG9nZ2xlQ29sdW1uczogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2VsZWN0aW9uQ29sdW1uOiBmYWxzZVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG1lbnVDb25maWc6IHsgaXRlbXM6IFtdIH0sXHJcbiAgICAgICAgICAuLi4odGFibGVUZW1wbGF0ZSA/IHsgdGFibGVUZW1wbGF0ZSB9IDoge30pLFxyXG4gICAgICAgICAgbXVsdGlTb3J0RW5hYmxlZDogdHJ1ZSxcclxuICAgICAgICAgIGF0dGFjaG1lbnRzRW5hYmxlZDogY3VyTGF5ZXJDb25maWcuZW5hYmxlQXR0YWNoZW1lbnRzLFxyXG4gICAgICAgICAgZWRpdGluZ0VuYWJsZWQ6IGVkaXRhYmxlLFxyXG4gICAgICAgICAgdGltZVpvbmU6IHRoaXMuZ2V0VGltZXpvbmUoZGF0YVNvdXJjZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIGZvciB0YWJsZSB0b3RhbC9zZWxlY3RlZCBjb3VudFxyXG4gICAgICAgIHJlYWN0aXZlVXRpbHMud2F0Y2goKCkgPT4gKHRoaXMudGFibGU/LnZpZXdNb2RlbCBhcyBhbnkpPy5zaXplLCB0YWJsZVRvdGFsID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0YWJsZVRvdGFsIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICByZWFjdGl2ZVV0aWxzLndhdGNoKCgpID0+IHRoaXMudGFibGU/LmhpZ2hsaWdodElkcz8ubGVuZ3RoLCB0YWJsZVNlbGVjdGVkID0+IHtcclxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0YWJsZVNlbGVjdGVkIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyB0YWJsZSBlZGl0aW5nIHN0YXRlLCBmb3IgYXBpIGxpbWl0YXRpb24sIGNsaWNrIHRocm91Z2ggd2hpbGUgZWRpdGluZyB3aWxsIGNhdXNlIHRoZSBzZWxlY3RlZCBldmVudCB0byBiZSB0cmlnZ2VyZWRcclxuICAgICAgICByZWFjdGl2ZVV0aWxzLndhdGNoKCgpID0+IHRoaXMudGFibGU/LmNvbHVtbnMuc29tZShjb2x1bW4gPT4gISEoY29sdW1uIGFzIGFueSkuYWN0aXZlRWRpdEluZm8pLCBpc1RhYmxlRWRpdGluZyA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNUYWJsZUVkaXRpbmcgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIFdoZW4gdGFibGUgaXMgbm90IGxvYWRlZCwgYnV0dG9ucyBpbiB0b29sIHNob3VsZCBiZSBkaXNhYmxlZFxyXG4gICAgICAgIHJlYWN0aXZlVXRpbHMud2F0Y2goKCkgPT4gdGhpcy50YWJsZS5zdGF0ZSwgKHRhYmxlU3RhdGUpID0+IHtcclxuICAgICAgICAgIGlmICh0YWJsZVN0YXRlID09PSAnbG9hZGVkJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdGFibGVMb2FkZWQ6IHRydWUgfSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyB0YWJsZUxvYWRlZDogZmFsc2UgfSlcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIGFzeW5jIHNlbGVjdGVkXHJcbiAgICAgICAgLy8gVmlldyBpbiB0YWJsZSBkb2VzIG5vdCBuZWVkIHRvIGJlIHNlbGVjdGVkIHN5bmNocm9ub3VzbHlcclxuICAgICAgICBjb25zdCBkYXRhQWN0aW9uSXNBZGQgPSBjdXJMYXllckNvbmZpZy5kYXRhQWN0aW9uVHlwZSA9PT0gVGFibGVEYXRhQWN0aW9uVHlwZS5BZGRcclxuICAgICAgICBjb25zdCBkYXRhQWN0aW9uT2JqZWN0ID0gY3VyTGF5ZXJDb25maWcuZGF0YUFjdGlvbk9iamVjdFxyXG4gICAgICAgIGlmICghZGF0YUFjdGlvbk9iamVjdCkge1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RRdWVyeUZsYWcpIHRoaXMuYXN5bmNTZWxlY3RlZFdoZW5TZWxlY3Rpb24oSW1tdXRhYmxlKGRhdGFTb3VyY2UuZ2V0U2VsZWN0ZWRSZWNvcmRJZHMoKSB8fCBbXSkpXHJcbiAgICAgICAgICB9LCA1MDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhQWN0aW9uSXNBZGQpIHtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFzeW5jU2VsZWN0ZWRSZWJ1aWxkKGRhdGFTb3VyY2UpXHJcbiAgICAgICAgICB9LCA1MDApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRhYmxlSW5zdGFuY2UgPSB0aGlzLnRhYmxlIGFzIGFueVxyXG4gICAgICAgIC8vIEJlY2F1c2UgdGhlIGFwaSBkb2VzIG5vdCBoYW5kbGUgdGhlIGJ1YmJsaW5nIG9mIGRvdWJsZS1jbGljayBldmVudHMsIGRvdWJsZS1jbGlja2luZyBhIGxpbmUgdG9cclxuICAgICAgICAvLyBzdGFydCBlZGl0aW5nIHJlc3VsdHMgaW4gc2VsZWN0aW5nIGFuZCB0aGVuIGNhbmNlbGluZywgc28gdGhlIGRlZmVycmVkIGNhbmNlbGluZyBtZXRob2QgaXMgdXNlZFxyXG4gICAgICAgIGlmIChjdXJMYXllckNvbmZpZy5lbmFibGVTZWxlY3QpIHtcclxuICAgICAgICAgIGNvbnN0IHJvd0NsaWNrRm4gPSAoeyBmZWF0dXJlLCBvYmplY3RJZDogdGhpc0lkIH0pID0+IHtcclxuICAgICAgICAgICAgLy8gY2xpY2sgdW5jb250ZW50IGNlbGwgKGVkLiB0aXRsZSlcclxuICAgICAgICAgICAgaWYgKCFmZWF0dXJlKSByZXR1cm5cclxuICAgICAgICAgICAgLy8gZWRpdCBtb2RlIGNhbmNlbCBjZWxsLWNsaWNrXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmlzVGFibGVFZGl0aW5nKSByZXR1cm5cclxuICAgICAgICAgICAgLy8gRGVsYXkgY2xpY2sgZnVuY3Rpb25cclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJGbilcclxuICAgICAgICAgICAgdGhpcy50aW1lckZuID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGZEc0NoYW5nZTogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgIGNvbnN0IG9iamVjdElkID0gdGhpc0lkIHx8IGZlYXR1cmUuZ2V0T2JqZWN0SWQoKVxyXG4gICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2VsZWN0ZWQgPSB0aGlzLnRhYmxlLmhpZ2hsaWdodElkc1xyXG4gICAgICAgICAgICAgIGNvbnN0IHRoaXNTZWxlY3RlZCA9IG9yaWdpbmFsU2VsZWN0ZWQuaW5jbHVkZXMob2JqZWN0SWQpXHJcbiAgICAgICAgICAgICAgaWYgKGN1ckxheWVyQ29uZmlnLnNlbGVjdE1vZGUgPT09IFNlbGVjdGlvbk1vZGVUeXBlLlNpbmdsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5oaWdobGlnaHRJZHMucmVtb3ZlQWxsKClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgdGhpc1NlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMudGFibGUuaGlnaGxpZ2h0SWRzLnJlbW92ZShvYmplY3RJZClcclxuICAgICAgICAgICAgICAgIDogdGhpcy50YWJsZS5oaWdobGlnaHRJZHMuYWRkKG9iamVjdElkKVxyXG4gICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkSWRzID0gdGFibGVJbnN0YW5jZS5oaWdobGlnaHRJZHM/LnRvQXJyYXkoKVxyXG4gICAgICAgICAgICAgIGlmIChzZWxlY3RlZElkcz8ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5zZWxlY3RRdWVyeUZsYWcpIHRoaXMudGFibGUuY2xlYXJTZWxlY3Rpb25GaWx0ZXIoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFRhYmxlRXhwcmVzc2lvbigpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0UXVlcnlGbGFnOiBmYWxzZSB9KVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBjb25zdCBpc1ZpZXdTbmFwc2hvdCA9IGN1ckxheWVyQ29uZmlnLmRhdGFBY3Rpb25UeXBlID09PSBUYWJsZURhdGFBY3Rpb25UeXBlLlZpZXdcclxuICAgICAgICAgICAgICB0aGlzLmRzQXN5bmNDbGljayhpc1ZpZXdTbmFwc2hvdCA/IGxheWVyRHMgOiBkYXRhU291cmNlLCBzZWxlY3RlZElkcywgdHJ1ZSlcclxuICAgICAgICAgICAgfSwgMjAwKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGFibGVJbnN0YW5jZS5vbignY2VsbC1jbGljaycsIHJvd0NsaWNrRm4pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGRibGNsaWNrIGNhbmNlbCBjbGljayBldmVudFxyXG4gICAgICAgIHRhYmxlSW5zdGFuY2U/LmRvbU5vZGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgZXZlID0+IHtcclxuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyRm4pXHJcbiAgICAgICAgfSlcclxuICAgICAgICBpZiAoIWRhdGFSZWNvcmRzKSB0aGlzLnVwZGF0ZUdlb21ldHJ5QW5kU3FsKGRhdGFTb3VyY2UpXHJcbiAgICAgICAgdGhpcy5yZXNldFVwZGF0aW5nU3RhdHVzKClcclxuICAgICAgfSkpXHJcbiAgICAgIC8vIGNhbmNlbCBwcmV2aW91cyBwcm9taXNlXHJcbiAgICAgIGlmICh0aGlzLnByb21pc2VzLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgIHRoaXMucHJvbWlzZXMuZm9yRWFjaChwID0+IHsgcC5jYW5jZWwoKSB9KVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMucHJvbWlzZXMucHVzaCh0YWJsZVByb21pc2UpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGVUYWJsZSA9IChuZXdEYXRhU291cmNlPykgPT4ge1xyXG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHsgbGF5ZXJzQ29uZmlnIH0gPSBjb25maWdcclxuICAgIGNvbnN0IHsgYWN0aXZlVGFiSWQgfSA9IHRoaXMuc3RhdGVcclxuICAgIGxldCB7IGRhdGFTb3VyY2UgfSA9IHRoaXMuc3RhdGVcclxuICAgIGlmIChuZXdEYXRhU291cmNlKSBkYXRhU291cmNlID0gbmV3RGF0YVNvdXJjZVxyXG4gICAgLy8gYWRkIGRhdGEtYWN0aW9uIHRhYmxlIGNvbmZpZyB0byBhbGwgY29uZmlnc1xyXG4gICAgY29uc3QgZGFMYXllcnNDb25maWcgPSB0aGlzLmdldERhdGFBY3Rpb25UYWJsZSgpXHJcbiAgICBjb25zdCBhbGxMYXllcnNDb25maWcgPSBsYXllcnNDb25maWcuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5jb25jYXQoZGFMYXllcnNDb25maWcpXHJcbiAgICBjb25zdCBjdXJMYXllckNvbmZpZyA9IGFsbExheWVyc0NvbmZpZy5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PT0gYWN0aXZlVGFiSWQpXHJcbiAgICBpZiAoIWN1ckxheWVyQ29uZmlnKSB7XHJcbiAgICAgIHRoaXMuZGF0YUFjdGlvbkNhbkxvYWQgPSB0cnVlXHJcbiAgICAgIHRoaXMudXBkYXRpbmdUYWJsZSA9IGZhbHNlXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgLy8gYWRkIGRhdGEgd2lkZ2V0IGRhdGEgYWN0aW9uXHJcbiAgICBjb25zdCB7IGRhdGFBY3Rpb25EYXRhU291cmNlIH0gPSBjdXJMYXllckNvbmZpZ1xyXG4gICAgaWYgKGRhdGFBY3Rpb25EYXRhU291cmNlKSB7XHJcbiAgICAgIGRhdGFTb3VyY2UgPSBkYXRhQWN0aW9uRGF0YVNvdXJjZSBhcyBRdWVyaWFibGVEYXRhU291cmNlXHJcbiAgICB9XHJcbiAgICBpZiAoIWRhdGFTb3VyY2UgfHwgbm90TG9hZC5pbmNsdWRlcyhkYXRhU291cmNlPy5nZXRJbmZvKCk/LnN0YXR1cykpIHtcclxuICAgICAgdGhpcy5kYXRhQWN0aW9uQ2FuTG9hZCA9IHRydWVcclxuICAgICAgdGhpcy51cGRhdGluZ1RhYmxlID0gZmFsc2VcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICAvLyBkcyBqdWRnbWVudFxyXG4gICAgY29uc3QgZGF0YUFjdGlvbk9iamVjdCA9IGN1ckxheWVyQ29uZmlnLmRhdGFBY3Rpb25PYmplY3RcclxuICAgIGlmIChkYXRhU291cmNlPy5kYXRhVmlld0lkID09PSBTRUxFQ1RJT05fREFUQV9WSUVXX0lEKSB7XHJcbiAgICAgIGlmICghZGF0YVNvdXJjZT8uZ2V0RGF0YVNvdXJjZUpzb24oKT8uaXNEYXRhSW5EYXRhU291cmNlSW5zdGFuY2UgfHxcclxuICAgICAgICAoIWRhdGFBY3Rpb25PYmplY3QgJiYgZGF0YVNvdXJjZT8uZ2V0U291cmNlUmVjb3JkcygpLmxlbmd0aCA9PT0gMClcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5yZXNldFVwZGF0aW5nU3RhdHVzKHRydWUpXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVtcHR5VGFibGU6IGZhbHNlIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBkcyBoYXMgY2hhbmdlIHRvIGN1ckxheWVyJ3MgZHNcclxuICAgIGNvbnN0IGN1ckRzSWQgPSBkYXRhQWN0aW9uRGF0YVNvdXJjZSA/IGRhdGFBY3Rpb25EYXRhU291cmNlPy5pZCA6IGN1ckxheWVyQ29uZmlnPy51c2VEYXRhU291cmNlPy5kYXRhU291cmNlSWRcclxuICAgIGNvbnN0IGlzQ3VyRHMgPSBjdXJMYXllckNvbmZpZy5kYXRhQWN0aW9uVHlwZSA9PT0gVGFibGVEYXRhQWN0aW9uVHlwZS5WaWV3IHx8IGN1ckRzSWQgPT09IGRhdGFTb3VyY2U/LmlkXHJcbiAgICBpZiAoIWlzQ3VyRHMpIHtcclxuICAgICAgdGhpcy5kYXRhQWN0aW9uQ2FuTG9hZCA9IHRydWVcclxuICAgICAgdGhpcy51cGRhdGluZ1RhYmxlID0gZmFsc2VcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayB3aGV0aGVyIGRzIGlzIGF2YWlsYWJsZVxyXG4gICAgaWYgKCF0aGlzLmlzRGF0YVNvdXJjZUFjY2Vzc2libGUoY3VyRHNJZCwgZGF0YUFjdGlvbk9iamVjdCwgZGF0YUFjdGlvbkRhdGFTb3VyY2UpKSB7XHJcbiAgICAgIHRoaXMucmVzZXRVcGRhdGluZ1N0YXR1cyh0cnVlKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGNvbnN0IGRhdGFSZWNvcmRzID0gdGhpcy5kYXRhQWN0aW9uVGFibGVSZWNvcmRzW2N1ckxheWVyQ29uZmlnLmlkXVxyXG4gICAgaWYgKGRhdGFBY3Rpb25PYmplY3QpIHtcclxuICAgICAgaWYgKGN1ckRzSWQpIHtcclxuICAgICAgICBkYXRhU291cmNlID0gdGhpcy5kc01hbmFnZXIuZ2V0RGF0YVNvdXJjZShjdXJEc0lkKSBhcyBRdWVyaWFibGVEYXRhU291cmNlXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZ2V0TGF5ZXJBbmROZXdUYWJsZShkYXRhU291cmNlLCBjdXJMYXllckNvbmZpZywgZGF0YVJlY29yZHMpXHJcbiAgfVxyXG5cclxuICBhc3luY1NlbGVjdGVkUmVidWlsZCA9IChkYXRhU291cmNlOiBRdWVyaWFibGVEYXRhU291cmNlKSA9PiB7XHJcbiAgICBjb25zdCB7IHNlbGVjdFJlY29yZHMgfSA9IHRoaXMuc3RhdGVcclxuICAgIGxldCBzZWxlY3RlZFJlY29yZElkcyA9IGRhdGFTb3VyY2U/LmdldFNlbGVjdGVkUmVjb3JkSWRzKClcclxuICAgIGNvbnN0IGJlbG9uZ1RvU2VsZWN0ZWRSZWNvcmRJZHMgPSBkYXRhU291cmNlPy5iZWxvbmdUb0RhdGFTb3VyY2U/LmdldFNlbGVjdGVkUmVjb3JkSWRzKCkgfHwgW11cclxuICAgIGlmIChkYXRhU291cmNlLmlzRGF0YVZpZXcgJiYgc2VsZWN0ZWRSZWNvcmRJZHMubGVuZ3RoICE9PSBiZWxvbmdUb1NlbGVjdGVkUmVjb3JkSWRzLmxlbmd0aCkge1xyXG4gICAgICBzZWxlY3RlZFJlY29yZElkcyA9IGJlbG9uZ1RvU2VsZWN0ZWRSZWNvcmRJZHMgfHwgc2VsZWN0ZWRSZWNvcmRJZHNcclxuICAgIH1cclxuICAgIHRoaXMudGFibGU/LmhpZ2hsaWdodElkcz8ucmVtb3ZlQWxsICYmIHRoaXMudGFibGUuaGlnaGxpZ2h0SWRzLnJlbW92ZUFsbCgpXHJcbiAgICAvLyBzZWxlY3Rpb24gcGFzc2VkIGZyb20gVVJMIHBhcmFtZXRlcnNcclxuICAgIGNvbnN0IGN1clNlbGVjdFJlY29yZHMgPSBkYXRhU291cmNlPy5nZXRTZWxlY3RlZFJlY29yZHMoKVxyXG4gICAgaWYgKGN1clNlbGVjdFJlY29yZHMgJiYgIWxvZGFzaC5pc0RlZXBFcXVhbChzZWxlY3RSZWNvcmRzLCBjdXJTZWxlY3RSZWNvcmRzKSkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0UmVjb3JkczogY3VyU2VsZWN0UmVjb3JkcyB9KVxyXG4gICAgfVxyXG4gICAgLy8gU3luY2hyb25pemUgbmV3IHNlbGVjdGlvbiAodGhlIHJlY29yZCBvZiBzZWxlY3RlZFJlY29yZHMgaGFzIGRpZmZlcmVudCBzdHJ1Y3R1cmUpXHJcbiAgICAvLyBsYXllci91cmwgZHM6IHRoZSBmZWF0dXJlc0FycmF5J3Mgc3RydWN0dXJlIGlzIG5vdCBtYXRjaCB0aGUgJ2Rlc2VsZWN0Um93cycsIHVzZSBwcmltYXJ5IGlkXHJcbiAgICBpZiAoc2VsZWN0ZWRSZWNvcmRJZHM/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgc2VsZWN0ZWRSZWNvcmRJZHMuZm9yRWFjaChyZWNvcmRJZCA9PiB7XHJcbiAgICAgICAgaWYgKHJlY29yZElkKSB0aGlzLnRhYmxlPy5oaWdobGlnaHRJZHM/LmFkZCAmJiB0aGlzLnRhYmxlLmhpZ2hsaWdodElkcy5hZGQocGFyc2VJbnQocmVjb3JkSWQpKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVzdHJveVRhYmxlICgpIHtcclxuICAgIGlmICh0aGlzLnRhYmxlKSB7XHJcbiAgICAgICF0aGlzLnRhYmxlLmRlc3Ryb3llZCAmJiB0aGlzLnRhYmxlLmRlc3Ryb3koKVxyXG4gICAgfVxyXG4gICAgLy8gQ2xlYXIgdGFibGUgY29udGFpbmVyIGFmdGVyIGRlc3Ryb3kgdGFibGUuXHJcbiAgICBpZiAodGhpcy5yZWZzLnRhYmxlQ29udGFpbmVyKSB7XHJcbiAgICAgIHRoaXMucmVmcy50YWJsZUNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG4gICAgfVxyXG4gICAgYXdhaXQgUHJvbWlzZS5yZXNvbHZlKClcclxuICB9XHJcblxyXG4gIGZvcm1hdE1lc3NhZ2UgPSAoaWQ6IHN0cmluZywgdmFsdWVzPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaW50bC5mb3JtYXRNZXNzYWdlKFxyXG4gICAgICB7IGlkOiBpZCwgZGVmYXVsdE1lc3NhZ2U6IG1lc3NhZ2VzW2lkXSB9LFxyXG4gICAgICB2YWx1ZXNcclxuICAgIClcclxuICB9XHJcblxyXG4gIG9uVGFnQ2xpY2sgPSAoZGF0YVNvdXJjZUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucHJvcHNcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhY3RpdmVUYWJJZDogZGF0YVNvdXJjZUlkLFxyXG4gICAgICBzZWxlY3RRdWVyeUZsYWc6IGZhbHNlLFxyXG4gICAgICB0YWJsZVNob3dDb2x1bW5zOiB1bmRlZmluZWQsXHJcbiAgICAgIHRhYmxlU2VsZWN0ZWQ6IDBcclxuICAgIH0pXHJcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxyXG4gICAgICBhcHBBY3Rpb25zLndpZGdldFN0YXRlUHJvcENoYW5nZShpZCwgJ2FjdGl2ZVRhYklkJywgZGF0YVNvdXJjZUlkKVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlVGFnQ2hhbmdlID0gZXZ0ID0+IHtcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VJZCA9IGV2dD8udGFyZ2V0Py52YWx1ZVxyXG4gICAgY29uc3QgeyBpZCB9ID0gdGhpcy5wcm9wc1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFjdGl2ZVRhYklkOiBkYXRhU291cmNlSWQsXHJcbiAgICAgIHNlbGVjdFF1ZXJ5RmxhZzogZmFsc2UsXHJcbiAgICAgIHRhYmxlU2VsZWN0ZWQ6IDBcclxuICAgIH0pXHJcbiAgICB0aGlzLnByb3BzLmRpc3BhdGNoKFxyXG4gICAgICBhcHBBY3Rpb25zLndpZGdldFN0YXRlUHJvcENoYW5nZShpZCwgJ2FjdGl2ZVRhYklkJywgZGF0YVNvdXJjZUlkKVxyXG4gICAgKVxyXG4gIH1cclxuXHJcbiAgb25TaG93U2VsZWN0aW9uID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBzZWxlY3RRdWVyeUZsYWcgfSA9IHRoaXMuc3RhdGVcclxuICAgIGlmIChzZWxlY3RRdWVyeUZsYWcpIHtcclxuICAgICAgdGhpcy50YWJsZS5jbGVhclNlbGVjdGlvbkZpbHRlcigpXHJcbiAgICAgIHRoaXMucmVzZXRUYWJsZUV4cHJlc3Npb24oKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy50YWJsZS5maWx0ZXJCeVNlbGVjdGlvbigpXHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0UXVlcnlGbGFnOiAhc2VsZWN0UXVlcnlGbGFnIH0pXHJcbiAgfVxyXG5cclxuICByZXNldFRhYmxlRXhwcmVzc2lvbiA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgZGF0YVNvdXJjZSB9ID0gdGhpcy5zdGF0ZVxyXG4gICAgaWYgKHRoaXMudGFibGU/LmxheWVyKSB7XHJcbiAgICAgIGNvbnN0IGN1clF1ZXJ5OiBhbnkgPSBkYXRhU291cmNlICYmIGRhdGFTb3VyY2UuZ2V0Q3VycmVudFF1ZXJ5UGFyYW1zKClcclxuICAgICAgY29uc3Qgc3FsRXhwcmVzc2lvbiA9IGN1clF1ZXJ5LndoZXJlXHJcbiAgICAgIGNvbnN0IHRhYmxlSW5zdGFuY2UgPSB0aGlzLnRhYmxlIGFzIGFueVxyXG4gICAgICB0YWJsZUluc3RhbmNlLmxheWVyLmRlZmluaXRpb25FeHByZXNzaW9uID0gc3FsRXhwcmVzc2lvblxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXRUYWJsZSA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHsgc2VsZWN0UXVlcnlGbGFnLCBkYXRhU291cmNlIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBpZiAoc2VsZWN0UXVlcnlGbGFnKSB7XHJcbiAgICAgIC8vIHJlc2V0IHNxbFxyXG4gICAgICB0aGlzLnJlc2V0VGFibGVFeHByZXNzaW9uKClcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgc2VsZWN0UXVlcnlGbGFnOiBmYWxzZSxcclxuICAgICAgICBzZWxmRHNDaGFuZ2U6IHRydWVcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UoXHJcbiAgICAgIG5ldyBEYXRhUmVjb3Jkc1NlbGVjdGlvbkNoYW5nZU1lc3NhZ2UoaWQsIFtdKVxyXG4gICAgKVxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWFyY2hUZXh0OiAnJyB9KVxyXG4gICAgICBkYXRhU291cmNlLmNsZWFyU2VsZWN0aW9uKClcclxuICAgICAgZGF0YVNvdXJjZS51cGRhdGVRdWVyeVBhcmFtcyhFTVBUWV9RVUVSWV9QQVJBTVMsIGlkKVxyXG4gICAgICB0aGlzLnRhYmxlICYmIHRoaXMudGFibGUuaGlnaGxpZ2h0SWRzLnJlbW92ZUFsbCgpXHJcbiAgICAgIHRoaXMudGFibGUgJiYgdGhpcy50YWJsZS5jbGVhclNlbGVjdGlvbkZpbHRlcigpXHJcbiAgICB9LCA1MDApXHJcbiAgfVxyXG5cclxuICBvblNlbGVjdGlvbkNsZWFyID0gKCkgPT4ge1xyXG4gICAgdGhpcy5yZXNldFRhYmxlKClcclxuICB9XHJcblxyXG4gIG9uVGFibGVSZWZyZXNoID0gKCkgPT4ge1xyXG4gICAgdGhpcy50YWJsZSAmJiB0aGlzLnRhYmxlLnJlZnJlc2goKVxyXG4gIH1cclxuXHJcbiAgb25EZWxldGVTZWxlY3Rpb24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLnRhYmxlICYmIHRoaXMudGFibGUuZGVsZXRlU2VsZWN0aW9uKHRydWUpXHJcbiAgfVxyXG5cclxuICBnZXRRdWVyeU9wdGlvbnMgPSAoY3VyTGF5ZXI6IExheWVyc0NvbmZpZykgPT4ge1xyXG4gICAgbGV0IHdoZXJlID0gJzE9MSdcclxuICAgIGxldCBzcWxFeHByZXNzaW9uID0gbnVsbFxyXG4gICAgY29uc3QgeyB1c2VEYXRhU291cmNlcyB9ID0gdGhpcy5wcm9wc1xyXG4gICAgY29uc3QgeyBzZWFyY2hUZXh0LCBkYXRhU291cmNlIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCB1c2VEUyA9IHVzZURhdGFTb3VyY2VzICYmIHVzZURhdGFTb3VyY2VzWzBdXHJcbiAgICBpZiAoIWRhdGFTb3VyY2UgfHwgIXVzZURTKSByZXR1cm4gbnVsbFxyXG4gICAgLy8gbm90IHF1ZXJ5aWFibGUgZGF0YSBzb3VyY2UsIHJldHVyblxyXG4gICAgaWYgKCEoZGF0YVNvdXJjZSkucXVlcnkpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICAgIGlmIChzZWFyY2hUZXh0ICYmIGN1ckxheWVyLmVuYWJsZVNlYXJjaCAmJiBjdXJMYXllci5zZWFyY2hGaWVsZHMpIHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gZGF0YVNvdXJjZVV0aWxzLmdldFNRTChzZWFyY2hUZXh0LCBjdXJMYXllci5zZWFyY2hGaWVsZHMsIGRhdGFTb3VyY2UsIGN1ckxheWVyPy5zZWFyY2hFeGFjdClcclxuICAgICAgd2hlcmUgPSByZXN1bHQuc3FsXHJcbiAgICAgIHNxbEV4cHJlc3Npb24gPSByZXN1bHRcclxuICAgIH1cclxuICAgIHJldHVybiB7IHdoZXJlLCBzcWxFeHByZXNzaW9uIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZUNoYW5nZSA9IChzZWFyY2hUZXh0OiBzdHJpbmcpID0+IHtcclxuICAgIGlmICghc2VhcmNoVGV4dCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2VhcmNoVGV4dCwgaXNTaG93U3VnZ2VzdGlvbjogZmFsc2UsIHNlYXJjaFN1Z2dlc3Rpb246IFtdIH0sICgpID0+IHtcclxuICAgICAgICB0aGlzLmhhbmRsZVN1Ym1pdCgpXHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgc2VhcmNoVGV4dCwgaXNTaG93U3VnZ2VzdGlvbjogc2VhcmNoVGV4dD8ubGVuZ3RoID4gMiB9LCAoKSA9PiB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuc3VnZ2VzdGlvbnNRdWVyeVRpbWVvdXQpXHJcbiAgICAgICAgdGhpcy5zdWdnZXN0aW9uc1F1ZXJ5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5nZXRTZWFyY2hTdWdnZXN0aW9ucyhzZWFyY2hUZXh0KVxyXG4gICAgICAgIH0sIDIwMClcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFNlYXJjaFN1Z2dlc3Rpb25zID0gKHNlYXJjaFRleHQ6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHsgZGF0YVNvdXJjZSwgYWN0aXZlVGFiSWQgfSA9IHRoaXMuc3RhdGVcclxuICAgIGlmIChzZWFyY2hUZXh0Py5sZW5ndGggPCAzKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgY29uc3QgY3VyTGF5ZXIgPSBjb25maWcubGF5ZXJzQ29uZmlnPy5maW5kKFxyXG4gICAgICBpdGVtID0+IGl0ZW0uaWQgPT09IGFjdGl2ZVRhYklkXHJcbiAgICApXHJcbiAgICBmZXRjaFN1Z2dlc3Rpb25SZWNvcmRzKHNlYXJjaFRleHQsIGN1ckxheWVyLCBkYXRhU291cmNlKS50aGVuKFxyXG4gICAgICBzZWFyY2hTdWdnZXN0aW9uID0+IHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgc2VhcmNoU3VnZ2VzdGlvbiB9KVxyXG4gICAgICB9XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBoYW5kbGVTdWJtaXQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGRhdGFTb3VyY2UgfSA9IHRoaXMuc3RhdGVcclxuICAgIGNvbnN0IHsgaWQgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IGN1ckxheWVyID0gdGhpcy5wcm9wcy5jb25maWcubGF5ZXJzQ29uZmlnLmZpbmQoXHJcbiAgICAgIGl0ZW0gPT4gaXRlbS5pZCA9PT0gdGhpcy5zdGF0ZS5hY3RpdmVUYWJJZFxyXG4gICAgKVxyXG4gICAgaWYgKCFjdXJMYXllciB8fCAhZGF0YVNvdXJjZSkgcmV0dXJuXHJcbiAgICBjb25zdCB0YWJsZVF1ZXJ5ID0gdGhpcy5nZXRRdWVyeU9wdGlvbnMoY3VyTGF5ZXIpXHJcbiAgICBkYXRhU291cmNlLnVwZGF0ZVF1ZXJ5UGFyYW1zKHRhYmxlUXVlcnkgYXMgUXVlcnlQYXJhbXMsIGlkKVxyXG4gIH1cclxuXHJcbiAgb25LZXlVcCA9IGV2dCA9PiB7XHJcbiAgICBpZiAoIWV2dCB8fCAhZXZ0LnRhcmdldCkgcmV0dXJuXHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNTaG93U3VnZ2VzdGlvbjogZmFsc2UgfSwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlU3VibWl0KClcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldFRleHRJbnB1dFByZWZpeEVsZW1lbnQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IHRoZW1lIH0gPSB0aGlzLnByb3BzXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8QnV0dG9uXHJcbiAgICAgICAgdHlwZT0ndGVydGlhcnknXHJcbiAgICAgICAgaWNvblxyXG4gICAgICAgIHNpemU9J3NtJ1xyXG4gICAgICAgIG9uQ2xpY2s9e2V2dCA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgaXNTaG93U3VnZ2VzdGlvbjogZmFsc2VcclxuICAgICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9fVxyXG4gICAgICAgIGNsYXNzTmFtZT0nc2VhcmNoLWljb24nXHJcbiAgICAgID5cclxuICAgICAgICA8U2VhcmNoT3V0bGluZWQgY29sb3I9e3RoZW1lLnJlZi5wYWxldHRlLm5ldXRyYWxbNzAwXX0gLz5cclxuICAgICAgPC9CdXR0b24+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZW5kZXJTZWFyY2hUb29scyA9IChoaW50Pzogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zdCB7IHNlYXJjaFRleHQsIHNlYXJjaFRvb2xGbGFnLCBpc09wZW5TZWFyY2hQb3BwZXIsIHRhYmxlTG9hZGVkIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCB7IHRoZW1lIH0gPSB0aGlzLnByb3BzXHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9J3RhYmxlLXNlYXJjaC1kaXYnPlxyXG4gICAgICAgIHtzZWFyY2hUb29sRmxhZ1xyXG4gICAgICAgICAgPyAoXHJcbiAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICBjbGFzc05hbWU9J2Zsb2F0LXJpZ2h0J1xyXG4gICAgICAgICAgICAgIHJlZj17cmVmID0+ICh0aGlzLnJlZnMuc2VhcmNoUG9wdXAgPSByZWYpfVxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT0ndGVydGlhcnknXHJcbiAgICAgICAgICAgICAgICBpY29uXHJcbiAgICAgICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0ndG9vbHMtbWVudSdcclxuICAgICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NlYXJjaCcpfVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17ZXZ0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlblNlYXJjaFBvcHBlcjogIWlzT3BlblNlYXJjaFBvcHBlciB9KVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8U2VhcmNoT3V0bGluZWQgLz5cclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICA8UG9wcGVyXHJcbiAgICAgICAgICAgICAgICBwbGFjZW1lbnQ9J3JpZ2h0LXN0YXJ0J1xyXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlPXt0aGlzLnJlZnMuc2VhcmNoUG9wdXB9XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQ9e1stMTAsIC0zMF19XHJcbiAgICAgICAgICAgICAgICBvcGVuPXtpc09wZW5TZWFyY2hQb3BwZXJ9XHJcbiAgICAgICAgICAgICAgICBzaG93QXJyb3c9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgdG9nZ2xlPXtlID0+IHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlblNlYXJjaFBvcHBlcjogIWlzT3BlblNlYXJjaFBvcHBlciB9KVxyXG4gICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciB0YWJsZS1wb3B1cC1zZWFyY2ggbS0yJz5cclxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9J3RlcnRpYXJ5J1xyXG4gICAgICAgICAgICAgICAgICAgIGljb25cclxuICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtldnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzT3BlblNlYXJjaFBvcHBlcjogZmFsc2UgfSlcclxuICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nc2VhcmNoLWJhY2sgbXItMSdcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBcnJvd0xlZnRPdXRsaW5lZCBjb2xvcj17dGhlbWUucmVmLnBhbGV0dGUubmV1dHJhbFsxMTAwXX0gLz5cclxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxUZXh0SW5wdXRcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3BvcHVwLXNlYXJjaC1pbnB1dCdcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17aGludCB8fCB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NlYXJjaCcpfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHsgdGhpcy5oYW5kbGVDaGFuZ2UoZS50YXJnZXQudmFsdWUpIH19XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRleHQgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXtlID0+IHsgdGhpcy5vbktleVVwKGUpIH19XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlZml4PXt0aGlzLmdldFRleHRJbnB1dFByZWZpeEVsZW1lbnQoKX1cclxuICAgICAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9e2hpbnQgfHwgdGhpcy5mb3JtYXRNZXNzYWdlKCdzZWFyY2gnKX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IXRhYmxlTG9hZGVkfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9Qb3BwZXI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICA6IChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J2QtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIgdGFibGUtc2VhcmNoJz5cclxuICAgICAgICAgICAgICA8VGV4dElucHV0XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3NlYXJjaC1pbnB1dCdcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtoaW50IHx8IHRoaXMuZm9ybWF0TWVzc2FnZSgnc2VhcmNoJyl9XHJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiB7IHRoaXMuaGFuZGxlQ2hhbmdlKGUudGFyZ2V0LnZhbHVlKSB9fVxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFRleHQgfHwgJyd9XHJcbiAgICAgICAgICAgICAgICBvbktleURvd249e2UgPT4geyB0aGlzLm9uS2V5VXAoZSkgfX1cclxuICAgICAgICAgICAgICAgIHByZWZpeD17dGhpcy5nZXRUZXh0SW5wdXRQcmVmaXhFbGVtZW50KCl9XHJcbiAgICAgICAgICAgICAgICBhbGxvd0NsZWFyXHJcbiAgICAgICAgICAgICAgICB0aXRsZT17aGludCB8fCB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3NlYXJjaCcpfVxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyF0YWJsZUxvYWRlZH1cclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBnZXRJbml0RmllbGRzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBhY3RpdmVUYWJJZCwgZGF0YVNvdXJjZSB9ID0gdGhpcy5zdGF0ZVxyXG4gICAgY29uc3QgeyBjb25maWcgfSA9IHRoaXMucHJvcHNcclxuICAgIGNvbnN0IHsgbGF5ZXJzQ29uZmlnIH0gPSBjb25maWdcclxuICAgIC8vIGRhdGEtYWN0aW9uIFRhYmxlXHJcbiAgICBjb25zdCBkYUxheWVyc0NvbmZpZyA9IHRoaXMuZ2V0RGF0YUFjdGlvblRhYmxlKClcclxuICAgIGNvbnN0IGFsbExheWVyc0NvbmZpZyA9IGxheWVyc0NvbmZpZy5hc011dGFibGUoeyBkZWVwOiB0cnVlIH0pLmNvbmNhdChkYUxheWVyc0NvbmZpZylcclxuICAgIGNvbnN0IGN1ckxheWVyID0gYWxsTGF5ZXJzQ29uZmlnLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBhY3RpdmVUYWJJZClcclxuICAgIGNvbnN0IHsgdGFibGVGaWVsZHMsIGFsbEZpZWxkcywgbGF5ZXJIb25vck1vZGUgfSA9IGN1ckxheWVyXHJcbiAgICBjb25zdCBpbml0U2VsZWN0VGFibGVGaWVsZHM6IENsYXVzZVZhbHVlUGFpcltdID0gW11cclxuICAgIC8vIGhvbm9yIGxheWVyIHNldHRpbmdzXHJcbiAgICBjb25zdCBpc0hvbm9yV2VibWFwID0gbGF5ZXJIb25vck1vZGUgPT09IExheWVySG9ub3JNb2RlVHlwZS5XZWJtYXBcclxuICAgIGlmIChpc0hvbm9yV2VibWFwICYmIGRhdGFTb3VyY2UpIHtcclxuICAgICAgY29uc3QgcG9wdXBJbmZvID0gKGRhdGFTb3VyY2UgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSk/LmdldFBvcHVwSW5mbygpXHJcbiAgICAgIGlmIChwb3B1cEluZm8pIHtcclxuICAgICAgICBjb25zdCBwb3B1cEFsbEZpZWxkSW5mb3MgPSBwb3B1cEluZm8uZmllbGRJbmZvcyB8fCBbXVxyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBwb3B1cEFsbEZpZWxkSW5mb3MpIHtcclxuICAgICAgICAgIGluaXRTZWxlY3RUYWJsZUZpZWxkcy5wdXNoKHsgdmFsdWU6IGl0ZW0uZmllbGROYW1lLCBsYWJlbDogaXRlbS5sYWJlbCB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBpZiBwb3B1cEluZm8gaXMgbnVsbCwgdXNlICdhbGxGaWVsZHMnIGluc3RlYWRcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYWxsRmllbGRzKSB7XHJcbiAgICAgICAgICBpbml0U2VsZWN0VGFibGVGaWVsZHMucHVzaCh7IHZhbHVlOiBpdGVtLm5hbWUsIGxhYmVsOiBpdGVtLmFsaWFzIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGFibGVGaWVsZHMpIHtcclxuICAgICAgICBpZiAoaXRlbS52aXNpYmxlKSBpbml0U2VsZWN0VGFibGVGaWVsZHMucHVzaCh7IHZhbHVlOiBpdGVtLm5hbWUsIGxhYmVsOiBpdGVtLmFsaWFzIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBpbml0U2VsZWN0VGFibGVGaWVsZHNcclxuICB9XHJcblxyXG4gIG9uVmFsdWVDaGFuZ2VGcm9tUnVudGltZSA9ICh2YWx1ZVBhaXJzOiBDbGF1c2VWYWx1ZVBhaXJbXSkgPT4ge1xyXG4gICAgaWYgKCF2YWx1ZVBhaXJzKSB2YWx1ZVBhaXJzID0gW11cclxuICAgIGNvbnN0IHsgdGFibGVTaG93Q29sdW1ucyB9ID0gdGhpcy5zdGF0ZVxyXG4gICAgY29uc3QgaW5pdFRhYmxlRmllbGRzID0gdGhpcy5nZXRJbml0RmllbGRzKClcclxuICAgIGNvbnN0IHRhYmxlQ29sdW1ucyA9IHRhYmxlU2hvd0NvbHVtbnMgfHwgaW5pdFRhYmxlRmllbGRzXHJcbiAgICBjb25zdCBzZWxlY3RGbGFnID0gdmFsdWVQYWlycy5sZW5ndGggPiB0YWJsZUNvbHVtbnMubGVuZ3RoXHJcbiAgICBtaW51c0FycmF5KHRhYmxlQ29sdW1ucywgdmFsdWVQYWlycywgJ3ZhbHVlJykuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgc2VsZWN0RmxhZ1xyXG4gICAgICAgID8gdGhpcy50YWJsZS5zaG93Q29sdW1uKGl0ZW0udmFsdWUpXHJcbiAgICAgICAgOiB0aGlzLnRhYmxlLmhpZGVDb2x1bW4oaXRlbS52YWx1ZSlcclxuICAgIH0pXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgdGFibGVTaG93Q29sdW1uczogdmFsdWVQYWlycyB9KVxyXG4gIH1cclxuXHJcbiAgZ2V0RGF0YUFjdGlvblRhYmxlID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyB2aWV3SW5UYWJsZU9iaiB9ID0gdGhpcy5wcm9wc1xyXG4gICAgY29uc3QgZGF0YUFjdGlvblRhYmxlQXJyYXkgPSBbXVxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmlld0luVGFibGVPYmopIHtcclxuICAgICAgY29uc3QgdGFibGVPYmogPSB2aWV3SW5UYWJsZU9ialtrZXldXHJcbiAgICAgIHRoaXMuZGF0YUFjdGlvblRhYmxlUmVjb3Jkc1trZXldID0gdGFibGVPYmoucmVjb3Jkc1xyXG4gICAgICBkYXRhQWN0aW9uVGFibGVBcnJheS5wdXNoKHsgLi4udGFibGVPYmouZGFMYXllckl0ZW0gfSlcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhQWN0aW9uVGFibGVBcnJheVxyXG4gIH1cclxuXHJcbiAgb25DbG9zZVRhYiA9ICh0YWJJZDogc3RyaW5nLCBldnQ/KSA9PiB7XHJcbiAgICBjb25zdCB7IGlkLCB2aWV3SW5UYWJsZU9iaiB9ID0gdGhpcy5wcm9wc1xyXG4gICAgaWYgKGV2dCkgZXZ0LnN0b3BQcm9wYWdhdGlvbigpXHJcbiAgICB0aGlzLnJlbW92ZUNvbmZpZyA9IHRydWVcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICB0YWJsZVNob3dDb2x1bW5zOiB1bmRlZmluZWQsXHJcbiAgICAgIHRhYmxlVG90YWw6IDAsXHJcbiAgICAgIHRhYmxlU2VsZWN0ZWQ6IDBcclxuICAgIH0pXHJcbiAgICBjb25zdCBuZXdWaWV3SW5UYWJsZU9iaiA9IHZpZXdJblRhYmxlT2JqXHJcbiAgICBkZWxldGUgbmV3Vmlld0luVGFibGVPYmpbdGFiSWRdXHJcbiAgICBkZWxldGUgdGhpcy5kYXRhQWN0aW9uVGFibGVSZWNvcmRzW3RhYklkXVxyXG4gICAgTXV0YWJsZVN0b3JlTWFuYWdlci5nZXRJbnN0YW5jZSgpLnVwZGF0ZVN0YXRlVmFsdWUoaWQsICd2aWV3SW5UYWJsZU9iaicsIG5ld1ZpZXdJblRhYmxlT2JqKVxyXG4gIH1cclxuXHJcbiAgZ2V0TG9hZGluZ1N0YXR1cyA9IChkcz86IFF1ZXJpYWJsZURhdGFTb3VyY2UsIHF1ZXJ5U3RhdHVzPzogRGF0YVNvdXJjZVN0YXR1cykgPT4ge1xyXG4gICAgY29uc3QgeyBzdGF0ZVNob3dMb2FkaW5nOiBtdXN0TG9hZGluZyB9ID0gdGhpcy5wcm9wc1xyXG4gICAgLy8gbG9hZGluZ1xyXG4gICAgbGV0IHNob3dMb2FkaW5nID0gZmFsc2VcclxuICAgIGlmIChcclxuICAgICAgbXVzdExvYWRpbmcgfHxcclxuICAgICAgd2luZG93LmppbXVDb25maWcuaXNJbkJ1aWxkZXIgfHxcclxuICAgICAgKGRzICYmIHF1ZXJ5U3RhdHVzID09PSBEYXRhU291cmNlU3RhdHVzLkxvYWRpbmcpXHJcbiAgICApIHtcclxuICAgICAgc2hvd0xvYWRpbmcgPSB0cnVlXHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2hvd0xvYWRpbmdcclxuICB9XHJcblxyXG4gIHNldFJlZnJlc2hMb2FkaW5nU3RyaW5nID0gKHNob3dMb2FkaW5nID0gZmFsc2UpID0+IHtcclxuICAgIGlmICghc2hvd0xvYWRpbmcpIHJldHVybiBmYWxzZVxyXG4gICAgbGV0IHRpbWUgPSAwXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcclxuICAgIGNvbnN0IF90aGlzID0gdGhpc1xyXG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9SZWZyZXNoTG9hZGluZ1RpbWUpXHJcblxyXG4gICAgdGhpcy5hdXRvUmVmcmVzaExvYWRpbmdUaW1lID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICB0aW1lKytcclxuICAgICAgX3RoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGF1dG9SZWZyZXNoTG9hZGluZ1N0cmluZzogX3RoaXMuZ2V0TG9hZGluZ1N0cmluZyh0aW1lKVxyXG4gICAgICB9KVxyXG4gICAgfSwgNjAwMDApXHJcbiAgfVxyXG5cclxuICBnZXRMb2FkaW5nU3RyaW5nID0gKHRpbWU6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgICBsZXQgbG9hZGluZ1N0cmluZyA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnbGFzdFVwZGF0ZUFGZXdUaW1lJylcclxuICAgIGlmICh0aW1lID4gMSAmJiB0aW1lIDw9IDIpIHtcclxuICAgICAgbG9hZGluZ1N0cmluZyA9IHRoaXMuZm9ybWF0TWVzc2FnZSgnbGFzdFVwZGF0ZUFNaW51dGUnKVxyXG4gICAgfSBlbHNlIGlmICh0aW1lID4gMikge1xyXG4gICAgICBsb2FkaW5nU3RyaW5nID0gdGhpcy5mb3JtYXRNZXNzYWdlKCdsYXN0VXBkYXRlVGltZScsIHsgdXBkYXRlVGltZTogdGltZSB9KVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxvYWRpbmdTdHJpbmdcclxuICB9XHJcblxyXG4gIHRvZ2dsZUF1dG9SZWZyZXNoTG9hZGluZyA9IChkczogUXVlcmlhYmxlRGF0YVNvdXJjZSwgc2hvd0xvYWRpbmc6IGJvb2xlYW4sIGludGVydmFsOiBudW1iZXIpID0+IHtcclxuICAgIHRoaXMucmVzZXRBdXRvUmVmcmVzaFRpbWVzKGludGVydmFsLCBzaG93TG9hZGluZylcclxuICAgIGlmIChpbnRlcnZhbCA+IDApIHRoaXMuc2V0UmVmcmVzaExvYWRpbmdTdHJpbmcoc2hvd0xvYWRpbmcpXHJcbiAgfVxyXG5cclxuICByZXNldEF1dG9SZWZyZXNoVGltZXMgPSAoaW50ZXJ2YWw6IG51bWJlciwgc2hvd0xvYWRpbmcgPSBmYWxzZSkgPT4ge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXHJcbiAgICBjb25zdCBfdGhpcyA9IHRoaXNcclxuICAgIGNsZWFyVGltZW91dCh0aGlzLnJlc2V0QXV0b1JlZnJlc2hUaW1lKVxyXG4gICAgaWYgKGludGVydmFsIDw9IDApIGNsZWFySW50ZXJ2YWwodGhpcy5hdXRvUmVmcmVzaExvYWRpbmdUaW1lKVxyXG5cclxuICAgIHRoaXMucmVzZXRBdXRvUmVmcmVzaFRpbWUgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgaWYgKHNob3dMb2FkaW5nICYmIGludGVydmFsID4gMCkge1xyXG4gICAgICAgIF90aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIGF1dG9SZWZyZXNoTG9hZGluZ1N0cmluZzogX3RoaXMuZm9ybWF0TWVzc2FnZSgnbGFzdFVwZGF0ZUFGZXdUaW1lJylcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIF90aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBzaG93TG9hZGluZzogc2hvd0xvYWRpbmdcclxuICAgICAgfSlcclxuICAgIH0sIDApXHJcbiAgfVxyXG5cclxuICByZW5kZXJMb2FkaW5nID0gKHNob3dMb2FkaW5nOiBib29sZWFuLCBpbnRlcnZhbDogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCB7IGF1dG9SZWZyZXNoTG9hZGluZ1N0cmluZywgYm90dG9tUmVzcG9uc2l2ZUZsYWcsIHdpZGdldFdpZHRoIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCBjb3VudENvbnRhaW5lcldpZHRoID0gdGhpcy5yZWZzLmNvdW50Q29udGFpbmVyPy5jbGllbnRXaWR0aCB8fCAwXHJcbiAgICBjb25zdCByZWZyZXNoTWF4V2lkdGggPSBib3R0b21SZXNwb25zaXZlRmxhZyA/IDIwIDogd2lkZ2V0V2lkdGggLSBjb3VudENvbnRhaW5lcldpZHRoIC0gMTZcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPSdwb3NpdGlvbi1hYnNvbHV0ZSByZWZyZXNoLWxvYWRpbmctY29uIGQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXInIHN0eWxlPXt7IG1heFdpZHRoOiByZWZyZXNoTWF4V2lkdGggfX0+XHJcbiAgICAgICAge3Nob3dMb2FkaW5nICYmIDxkaXYgY2xhc3NOYW1lPSdsb2FkaW5nLWNvbicgLz59XHJcbiAgICAgICAge2ludGVydmFsID4gMCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZmxleC1ncm93LTEgYXV0by1yZWZyZXNoLWxvYWRpbmcgdGV4dC10cnVuY2F0ZScgdGl0bGU9eyFib3R0b21SZXNwb25zaXZlRmxhZyAmJiBhdXRvUmVmcmVzaExvYWRpbmdTdHJpbmd9PlxyXG4gICAgICAgICAgICB7Ym90dG9tUmVzcG9uc2l2ZUZsYWdcclxuICAgICAgICAgICAgICA/IDxUb29sdGlwIHRpdGxlPXthdXRvUmVmcmVzaExvYWRpbmdTdHJpbmd9IHNob3dBcnJvdyBwbGFjZW1lbnQ9J3RvcC1lbmQnPlxyXG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBpY29uIHNpemU9J3NtJyB0eXBlPSd0ZXJ0aWFyeScgY2xhc3NOYW1lPSdkLWlubGluZSBqaW11LW91dGxpbmUtaW5zaWRlIGJvcmRlci0wIHAtMCc+XHJcbiAgICAgICAgICAgICAgICAgIDxJbmZvT3V0bGluZWQgc2l6ZT17MTR9Lz5cclxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgIDwvVG9vbHRpcD5cclxuICAgICAgICAgICAgICA6IGF1dG9SZWZyZXNoTG9hZGluZ1N0cmluZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9XHJcblxyXG4gIHJlbmRlclRhYmxlQ291bnQgPSAodGFibGVUb3RhbDogbnVtYmVyLCB0YWJsZVNlbGVjdGVkOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IHsgYm90dG9tUmVzcG9uc2l2ZUZsYWcsIHdpZGdldFdpZHRoIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCBjb3VudE1heFdpZHRoID0gYm90dG9tUmVzcG9uc2l2ZUZsYWcgPyB3aWRnZXRXaWR0aCAtIDM2IDogd2lkZ2V0V2lkdGggLyAyXHJcbiAgICBjb25zdCBmb3JtYXR0ZWRDb3VudCA9IGkxOG4uZ2V0SW50bCgpLmZvcm1hdE51bWJlcih0YWJsZVRvdGFsLCB7IHVzZUdyb3VwaW5nOiB0cnVlIH0pXHJcbiAgICBjb25zdCBmb3JtYXR0ZWRTZWxlY3RlZCA9IGkxOG4uZ2V0SW50bCgpLmZvcm1hdE51bWJlcih0YWJsZVNlbGVjdGVkLCB7IHVzZUdyb3VwaW5nOiB0cnVlIH0pXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IHJlZj0nY291bnRDb250YWluZXInIGNsYXNzTmFtZT0ncG9zaXRpb24tYWJzb2x1dGUgdGFibGUtY291bnQgZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlcicgc3R5bGU9e3sgbWF4V2lkdGg6IGNvdW50TWF4V2lkdGggfX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J2ZsZXgtZ3Jvdy0xIHRvdGFsLWNvdW50LXRleHQgdGV4dC10cnVuY2F0ZSc+XHJcbiAgICAgICAgICB7dGhpcy5mb3JtYXRNZXNzYWdlKCd0YWJsZUNvdW50JywgeyB0b3RhbDogZm9ybWF0dGVkQ291bnQsIHNlbGVjdGVkOiBmb3JtYXR0ZWRTZWxlY3RlZCB9KX1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICBvblN1Z2dlc3Rpb25Db25maXJtID0gc3VnZ2VzdGlvbiA9PiB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgc2VhcmNoVGV4dDogc3VnZ2VzdGlvbixcclxuICAgICAgaXNTaG93U3VnZ2VzdGlvbjogZmFsc2VcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgdGhpcy5oYW5kbGVTdWJtaXQoKVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNsZWFyTWVzc2FnZUFjdGlvbiA9ICgpID0+IHtcclxuICAgIE1lc3NhZ2VNYW5hZ2VyLmdldEluc3RhbmNlKCkucHVibGlzaE1lc3NhZ2UoXHJcbiAgICAgIG5ldyBEYXRhUmVjb3Jkc1NlbGVjdGlvbkNoYW5nZU1lc3NhZ2UodGhpcy5wcm9wcy5pZCwgW10pXHJcbiAgICApXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgZW1wdHlEYXRhOiBmYWxzZSB9KVxyXG4gIH1cclxuXHJcbiAgY3VzdG9tU2hvd0hpZGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gPExpc3RWaXNpYmxlT3V0bGluZWQgLz5cclxuICB9XHJcblxyXG4gIGN1c3RvbVNob3dIaWRlRHJvcGRvd25CdXR0b24gPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gPEZyYWdtZW50PlxyXG4gICAgICA8TGlzdFZpc2libGVPdXRsaW5lZCBjbGFzc05hbWU9J21yLTEnLz5cclxuICAgICAge3RoaXMuZm9ybWF0TWVzc2FnZSgnc2hvd0hpZGVDb2xzJyl9XHJcbiAgICA8L0ZyYWdtZW50PlxyXG4gIH1cclxuXHJcbiAgZ2V0VXNlZEZpZWxkcyA9IChjdXJMYXllcjogTGF5ZXJzQ29uZmlnLCBkYXRhU291cmNlOiBRdWVyaWFibGVEYXRhU291cmNlKSA9PiB7XHJcbiAgICBpZiAoIWN1ckxheWVyKSByZXR1cm4geyBwb3B1cEFsbEZpZWxkczogW10sIGFjdGlvblVzZWRGaWVsZHM6IFtdIH1cclxuICAgIGNvbnN0IHBvcHVwQWxsRmllbGRzOiBDbGF1c2VWYWx1ZVBhaXJbXSA9IFtdXHJcbiAgICBpZiAoZGF0YVNvdXJjZSkge1xyXG4gICAgICBjb25zdCBhbGxGaWVsZHNTY2hlbWEgPSBkYXRhU291cmNlPy5nZXRTY2hlbWEoKVxyXG4gICAgICBjb25zdCBzY2hlbWFGaWVsZHNLZXlzID0gT2JqZWN0LmtleXMoYWxsRmllbGRzU2NoZW1hPy5maWVsZHMpXHJcbiAgICAgIGNvbnN0IHBvcHVwSW5mbyA9IChkYXRhU291cmNlIGFzIEZlYXR1cmVMYXllckRhdGFTb3VyY2UpPy5nZXRQb3B1cEluZm8oKVxyXG4gICAgICBpZiAocG9wdXBJbmZvKSB7XHJcbiAgICAgICAgY29uc3QgcG9wdXBBbGxGaWVsZEluZm9zID0gcG9wdXBJbmZvLmZpZWxkSW5mb3MgfHwgW11cclxuICAgICAgICBjb25zdCBmaWx0ZXJlZFBvcHVwRmllbGRJbmZvcyA9IHBvcHVwQWxsRmllbGRJbmZvcy5maWx0ZXIoaXRlbSA9PiBzY2hlbWFGaWVsZHNLZXlzLmluY2x1ZGVzKGl0ZW0uZmllbGROYW1lKSlcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZmlsdGVyZWRQb3B1cEZpZWxkSW5mb3MpIHtcclxuICAgICAgICAgIGlmIChpdGVtLnZpc2libGUpIHBvcHVwQWxsRmllbGRzLnB1c2goeyB2YWx1ZTogaXRlbS5maWVsZE5hbWUsIGxhYmVsOiBpdGVtLmxhYmVsIHx8IGl0ZW0uZmllbGROYW1lIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGlmIHBvcHVwSW5mbyBpcyBudWxsLCB1c2UgZGVmaW5pdGlvbiBvciAnYWxsRmllbGRzJyBpbnN0ZWFkXHJcbiAgICAgICAgY29uc3QgbGF5ZXJEZWZpbml0aW9uRmllbGRzID0gKGRhdGFTb3VyY2UgYXMgRmVhdHVyZUxheWVyRGF0YVNvdXJjZSk/LmdldExheWVyRGVmaW5pdGlvbigpPy5maWVsZHNcclxuICAgICAgICBjb25zdCB1c2VGaWVsZHMgPSBsYXllckRlZmluaXRpb25GaWVsZHM/Lmxlbmd0aCA+IDAgPyBsYXllckRlZmluaXRpb25GaWVsZHMgOiBjdXJMYXllci5hbGxGaWVsZHNcclxuICAgICAgICBjb25zdCBmaWx0ZXJlZFVzZUZpZWxkcyA9ICh1c2VGaWVsZHMgYXMgYW55W10pLmZpbHRlcihpdGVtID0+IHNjaGVtYUZpZWxkc0tleXMuaW5jbHVkZXMoaXRlbS5qaW11TmFtZSB8fCBpdGVtLm5hbWUpKVxyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBmaWx0ZXJlZFVzZUZpZWxkcykge1xyXG4gICAgICAgICAgcG9wdXBBbGxGaWVsZHMucHVzaCh7IHZhbHVlOiBpdGVtLm5hbWUsIGxhYmVsOiBpdGVtLmFsaWFzIHx8IGl0ZW0ubmFtZSB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgaXNIb25vcldlYm1hcCA9IGN1ckxheWVyLmxheWVySG9ub3JNb2RlID09PSBMYXllckhvbm9yTW9kZVR5cGUuV2VibWFwXHJcbiAgICBjb25zdCBhY3Rpb25Vc2VkRmllbGRzID0gaXNIb25vcldlYm1hcCA/IHBvcHVwQWxsRmllbGRzLm1hcChpdGVtID0+IGl0ZW0udmFsdWUgYXMgc3RyaW5nKSA6IGN1ckxheWVyLnRhYmxlRmllbGRzLm1hcChpdGVtID0+IGl0ZW0uamltdU5hbWUpXHJcbiAgICByZXR1cm4geyBwb3B1cEFsbEZpZWxkcywgYWN0aW9uVXNlZEZpZWxkcyB9XHJcbiAgfVxyXG5cclxuICByZW5kZXJCdXR0b25Ub29sTGlzdCA9IChjdXJMYXllcjogTGF5ZXJzQ29uZmlnLCBkYXRhU291cmNlOiBRdWVyaWFibGVEYXRhU291cmNlKSA9PiB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgIGFjdGl2ZVRhYklkLFxyXG4gICAgICBzZWxlY3RRdWVyeUZsYWcsXHJcbiAgICAgIHRhYmxlU2hvd0NvbHVtbnMsXHJcbiAgICAgIG1vYmlsZUZsYWcsXHJcbiAgICAgIGVtcHR5VGFibGUsXHJcbiAgICAgIHRhYmxlTG9hZGVkLFxyXG4gICAgICB0YWJsZVNlbGVjdGVkLFxyXG4gICAgICBhbGxvd0RlbFxyXG4gICAgfSA9IHRoaXMuc3RhdGVcclxuICAgIGNvbnN0IHsgY29uZmlnLCBpZCwgZW5hYmxlRGF0YUFjdGlvbiB9ID0gdGhpcy5wcm9wc1xyXG4gICAgY29uc3QgeyBsYXllcnNDb25maWcgfSA9IGNvbmZpZ1xyXG4gICAgY29uc3QgaGFzU2VsZWN0ZWQgPSB0YWJsZVNlbGVjdGVkID4gMFxyXG4gICAgY29uc3QgaW5pdFNlbGVjdFRhYmxlRmllbGRzID0gdGhpcy5nZXRJbml0RmllbGRzKClcclxuICAgIGNvbnN0IGRhTGF5ZXJzQ29uZmlnID0gdGhpcy5nZXREYXRhQWN0aW9uVGFibGUoKVxyXG4gICAgY29uc3QgYWxsTGF5ZXJzQ29uZmlnID0gbGF5ZXJzQ29uZmlnLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkuY29uY2F0KGRhTGF5ZXJzQ29uZmlnKVxyXG4gICAgY29uc3QgaXNIb25vcldlYm1hcCA9IGN1ckxheWVyLmxheWVySG9ub3JNb2RlID09PSBMYXllckhvbm9yTW9kZVR5cGUuV2VibWFwXHJcbiAgICBjb25zdCBhZHZhbmNlZFRhYmxlRmllbGQ6IENsYXVzZVZhbHVlUGFpcltdID0gY3VyTGF5ZXIudGFibGVGaWVsZHM/Lm1hcChpdGVtID0+IHtcclxuICAgICAgcmV0dXJuIHsgdmFsdWU6IGl0ZW0ubmFtZSwgbGFiZWw6IGl0ZW0uYWxpYXMgfVxyXG4gICAgfSlcclxuICAgIGNvbnN0IHsgcG9wdXBBbGxGaWVsZHMsIGFjdGlvblVzZWRGaWVsZHMgfSA9IHRoaXMuZ2V0VXNlZEZpZWxkcyhjdXJMYXllciwgZGF0YVNvdXJjZSlcclxuICAgIGNvbnN0IGRhdGFTb3VyY2VMYWJlbCA9IGRhdGFTb3VyY2U/LmdldExhYmVsKClcclxuICAgIGNvbnN0IGRhdGFOYW1lID0gdGhpcy5mb3JtYXRNZXNzYWdlKCd0YWJsZURhdGFBY3Rpb25MYWJlbCcsIHsgbGF5ZXI6IGRhdGFTb3VyY2VMYWJlbCB8fCAnJyB9KVxyXG5cclxuICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT0ndG9wLWJ1dHRvbi1saXN0Jz5cclxuICAgICAge2N1ckxheWVyLmVuYWJsZVNlbGVjdCAmJiAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RvcC1idXR0b24gbWwtMic+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIHNpemU9J3NtJ1xyXG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uU2hvd1NlbGVjdGlvbn1cclxuICAgICAgICAgICAgaWNvblxyXG4gICAgICAgICAgICB0aXRsZT17XHJcbiAgICAgICAgICAgICAgc2VsZWN0UXVlcnlGbGFnXHJcbiAgICAgICAgICAgICAgICA/IHRoaXMuZm9ybWF0TWVzc2FnZSgnc2hvd0FsbCcpXHJcbiAgICAgICAgICAgICAgICA6IHRoaXMuZm9ybWF0TWVzc2FnZSgnc2hvd1NlbGVjdGlvbicpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9eyF0YWJsZUxvYWRlZCB8fCBlbXB0eVRhYmxlIHx8ICFoYXNTZWxlY3RlZH1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAge3NlbGVjdFF1ZXJ5RmxhZyA/IDxNZW51T3V0bGluZWQgLz4gOiA8U2hvd1NlbGVjdGlvbk91dGxpbmVkIGF1dG9GbGlwLz59XHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKX1cclxuICAgICAge2N1ckxheWVyLmVuYWJsZVNlbGVjdCAmJlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0b3AtYnV0dG9uIG1sLTInPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblNlbGVjdGlvbkNsZWFyfVxyXG4gICAgICAgICAgICBpY29uXHJcbiAgICAgICAgICAgIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ2NsZWFyU2VsZWN0aW9uJyl9XHJcbiAgICAgICAgICAgIGRpc2FibGVkPXshdGFibGVMb2FkZWQgfHwgZW1wdHlUYWJsZSB8fCAhaGFzU2VsZWN0ZWR9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxDbGVhclNlbGVjdGlvbkdlbmVyYWxPdXRsaW5lZCAvPlxyXG4gICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIH1cclxuICAgICAge2N1ckxheWVyLmVuYWJsZVJlZnJlc2ggJiZcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndG9wLWJ1dHRvbiBtbC0yJz5cclxuICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgc2l6ZT0nc20nXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25UYWJsZVJlZnJlc2h9XHJcbiAgICAgICAgICAgIGljb25cclxuICAgICAgICAgICAgdGl0bGU9e3RoaXMuZm9ybWF0TWVzc2FnZSgncmVmcmVzaCcpfVxyXG4gICAgICAgICAgICBkaXNhYmxlZD17IXRhYmxlTG9hZGVkIHx8IGVtcHR5VGFibGV9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxSZWZyZXNoT3V0bGluZWQgLz5cclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICB9XHJcbiAgICAgIHthbGxvd0RlbCAmJlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0b3AtYnV0dG9uIG1sLTInPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkRlbGV0ZVNlbGVjdGlvbn1cclxuICAgICAgICAgICAgaWNvblxyXG4gICAgICAgICAgICB0aXRsZT17dGhpcy5mb3JtYXRNZXNzYWdlKCdkZWxldGVSZWNvcmRzJyl9XHJcbiAgICAgICAgICAgIGRpc2FibGVkPXshdGFibGVMb2FkZWQgfHwgZW1wdHlUYWJsZSB8fCAhaGFzU2VsZWN0ZWR9XHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxUcmFzaE91dGxpbmVkIC8+XHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT0ndG9wLWJ1dHRvbiBtbC0yJz5cclxuICAgICAgICA8QWR2YW5jZWRTZWxlY3RcclxuICAgICAgICAgIHNpemU9J3NtJ1xyXG4gICAgICAgICAgdGl0bGU9e3RoaXMuZm9ybWF0TWVzc2FnZSgnc2hvd0hpZGVDb2xzJyl9XHJcbiAgICAgICAgICBidXR0b25Qcm9wcz17eyBpY29uOiB0cnVlLCBkaXNhYmxlZDogIXRhYmxlTG9hZGVkIHx8IGVtcHR5VGFibGUsIGFycm93OiBmYWxzZSB9fVxyXG4gICAgICAgICAgZmx1aWRcclxuICAgICAgICAgIHN0YXRpY1ZhbHVlcz17aXNIb25vcldlYm1hcCA/IHBvcHVwQWxsRmllbGRzIDogYWR2YW5jZWRUYWJsZUZpZWxkfVxyXG4gICAgICAgICAgc29ydFZhbHVlc0J5TGFiZWw9e2ZhbHNlfVxyXG4gICAgICAgICAgaXNNdWx0aXBsZVxyXG4gICAgICAgICAgc2VsZWN0ZWRWYWx1ZXM9e3RhYmxlU2hvd0NvbHVtbnMgfHwgaW5pdFNlbGVjdFRhYmxlRmllbGRzfVxyXG4gICAgICAgICAgaXNFbXB0eU9wdGlvbkhpZGRlbj17ZmFsc2V9XHJcbiAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblZhbHVlQ2hhbmdlRnJvbVJ1bnRpbWV9XHJcbiAgICAgICAgICBjdXN0b21Ecm9wZG93bkJ1dHRvbkNvbnRlbnQ9e3RoaXMuY3VzdG9tU2hvd0hpZGVCdXR0b259XHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIHtkYXRhU291cmNlICYmICFtb2JpbGVGbGFnICYmIGVuYWJsZURhdGFBY3Rpb24gJiZcclxuICAgICAgICA8RnJhZ21lbnQ+XHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGFsbExheWVyc0NvbmZpZy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3QgaXNDdXJyZW50RGF0YVNvdXJjZSA9IGl0ZW0uaWQgPT09IGFjdGl2ZVRhYklkXHJcbiAgICAgICAgICAgICAgY29uc3QgZGF0YUFjdGlvbkRyb3Bkb3duID0gaXNDdXJyZW50RGF0YVNvdXJjZSAmJiAhZW1wdHlUYWJsZVxyXG4gICAgICAgICAgICAgICAgPyA8RnJhZ21lbnQga2V5PXtpdGVtLmlkfT5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSd0b29sLWRpdmlkaW5nLWxpbmUnPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3RvcC1idXR0b24gZGF0YS1hY3Rpb24tYnRuJz5cclxuICAgICAgICAgICAgICAgICAgICA8RGF0YUFjdGlvbkxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgIHdpZGdldElkPXtpZH1cclxuICAgICAgICAgICAgICAgICAgICAgIGxpc3RTdHlsZT17RGF0YUFjdGlvbkxpc3RTdHlsZS5Ecm9wZG93bn1cclxuICAgICAgICAgICAgICAgICAgICAgIGRhdGFTZXRzPXtbeyBkYXRhU291cmNlLCB0eXBlOiAnc2VsZWN0ZWQnLCByZWNvcmRzOiBkYXRhU291cmNlLmdldFNlbGVjdGVkUmVjb3JkcygpLCBmaWVsZHM6IGFjdGlvblVzZWRGaWVsZHMsIG5hbWU6IGRhdGFOYW1lIH1dfVxyXG4gICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9GcmFnbWVudD5cclxuICAgICAgICAgICAgICAgIDogJydcclxuICAgICAgICAgICAgICByZXR1cm4gZGF0YUFjdGlvbkRyb3Bkb3duXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgPC9GcmFnbWVudD5cclxuICAgICAgfVxyXG4gICAgPC9kaXY+XHJcbiAgfVxyXG5cclxuICByZW5kZXJEcm9wZG93blRvb2xMaXN0ID0gKGN1ckxheWVyOiBMYXllcnNDb25maWcsIGRhdGFTb3VyY2U6IFF1ZXJpYWJsZURhdGFTb3VyY2UpID0+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgYWN0aXZlVGFiSWQsXHJcbiAgICAgIHNlbGVjdFF1ZXJ5RmxhZyxcclxuICAgICAgdGFibGVTaG93Q29sdW1ucyxcclxuICAgICAgbW9iaWxlRmxhZyxcclxuICAgICAgZW1wdHlUYWJsZSxcclxuICAgICAgdGFibGVMb2FkZWQsXHJcbiAgICAgIHRhYmxlU2VsZWN0ZWQsXHJcbiAgICAgIGFsbG93RGVsXHJcbiAgICB9ID0gdGhpcy5zdGF0ZVxyXG4gICAgY29uc3QgeyBjb25maWcsIGlkLCBlbmFibGVEYXRhQWN0aW9uIH0gPSB0aGlzLnByb3BzXHJcbiAgICBjb25zdCB7IGxheWVyc0NvbmZpZyB9ID0gY29uZmlnXHJcbiAgICBjb25zdCBoYXNTZWxlY3RlZCA9IHRhYmxlU2VsZWN0ZWQgPiAwXHJcbiAgICBjb25zdCBpc0hvbm9yV2VibWFwID0gY3VyTGF5ZXIubGF5ZXJIb25vck1vZGUgPT09IExheWVySG9ub3JNb2RlVHlwZS5XZWJtYXBcclxuICAgIGNvbnN0IGFkdmFuY2VkVGFibGVGaWVsZCA9IGN1ckxheWVyLnRhYmxlRmllbGRzPy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgIHJldHVybiB7IHZhbHVlOiBpdGVtLm5hbWUsIGxhYmVsOiBpdGVtLmFsaWFzIH1cclxuICAgIH0pXHJcbiAgICBjb25zdCBpbml0U2VsZWN0VGFibGVGaWVsZHMgPSB0aGlzLmdldEluaXRGaWVsZHMoKVxyXG4gICAgY29uc3QgZGFMYXllcnNDb25maWcgPSB0aGlzLmdldERhdGFBY3Rpb25UYWJsZSgpXHJcbiAgICBjb25zdCBhbGxMYXllcnNDb25maWcgPSBsYXllcnNDb25maWcuYXNNdXRhYmxlKHsgZGVlcDogdHJ1ZSB9KS5jb25jYXQoZGFMYXllcnNDb25maWcpXHJcbiAgICBjb25zdCB7IHBvcHVwQWxsRmllbGRzLCBhY3Rpb25Vc2VkRmllbGRzIH0gPSB0aGlzLmdldFVzZWRGaWVsZHMoY3VyTGF5ZXIsIGRhdGFTb3VyY2UpXHJcbiAgICBjb25zdCBkYXRhU291cmNlTGFiZWwgPSBkYXRhU291cmNlPy5nZXRMYWJlbCgpXHJcbiAgICBjb25zdCBkYXRhTmFtZSA9IHRoaXMuZm9ybWF0TWVzc2FnZSgndGFibGVEYXRhQWN0aW9uTGFiZWwnLCB7IGxheWVyOiBkYXRhU291cmNlTGFiZWwgfHwgJycgfSlcclxuXHJcbiAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9J2QtZmxleCBtbC0yIGRyb3Bkb3duLWxpc3QtY29udGFpbmVyJz5cclxuICAgICAgPERyb3Bkb3duIHNpemU9J3NtJyBjbGFzc05hbWU9J2QtaW5saW5lLWZsZXggZHJvcGRvd24tbGlzdCc+XHJcbiAgICAgICAgPERyb3Bkb3duQnV0dG9uXHJcbiAgICAgICAgICBhcnJvdz17ZmFsc2V9XHJcbiAgICAgICAgICBpY29uXHJcbiAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ29wdGlvbnMnKX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8TW9yZUhvcml6b250YWxPdXRsaW5lZCAvPlxyXG4gICAgICAgIDwvRHJvcGRvd25CdXR0b24+XHJcbiAgICAgICAgPERyb3Bkb3duTWVudT5cclxuICAgICAgICAgIHtjdXJMYXllci5lbmFibGVTZWxlY3QgJiZcclxuICAgICAgICAgICAgPEZyYWdtZW50PlxyXG4gICAgICAgICAgICAgIDxEcm9wZG93bkl0ZW0ga2V5PSdzaG93U2VsZWN0aW9uJyBvbkNsaWNrPXt0aGlzLm9uU2hvd1NlbGVjdGlvbn0gZGlzYWJsZWQ9eyF0YWJsZUxvYWRlZCB8fCBlbXB0eVRhYmxlIHx8ICFoYXNTZWxlY3RlZH0+XHJcbiAgICAgICAgICAgICAgICB7c2VsZWN0UXVlcnlGbGFnID8gPE1lbnVPdXRsaW5lZCBjbGFzc05hbWU9J21yLTEnLz4gOiA8U2hvd1NlbGVjdGlvbk91dGxpbmVkIGNsYXNzTmFtZT0nbXItMScgYXV0b0ZsaXAvPn1cclxuICAgICAgICAgICAgICAgIHtzZWxlY3RRdWVyeUZsYWdcclxuICAgICAgICAgICAgICAgICAgPyB0aGlzLmZvcm1hdE1lc3NhZ2UoJ3Nob3dBbGwnKVxyXG4gICAgICAgICAgICAgICAgICA6IHRoaXMuZm9ybWF0TWVzc2FnZSgnc2hvd1NlbGVjdGlvbicpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgPC9Ecm9wZG93bkl0ZW0+XHJcbiAgICAgICAgICAgICAgPERyb3Bkb3duSXRlbSBrZXk9J2NsZWFyU2VsZWN0aW9uJyBvbkNsaWNrPXt0aGlzLm9uU2VsZWN0aW9uQ2xlYXJ9IGRpc2FibGVkPXshdGFibGVMb2FkZWQgfHwgZW1wdHlUYWJsZSB8fCAhaGFzU2VsZWN0ZWR9PlxyXG4gICAgICAgICAgICAgICAgPENsZWFyU2VsZWN0aW9uR2VuZXJhbE91dGxpbmVkIGNsYXNzTmFtZT0nbXItMScvPlxyXG4gICAgICAgICAgICAgICAge3RoaXMuZm9ybWF0TWVzc2FnZSgnY2xlYXJTZWxlY3Rpb24nKX1cclxuICAgICAgICAgICAgICA8L0Ryb3Bkb3duSXRlbT5cclxuICAgICAgICAgICAgPC9GcmFnbWVudD5cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHtjdXJMYXllci5lbmFibGVSZWZyZXNoICYmXHJcbiAgICAgICAgICAgIDxEcm9wZG93bkl0ZW0ga2V5PSdyZWZyZXNoJyBvbkNsaWNrPXt0aGlzLm9uVGFibGVSZWZyZXNofSBkaXNhYmxlZD17IXRhYmxlTG9hZGVkIHx8IGVtcHR5VGFibGV9PlxyXG4gICAgICAgICAgICAgIDxSZWZyZXNoT3V0bGluZWQgY2xhc3NOYW1lPSdtci0xJy8+XHJcbiAgICAgICAgICAgICAge3RoaXMuZm9ybWF0TWVzc2FnZSgncmVmcmVzaCcpfVxyXG4gICAgICAgICAgICA8L0Ryb3Bkb3duSXRlbT5cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHthbGxvd0RlbCAmJlxyXG4gICAgICAgICAgICA8RHJvcGRvd25JdGVtIGtleT0nZGVsZXRlJyBvbkNsaWNrPXt0aGlzLm9uRGVsZXRlU2VsZWN0aW9ufSBkaXNhYmxlZD17IXRhYmxlTG9hZGVkIHx8IGVtcHR5VGFibGUgfHwgIWhhc1NlbGVjdGVkfT5cclxuICAgICAgICAgICAgICA8VHJhc2hPdXRsaW5lZCBjbGFzc05hbWU9J21yLTEnLz5cclxuICAgICAgICAgICAgICB7dGhpcy5mb3JtYXRNZXNzYWdlKCdkZWxldGVSZWNvcmRzJyl9XHJcbiAgICAgICAgICAgIDwvRHJvcGRvd25JdGVtPlxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgPERyb3Bkb3duSXRlbSBrZXk9J3Nob3dIaWRlQ29scycgdGFnPSdkaXYnIHRvZ2dsZT17ZmFsc2V9IGRpc2FibGVkPXshdGFibGVMb2FkZWQgfHwgZW1wdHlUYWJsZX0+XHJcbiAgICAgICAgICAgIDxBZHZhbmNlZFNlbGVjdFxyXG4gICAgICAgICAgICAgIHNpemU9J3NtJ1xyXG4gICAgICAgICAgICAgIHRpdGxlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ3Nob3dIaWRlQ29scycpfVxyXG4gICAgICAgICAgICAgIGJ1dHRvblByb3BzPXt7IGFycm93OiBmYWxzZSwgdHlwZTogJ3RlcnRpYXJ5JywgY2xhc3NOYW1lOiAncC0wIHRhYmxlLWhpZGUtaG92ZXItY29sb3InIH19XHJcbiAgICAgICAgICAgICAgZmx1aWRcclxuICAgICAgICAgICAgICBzdGF0aWNWYWx1ZXM9e2lzSG9ub3JXZWJtYXAgPyBwb3B1cEFsbEZpZWxkcyA6IGFkdmFuY2VkVGFibGVGaWVsZH1cclxuICAgICAgICAgICAgICBzb3J0VmFsdWVzQnlMYWJlbD17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgaXNNdWx0aXBsZVxyXG4gICAgICAgICAgICAgIHNlbGVjdGVkVmFsdWVzPXt0YWJsZVNob3dDb2x1bW5zIHx8IGluaXRTZWxlY3RUYWJsZUZpZWxkc31cclxuICAgICAgICAgICAgICBpc0VtcHR5T3B0aW9uSGlkZGVuPXtmYWxzZX1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5vblZhbHVlQ2hhbmdlRnJvbVJ1bnRpbWV9XHJcbiAgICAgICAgICAgICAgY3VzdG9tRHJvcGRvd25CdXR0b25Db250ZW50PXt0aGlzLmN1c3RvbVNob3dIaWRlRHJvcGRvd25CdXR0b259XHJcbiAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICA8L0Ryb3Bkb3duSXRlbT5cclxuICAgICAgICA8L0Ryb3Bkb3duTWVudT5cclxuICAgICAgPC9Ecm9wZG93bj5cclxuICAgICAge2RhdGFTb3VyY2UgJiYgbW9iaWxlRmxhZyAmJiBlbmFibGVEYXRhQWN0aW9uICYmXHJcbiAgICAgICAgPEZyYWdtZW50PlxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBhbGxMYXllcnNDb25maWcubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnN0IGlzQ3VycmVudERhdGFTb3VyY2UgPSBpdGVtLmlkID09PSBhY3RpdmVUYWJJZFxyXG4gICAgICAgICAgICAgIGNvbnN0IGRhdGFBY3Rpb25Ecm9wZG93biA9IGlzQ3VycmVudERhdGFTb3VyY2UgJiYgIWVtcHR5VGFibGVcclxuICAgICAgICAgICAgICAgID8gPEZyYWdtZW50IGtleT17aXRlbS5pZH0+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ndG9vbC1kaXZpZGluZy1saW5lJz48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdob3Jpem9udGFsLWFjdGlvbi1kcm9wZG93bic+XHJcbiAgICAgICAgICAgICAgICAgICAgPERhdGFBY3Rpb25MaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICB3aWRnZXRJZD17aWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICBsaXN0U3R5bGU9e0RhdGFBY3Rpb25MaXN0U3R5bGUuRHJvcGRvd259XHJcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhU2V0cz17W3sgZGF0YVNvdXJjZSwgdHlwZTogJ3NlbGVjdGVkJywgcmVjb3JkczogZGF0YVNvdXJjZS5nZXRTZWxlY3RlZFJlY29yZHMoKSwgZmllbGRzOiBhY3Rpb25Vc2VkRmllbGRzLCBuYW1lOiBkYXRhTmFtZSB9XX1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvRnJhZ21lbnQ+XHJcbiAgICAgICAgICAgICAgICA6ICcnXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGRhdGFBY3Rpb25Ecm9wZG93blxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIDwvRnJhZ21lbnQ+XHJcbiAgICAgIH1cclxuICAgICA8L2Rpdj5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQHB1YmxpY1xyXG4gICogZnVuY3Rpb24gdG8gXHJcbiAgKiBAcGFyYW0gIHtlc3JpL2dlb21ldHJ5L1BvaW50fSBwb2ludDEgXHJcbiAgKiBAcGFyYW0gIHtlc3JpL2dlb21ldHJ5L1BvaW50fSBwb2ludDJcclxuICAqIEByZXR1cm4ge2VzcmkvZ2VvbWV0cnkvUG9pbnR9IG1pZFBvaW50XHJcbiAgKi8gICAgXHJcbiAgcmVuZGVyU2VtcHJhQnV0dG9ucyA9ICgpID0+IHtcclxuICAgIHJldHVybiAoICAgICBcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgIDxCdXR0b25cclxuICAgICAgICAgIHNpemU9J2RlZmF1bHQnXHJcbiAgICAgICAgICBjbGFzc05hbWU9J3BsYWNlaG9sZGVyLWFwcHJvdmUtYnRuJ1xyXG4gICAgICAgICAgb25DbGljaz17KGV2dCkgPT4geyB0aGlzLmNsaWNrU2VtcHJhQnV0dG9ucygxKSB9fVxyXG4gICAgICAgICAgdGl0bGU9e1wiQXBwcm92ZSBzZWxlY3RlZCByZXF1ZXN0XCJ9XHJcbiAgICAgICAgICBkaXNhYmxlZD17dGhpcy50YWJsZSA9PSB1bmRlZmluZWQgfHwgdGhpcy50YWJsZS5zaXplID09IDAgfHwgdGhpcy50YWJsZS5oaWdobGlnaHRJZHMubGVuZ3RoICE9IDF9XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgQXBwcm92ZVxyXG4gICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICZlbXNwOyZlbXNwOyZlbXNwOyZlbXNwO1xyXG4gICAgICAgIDxCdXR0b25cclxuICAgICAgICAgIHNpemU9J2RlZmF1bHQnXHJcbiAgICAgICAgICBjbGFzc05hbWU9J3BsYWNlaG9sZGVyLWNhbmNlbC1idG4nXHJcbiAgICAgICAgICBvbkNsaWNrPXsoZXZ0KSA9PiB7IHRoaXMuY2xpY2tTZW1wcmFCdXR0b25zKDIpIH19XHJcbiAgICAgICAgICB0aXRsZT17XCJDYW5jZWwgc2VsZWN0ZWQgcmVxdWVzdFwifVxyXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMudGFibGUgPT0gdW5kZWZpbmVkIHx8IHRoaXMudGFibGUuc2l6ZSA9PSAwIHx8IHRoaXMudGFibGUuaGlnaGxpZ2h0SWRzLmxlbmd0aCAhPSAxfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIENhbmNlbFxyXG4gICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICZuYnNwO1xyXG4gICAgICAgIDxMYWJlbD5cclxuICAgICAgICA8Q2hlY2tib3hcclxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJDaGVja2JveFwiXHJcbiAgICAgICAgICBjaGVja2VkID0ge3RoaXMuc3RhdGUuY2FuY2xlV2l0aEVtYWlsTm90aWZ5fVxyXG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2FuY2VsV2l0aEVtYWlsfVxyXG4gICAgICAgICAgZGlzYWJsZWQ9e3RoaXMudGFibGUgPT0gdW5kZWZpbmVkIHx8IHRoaXMudGFibGUuc2l6ZSA9PSAwIHx8IHRoaXMudGFibGUuaGlnaGxpZ2h0SWRzLmxlbmd0aCAhPSAxfVxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgU2VuZCA8Yj5DYW5jZWw8L2I+IG5vdGlmaWNhdGlvbiBlbWFpbCB0byByZXF1ZXN0b3JcclxuICAgICAgICA8L0xhYmVsPiAgICAgICAgXHJcblxyXG4gICAgICAgIDxNb2RhbCBpc09wZW49e3RoaXMuc3RhdGUuaXNNb2RhbE9wZW59IHRvZ2dsZT17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGlzTW9kYWxPcGVuOiAhdGhpcy5zdGF0ZS5pc01vZGFsT3BlbiB9KX0+XHJcbiAgICAgICAgICA8TW9kYWxIZWFkZXIgdG9nZ2xlPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgaXNNb2RhbE9wZW46ICF0aGlzLnN0YXRlLmlzTW9kYWxPcGVuIH0pfT5Db25maXJtYXRpb248L01vZGFsSGVhZGVyPlxyXG4gICAgICAgICAgPE1vZGFsQm9keT5cclxuICAgICAgICAgICAge3RoaXMuc3RhdGUubW9kYWxDb250ZW50fVxyXG4gICAgICAgICAgPC9Nb2RhbEJvZHk+XHJcbiAgICAgICAgICA8TW9kYWxGb290ZXI+XHJcbiAgICAgICAgICAgIDxCdXR0b24gY29sb3I9XCJwcmltYXJ5XCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVVc2VyUmVzcG9uc2UodHJ1ZSwgdGhpcy5zZWxlY3RlZEZlYXR1cmUpfT5ZZXM8L0J1dHRvbj57JyAnfVxyXG4gICAgICAgICAgICA8QnV0dG9uIGNvbG9yPVwic2Vjb25kYXJ5XCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVVc2VyUmVzcG9uc2UoZmFsc2UpfT5ObzwvQnV0dG9uPlxyXG4gICAgICAgICAgPC9Nb2RhbEZvb3Rlcj5cclxuICAgICAgICA8L01vZGFsPiBcclxuXHJcbiAgICAgICAgPE1vZGFsIGlzT3Blbj17dGhpcy5zdGF0ZS5pc1Byb2dyZXNzTW9kYWxPcGVufSBzaXplPVwibGdcIiBjZW50ZXJlZCBjbGFzc05hbWU9J3BsYWNlaG9sZGVyLWluUHJvZ3Jlc3MtbW9kYWwnPlxyXG4gICAgICAgICAgPE1vZGFsQm9keT4gICAgICAgICBcclxuICAgICAgICAgICAgPExvYWRpbmcgdHlwZT1cIkRPTlVUXCIgLz5cclxuICAgICAgICAgIDwvTW9kYWxCb2R5PlxyXG4gICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIFxyXG4gICAgICAgICk7XHJcbiAgfSAgXHJcblxyXG4gIGNsaWNrU2VtcHJhQnV0dG9ucyA9IChhcHByb3ZlX3N0YXR1czogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAodGhpcy50YWJsZS5oaWdobGlnaHRJZHMubGVuZ3RoID09IDEpIHsgICAgICAgICAgICBcclxuICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5zdGF0ZS5zZWxlY3RSZWNvcmRzWzBdO1xyXG4gICAgICBpZiAodGhpcy50YWJsZS5oaWdobGlnaHRJZHMuYXQoMCkgIT0gcmVjb3JkLmdldElkKCkpIHsgICAgICAgIFxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICAvL3RoaXMuc3RhdGUuc2VsZWN0UmVjb3Jkc1swXS5nZXREYXRhKCkgb25seSByZXR1cm4gdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGZlYXR1cmU7IHRoaXMuc3RhdGUuc2VsZWN0UmVjb3Jkc1swXS5mZWF0dXJlIHdvcmtzIGJ1dCBpdCBpcyBub3QgdGhlIHN1cHBvcnRlZCBpbiBcImV4cG9ydCBpbnRlcmZhY2UgRGF0YVJlY29yZFwiIGluIEFyY0dJU0V4cGVyaWVuY2VCdWlsZGVyXFxjbGllbnRcXGppbXUtY29yZVxcbGliXFxkYXRhLXNvdXJjZXNcXGludGVyZmFjZXNcXGNvbW1vbi1kYXRhLXNvdXJjZS1pbnRlcmZhY2UudHNcclxuICAgICAgY29uc3QgZmVhdHVyZSA9IHJlY29yZC5mZWF0dXJlOyAgXHJcbiAgICAgIGlmIChhcHByb3ZlX3N0YXR1cyA9PT0gMSkge1xyXG4gICAgICAgIHRoaXMuc2hvd0NvbmZpcm1hdGlvbkRpYWxvZyhmZWF0dXJlKTtcclxuICAgICAgfSBcclxuICAgICAgZWxzZSBpZiAoYXBwcm92ZV9zdGF0dXMgPT09IDIpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYW5jbGVXaXRoRW1haWxOb3RpZnkpIHtcclxuICAgICAgICAgIC8vY2hhbmdlIHRoZSBzdGF0dXMgZnJvbSBcIkNhbmNlbFwiIHRvIFwiRGVueVwiIG9uY2UgdXNlciBjbGljayB0aGUgY2hlY2tib3ggXCJTZW5kIENhbmNlbCBub3RpZmljYXRpb24gZW1haWwgdG8gcmVxdWVzdG9yXCJcclxuICAgICAgICAgIGFwcHJvdmVfc3RhdHVzID0gMzsgICAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZVJlcXVlc3QoZmVhdHVyZSwgYXBwcm92ZV9zdGF0dXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzaG93Q29uZmlybWF0aW9uRGlhbG9nID0gKGZlYXR1cmU6R3JhcGhpYykgPT4ge1xyXG4gICAgY29uc3QgYXBwbGljYXRpb25fbmFtZSA9IGZlYXR1cmUuYXR0cmlidXRlc1tcImFwcGxpY2F0aW9uXCJdO1xyXG4gICAgbGV0IG1zZ1BvcHVwOiBSZWFjdC5SZWFjdE5vZGVcclxuICAgIGlmIChhcHBsaWNhdGlvbl9uYW1lID09IFwiTWljcm9ncmlkXCIpIHtcclxuICAgICAgY29uc3Qgc3RyUmVxdWVzdFR5cGUgPSBmZWF0dXJlLmF0dHJpYnV0ZXNbXCJyZXF1ZXN0X3R5cGVcIl07XHJcbiAgICAgIGlmICh0cnVlKSB7XHJcbiAgICAgICAgbXNnUG9wdXAgPSA8ZGl2PkhhdmUgeW91IGNvbmZpcm0gdGhlIHJlcXVlc3RvciBkbyBvd24gdGhpcyBlbWFpbCBhZGRyZXNzPyAgT0lEOiB7ZmVhdHVyZS5hdHRyaWJ1dGVzW1wiT0JKRUNUSURcIl19Pzxici8+PHVsPlRFU1Q8L3VsPjwvZGl2PlxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIG5vIG5lZWQgdG8gcG9wIHVwIHRoZSB3aW5kb3cgZm9yIGNvbmZpcm1hdGlvbi4gIFxyXG4gICAgICAgIHRoaXMudXBkYXRlUmVxdWVzdChmZWF0dXJlLCAxKTtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChhcHBsaWNhdGlvbl9uYW1lID09IFwiSUNBXCIpIHtcclxuICAgICAgY29uc3Qgc3RyUXVhbGl0eSA9IGZlYXR1cmUuYXR0cmlidXRlc1tcInF1YWxpdHlfY2hlY2tcIl07XHJcbiAgICAgIGxldCBxdWFsdGl5X21zOiBSZWFjdC5SZWFjdE5vZGUgPSA8bGk+PGRpdiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGZlYXR1cmUuYXR0cmlidXRlc1tcInF1YWxpdHlfY2hlY2tcIl0gfX0+PC9kaXY+PC9saT5cclxuICAgICAgaWYgKHN0clF1YWxpdHkgJiYgKHN0clF1YWxpdHkuaW5kZXhPZihcImZyZWUgZW1haWwgc2VydmljZSBwcm92aWRlclwiKSA+PSAwIHx8IHN0clF1YWxpdHkuaW5kZXhPZihcIjxpPjA8L2k+IHJlcXVlc3RzXCIpID49IDApKSB7XHJcbiAgICAgICAgLy9kYXRhIHF1YWxpdHkgY2hlY2suIFJlbWluZCB1c2VyIHRvIGRvdWJsZSBjaGVjayB0aGUgZGF0YSBxdWFsaXR5IFxyXG4gICAgICAgIHF1YWx0aXlfbXMgPSA8bGk+PGRpdiBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGZlYXR1cmUuYXR0cmlidXRlc1tcInF1YWxpdHlfY2hlY2tcIl0gfX0+PC9kaXY+PC9saT5cclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvLyBubyBuZWVkIHRvIHBvcCB1cCB0aGUgd2luZG93IGZvciBjb25maXJtYXRpb24uXHJcbiAgICAgICAgdGhpcy51cGRhdGVSZXF1ZXN0KGZlYXR1cmUsIDEpO1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIG1zZ1BvcHVwID0gPGRpdj5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gYXBwcm92ZSByZXF1ZXN0IHtmZWF0dXJlLmF0dHJpYnV0ZXNbXCJPQkpFQ1RJRFwiXX0/PGJyLz48dWw+e3F1YWx0aXlfbXN9PC91bD48L2Rpdj5cclxuICAgIH1cclxuICAgIHRoaXMuc2VsZWN0ZWRGZWF0dXJlID0gZmVhdHVyZTsgIC8vIHN0b3JlIHRoZSB2YWx1ZSBhbmQgdG8gYmUgdXNlZCBpbiBoYW5kbGVVc2VyUmVzcG9uc2VcclxuXHJcbiAgICB0aGlzLnNldFN0YXRlKHsgaXNNb2RhbE9wZW46IHRydWUgfSk7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgbW9kYWxDb250ZW50OiBtc2dQb3B1cCB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVJlcXVlc3QgPSBhc3luYyAoZmVhdHVyZTpHcmFwaGljLCBhcHByb3ZlX3N0YXR1czpudW1iZXIpID0+IHtcclxuICAgIGNvbnN0IHNlbGVjdGVkT0lEID0gdGhpcy50YWJsZS5oaWdobGlnaHRJZHMuYXQoMClcclxuICAgIGNvbnN0IHBlcmZvcm1Bc3luY09wZXJhdGlvbiA9IGFzeW5jICgpID0+IHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUHJvZ3Jlc3NNb2RhbE9wZW46IHRydWUgfSk7ICAgICAgXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHIgPT4gc2V0VGltZW91dChyLCAyMDApKTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzUHJvZ3Jlc3NNb2RhbE9wZW46IGZhbHNlIH0pOyAgICAgIFxyXG4gICAgfTtcclxuXHJcbiAgICAvL3dhaXQgaGFsZiBzZWNvbmQgdG8gc292bGUgdGhlIGlzc3VlIG9mIG9uU2VsZWN0aW9uQ2hhbmdlIGlzIGRlbGF5ZWRcclxuICAgIGF3YWl0IHBlcmZvcm1Bc3luY09wZXJhdGlvbigpO1xyXG4gICAgXHJcbiAgICBpZiAodGhpcy50YWJsZS5oaWdobGlnaHRJZHMuYXQoMCkgIT09IGZlYXR1cmUuYXR0cmlidXRlc1tcIk9CSkVDVElEXCJdKSB7XHJcbiAgICAgIC8vYWRkaXRpb25hbCBjaGVjayB0byBtYWtlIHN1cmUgdGhlIHNlbGVjdGVkT0lkIGlzIHRoZSBzYW1lIGFzIHRoZSBmZWF0dXJlLmF0dHJpYnV0ZXNbXCJPQkpFQ1RJRFwiXVxyXG4gICAgICBjb25zb2xlLmVycm9yKFwic2VsZWN0ZWRPSWQ6IFwiICsgc2VsZWN0ZWRPSUQgKyBcIiBmZWF0dXJlLmF0dHJpYnV0ZXNbT0JKRUNUSURdOiBcIiArIGZlYXR1cmUuYXR0cmlidXRlc1tcIk9CSkVDVElEXCJdKVxyXG4gICAgICByZXR1cm5cclxuICAgIH0gICAgXHJcblxyXG4gICAgY29uc3QgYXBwcm92ZV9zdGF0dXNfbWFwID0ge1xyXG4gICAgICAxOiBcIkFwcHJvdmVkXCIsXHJcbiAgICAgIDI6IFwiQ2FuY2VsZWRcIixcclxuICAgICAgMzogXCJEZW5pZWRcIiAgICAgICAgICBcclxuICAgIH1cclxuICAgIGNvbnN0IGFwcGxpY2F0aW9uX25hbWUgPSBmZWF0dXJlLmF0dHJpYnV0ZXNbXCJhcHBsaWNhdGlvblwiXTtcclxuICAgIGNvbnN0IHVybCA9IHRoaXMuZGF0YVNvdXJjZVVybFxyXG5cclxuICAgIGxldCBhdHRyX2FwcHJvdmVfc3RhdHVzID0gZmVhdHVyZS5hdHRyaWJ1dGVzW1wiYXBwcm92ZV9zdGF0dXNcIl1cclxuICAgIGlmICgoYXBwbGljYXRpb25fbmFtZSA9PSBcIk1pY3JvZ3JpZFwiKSB8fCAoYXBwbGljYXRpb25fbmFtZSA9PSBcIlBTUFwiKSkgeyBcclxuICAgICAgaWYgKGFwcHJvdmVfc3RhdHVzID09IDEpIHtcclxuICAgICAgICBmZWF0dXJlLmF0dHJpYnV0ZXNbXCJyZXF1ZXN0X3R5cGVcIl0gPSBcIkVtYWlsIFZlcmlmaWVkXCIgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk1pY3JvZ3JpZC9QU1AgcmVxdWVzdCBFbWFpbCBWZXJpZmllZFwiKVxyXG4gICAgICB9XHJcbiAgICAgIGZlYXR1cmUuYXR0cmlidXRlc1tcImFwcHJvdmVfc3RhdHVzXCJdID0gYXBwcm92ZV9zdGF0dXNfbWFwW2FwcHJvdmVfc3RhdHVzXSAgIC8vIHByb2R1Y3Rpb24gb25lXHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChhcHBsaWNhdGlvbl9uYW1lID09IFwiSUNBXCIpIHtcclxuICAgICAgaWYgKCFhdHRyX2FwcHJvdmVfc3RhdHVzKSB7XHJcbiAgICAgICAgZmVhdHVyZS5hdHRyaWJ1dGVzW1wiYXBwcm92ZV9zdGF0dXNcIl0gPSBhcHByb3ZlX3N0YXR1c19tYXBbYXBwcm92ZV9zdGF0dXNdICAgLy8gcHJvZHVjdGlvbiBvbmVcclxuICAgICAgfVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvL0ZvciBQcm9kdWN0aW9uIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTm90IHBvc3NpYmxlIGZvciBJQ0EgcmVxdWVzdCBpbiBwcm9kdWN0aW9uXCIpXHJcbiAgICAgICAgcmV0dXJuXHJcblxyXG4gICAgICAgIC8vRm9yIGhhcnJ5IHRlc3RpbmcgcHVycG9zZSBvbmx5IGluIG5vbiBwcm9kdWN0aW9uIGVudmlyb25tZW50XHJcbiAgICAgICAgLy9mZWF0dXJlLmF0dHJpYnV0ZXNbXCJxdWFsaXR5X2NoZWNrXCJdICs9IGFwcHJvdmVfc3RhdHVzX21hcFthcHByb3ZlX3N0YXR1c11bMF07ICAgIFxyXG4gICAgICAgIC8vZmVhdHVyZS5hdHRyaWJ1dGVzW1wiYXBwcm92ZV9zdGF0dXNcIl0gPSBudWxsICAgICAgIC8vIHRvIHJvbGwgYmFjayBkYXRhIGZyb20gaGlzdG9yeSByZXF1ZXN0IGNoYW5nZSBzaG93U2VtcHJhQnV0dG9ucyB0byB0cnVlIGluIGNvbmZpZy5qc29uXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2UgeyAgICAgIFxyXG4gICAgICByZXR1cm4gICAvLyBub3QgcG9zc2libGUsIGp1c3QgZm9yIGFkZGl0aW9uYWwgY2hlY2tcclxuICAgIH1cclxuXHJcbiAgICBmZWF0dXJlLmF0dHJpYnV0ZXNbXCJub3Rlc1wiXSA9IFwiTmV3MjZcIiAvL1RvIGxhYmVsIHRoZSBuZXcgd2F5IG9mIGFwcHJvdmFsXHJcbiAgICAvL2NvbnN0IF90aGlzID0gdGhpc1xyXG4gICAgdGhpcy51cGRhdGVGZWF0dXJlTGF5ZXIodXJsLCBmZWF0dXJlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgaWYgKFwidXBkYXRlRmVhdHVyZVJlc3VsdHNcIiBpbiByZXNwb25zZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGFwcGxpY2F0aW9uX25hbWUgKyBcIiBcIiArIGFwcHJvdmVfc3RhdHVzX21hcFthcHByb3ZlX3N0YXR1c10gKyBcIi4gVXBkYXRlIHJlc3VsdDogXCIgKyBKU09OLnN0cmluZ2lmeShyZXNwb25zZS51cGRhdGVGZWF0dXJlUmVzdWx0c1swXSkpXHJcbiAgICAgICAgLy8gaWYgKF90aGlzLnRhYmxlKSB7XHJcbiAgICAgICAgLy8gICBpZiAoX3RoaXMudGFibGUuaGlnaGxpZ2h0SWRzKSB7XHJcbiAgICAgICAgLy8gICAgIF90aGlzLnRhYmxlLmhpZ2hsaWdodElkcy5yZW1vdmVBbGwoKVxyXG4gICAgICAgIC8vICAgfVxyXG4gICAgICAgIC8vICAgX3RoaXMucmVzZXRUYWJsZSgpXHJcbiAgICAgICAgLy8gfSAgICAgICAgIFxyXG4gICAgICB9ICAgIFxyXG4gICAgfSkgICBcclxuICB9XHJcblxyXG4gIGhhbmRsZVVzZXJSZXNwb25zZSA9IChyZXNwb25zZTogYm9vbGVhbiwgZmVhdHVyZT86IEdyYXBoaWMpID0+IHsgICAgXHJcbiAgICBpZiAocmVzcG9uc2UpIHtcclxuICAgICAgLy8gSGFuZGxlIHRoZSBcIlllc1wiIHJlc3BvbnNlXHJcbiAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGNvbmZpcm1lZCB0aGUgYWN0aW9uLicpO1xyXG4gICAgICB0aGlzLnVwZGF0ZVJlcXVlc3QoZmVhdHVyZSwgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBIYW5kbGUgdGhlIFwiTm9cIiByZXNwb25zZVxyXG4gICAgICBjb25zb2xlLmxvZygnVXNlciBjYW5jZWxlZCB0aGUgYWN0aW9uLicpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGlzTW9kYWxPcGVuOiBmYWxzZSB9KTtcclxuICB9XHJcbiAgXHJcbiAgaGFuZGxlQ2FuY2VsV2l0aEVtYWlsID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGNhbmNsZVdpdGhFbWFpbE5vdGlmeTogIXRoaXMuc3RhdGUuY2FuY2xlV2l0aEVtYWlsTm90aWZ5IH0pO1xyXG4gIH1cclxuICBcclxuICAvLyBxdWVyeUZlYXR1cmVMYXllciA9IGFzeW5jIChsYXllclVSTDogc3RyaW5nLCBzcWxRdWVyeTogc3RyaW5nKTogUHJvbWlzZTxHcmFwaGljW10+ID0+IHsgICAgXHJcbiAgLy8gICBjb25zdCBmZWF0dXJlTGF5ZXI6IEZlYXR1cmVMYXllciA9IG5ldyBGZWF0dXJlTGF5ZXIoe1xyXG4gIC8vICAgICB1cmw6IGxheWVyVVJMXHJcbiAgLy8gICB9KTsgICAgXHJcblxyXG4gIC8vICAgbGV0IHF1ZXJ5ID0gZmVhdHVyZUxheWVyLmNyZWF0ZVF1ZXJ5KCk7XHJcbiAgLy8gICBxdWVyeS53aGVyZSA9IHNxbFF1ZXJ5O1xyXG5cclxuICAvLyAgIGxldCByZXN1bHRzOmFueSA9IFtdXHJcbiAgLy8gICBhd2FpdCBmZWF0dXJlTGF5ZXIucXVlcnlGZWF0dXJlcyhxdWVyeSlcclxuICAvLyAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpeyAgICAgICAgXHJcbiAgLy8gICAgICAgcmVzdWx0cyA9IHJlc3BvbnNlLmZlYXR1cmVzXHJcbiAgLy8gICAgfSlcclxuICAvLyAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuICAvLyAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHF1ZXJ5aW5nIGZlYXR1cmUgbGF5ZXI6XCIsIGVycm9yKTtcclxuICAvLyAgIH0pOyAgICBcclxuICAvLyAgIHJldHVybiByZXN1bHRzXHJcbiAgLy8gfVxyXG5cclxuICAvKipcclxuICAqIEBwdWJsaWNcclxuICAqIGZ1bmN0aW9uIHRvIHVwZGF0ZSBGZWF0dXJlTGF5ZXIgXHJcbiAgKiBAcGFyYW0gIHtzdHJpbmd9IGxheWVyVVJMIFxyXG4gICogQHBhcmFtICB7QGFyY2dpcy9jb3JlL0dyYXBoaWN9IHVwZGF0ZUZlYXR1cmVcclxuICAqIEByZXR1cm4ge1Byb21pc2V9IEdyYXBoaWNbXVxyXG4gICovICAgIFxyXG4gIHVwZGF0ZUZlYXR1cmVMYXllciA9IGFzeW5jIChsYXllclVSTDogc3RyaW5nLCB1cGRhdGVGZWF0dXJlOiBHcmFwaGljKTogUHJvbWlzZTxHcmFwaGljW10+ID0+IHsgICAgXHJcbiAgICBjb25zdCBmZWF0dXJlTGF5ZXI6IEZlYXR1cmVMYXllciA9IG5ldyBGZWF0dXJlTGF5ZXIoe1xyXG4gICAgICB1cmw6IGxheWVyVVJMXHJcbiAgICB9KTsgICAgXHJcblxyXG4gICAgY29uc3QgZWRpdHMgPSB7XHJcbiAgICAgIHVwZGF0ZUZlYXR1cmVzOiBbdXBkYXRlRmVhdHVyZV1cclxuICAgIH1cclxuICAgIFxyXG4gICAgbGV0IHJlc3VsdHM6YW55ID0gW11cclxuICAgIGF3YWl0IGZlYXR1cmVMYXllci5hcHBseUVkaXRzKGVkaXRzKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsgICAgICAgIFxyXG4gICAgICAgIHJlc3VsdHMgPSByZXNwb25zZVxyXG4gICAgICAgIC8vcmVzcG9uc2UudXBkYXRlRmVhdHVyZVJlc3VsdHNbMF1cclxuICAgICB9KVxyXG4gICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgdXBkYXRlRmVhdHVyZUxheWVyOlwiLCBlcnJvcik7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgcmV0dXJuIHJlc3VsdHNcclxuICB9XHJcblxyXG4gIHJlbmRlclBlcm1pc3Npb25Jc3N1c1BvcHVwID0gKCkgPT4ge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgICA8TW9kYWwgaXNPcGVuPXt0aGlzLnN0YXRlLmlzUGVybWlzc2lvbk1vZGFsT3Blbn0gdG9nZ2xlPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgaXNQZXJtaXNzaW9uTW9kYWxPcGVuOiAhdGhpcy5zdGF0ZS5pc1Blcm1pc3Npb25Nb2RhbE9wZW4gfSl9PlxyXG4gICAgICAgIDxNb2RhbEhlYWRlciB0b2dnbGU9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBpc1Blcm1pc3Npb25Nb2RhbE9wZW46ICF0aGlzLnN0YXRlLmlzUGVybWlzc2lvbk1vZGFsT3BlbiB9KX0+UGVybWlzc2lvbiBJc3N1ZTwvTW9kYWxIZWFkZXI+XHJcbiAgICAgICAgPE1vZGFsQm9keT5cclxuICAgICAgICAgIHs8ZGl2PlBsZWFzZSBjb250YWN0IHRoZSBzdXBwb3J0IHRlYW0gYW5kIGFzc2lnbiB5b3VyIFNlbXByYSBBR09MIGFjY291bnQgaW50byBhcHByb3ByaWF0ZSBncm91cC48L2Rpdj59XHJcbiAgICAgICAgPC9Nb2RhbEJvZHk+XHJcbiAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgPC9kaXY+ICAgICAgXHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZW5kZXIgKCkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBhY3RpdmVUYWJJZCxcclxuICAgICAgbW9iaWxlRmxhZyxcclxuICAgICAgZW1wdHlUYWJsZSxcclxuICAgICAgbm90UmVhZHksXHJcbiAgICAgIHNob3dMb2FkaW5nLFxyXG4gICAgICBpbnRlcnZhbCxcclxuICAgICAgaXNTaG93U3VnZ2VzdGlvbixcclxuICAgICAgc2VhcmNoU3VnZ2VzdGlvbixcclxuICAgICAgdGFibGVUb3RhbCxcclxuICAgICAgdGFibGVTZWxlY3RlZCxcclxuICAgICAgd2lkZ2V0V2lkdGhcclxuICAgIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBsZXQgeyBkYXRhU291cmNlIH0gPSB0aGlzLnN0YXRlXHJcbiAgICBjb25zdCB7IGNvbmZpZywgaWQsIHRoZW1lLCBlbmFibGVEYXRhQWN0aW9uLCBpc0hlaWdodEF1dG8sIGlzV2lkdGhBdXRvIH0gPSB0aGlzLnByb3BzXHJcbiAgICBjb25zdCB7IGxheWVyc0NvbmZpZywgYXJyYW5nZVR5cGUgfSA9IGNvbmZpZ1xyXG4gICAgLy8gZGF0YS1hY3Rpb24gVGFibGVcclxuICAgIGNvbnN0IGRhTGF5ZXJzQ29uZmlnID0gdGhpcy5nZXREYXRhQWN0aW9uVGFibGUoKVxyXG4gICAgY29uc3QgYWxsTGF5ZXJzQ29uZmlnID0gbGF5ZXJzQ29uZmlnLmFzTXV0YWJsZSh7IGRlZXA6IHRydWUgfSkuY29uY2F0KGRhTGF5ZXJzQ29uZmlnKVxyXG4gICAgbGV0IHVzZURhdGFTb3VyY2VcclxuICAgIGNvbnN0IGN1ckxheWVyID0gYWxsTGF5ZXJzQ29uZmlnLmZpbmQoaXRlbSA9PiBpdGVtLmlkID09PSBhY3RpdmVUYWJJZClcclxuICAgIGlmIChjdXJMYXllcj8uZGF0YUFjdGlvbkRhdGFTb3VyY2UpIGRhdGFTb3VyY2UgPSBjdXJMYXllci5kYXRhQWN0aW9uRGF0YVNvdXJjZSBhcyBRdWVyaWFibGVEYXRhU291cmNlXHJcbiAgICBpZiAoYWxsTGF5ZXJzQ29uZmlnLmxlbmd0aCA+IDApIHtcclxuICAgICAgdXNlRGF0YVNvdXJjZSA9IGN1ckxheWVyXHJcbiAgICAgICAgPyBjdXJMYXllci51c2VEYXRhU291cmNlXHJcbiAgICAgICAgOiBhbGxMYXllcnNDb25maWdbMF0udXNlRGF0YVNvdXJjZVxyXG4gICAgfVxyXG4gICAgY29uc3QgY2xhc3NlcyA9IGNsYXNzTmFtZXMoXHJcbiAgICAgICdqaW11LXdpZGdldCcsXHJcbiAgICAgICd3aWRnZXQtdGFibGUnLFxyXG4gICAgICAndGFibGUtd2lkZ2V0LScgKyBpZFxyXG4gICAgKVxyXG5cclxuICAgIGlmIChhbGxMYXllcnNDb25maWcubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPFdpZGdldFBsYWNlaG9sZGVyXHJcbiAgICAgICAgICB3aWRnZXRJZD17aWR9XHJcbiAgICAgICAgICBpY29uU2l6ZT0nbGFyZ2UnXHJcbiAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogMCwgdG9wOiAwIH19XHJcbiAgICAgICAgICBpY29uPXt0YWJsZVBsYWNlaG9sZGVySWNvbn1cclxuICAgICAgICAgIGRhdGEtdGVzdGlkPSd0YWJsZVBsYWNlaG9sZGVyJ1xyXG4gICAgICAgIC8+XHJcbiAgICAgIClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBob3Jpem9udGFsVGFnID0gYXJyYW5nZVR5cGUgPT09IFRhYmxlQXJyYW5nZVR5cGUuVGFic1xyXG4gICAgY29uc3QgZGF0YVNvdXJjZUxhYmVsID0gZGF0YVNvdXJjZT8uZ2V0TGFiZWwoKVxyXG4gICAgY29uc3Qgb3V0cHV0RHNXaWRnZXRJZCA9IGFwcENvbmZpZ1V0aWxzLmdldFdpZGdldElkQnlPdXRwdXREYXRhU291cmNlKHVzZURhdGFTb3VyY2UpXHJcbiAgICBjb25zdCBhcHBDb25maWcgPSBnZXRBcHBTdG9yZSgpLmdldFN0YXRlKCk/LmFwcENvbmZpZ1xyXG4gICAgY29uc3Qgd2lkZ2V0TGFiZWwgPSBhcHBDb25maWc/LndpZGdldHM/LltvdXRwdXREc1dpZGdldElkXT8ubGFiZWxcclxuICAgIGNvbnN0IHBhcnRQcm9wcyA9IHsgaWQsIGVuYWJsZURhdGFBY3Rpb24sIGlzSGVpZ2h0QXV0bywgaXNXaWR0aEF1dG8sIGhlYWRlckZvbnRTZXR0aW5nOiBjdXJMYXllcj8uaGVhZGVyRm9udFNldHRpbmcsIGVtcHR5VGFibGUsIGhvcml6b250YWxUYWcsIHdpZGdldFdpZHRoIH1cclxuICAgIGNvbnN0IHNlYXJjaE9uID0gY3VyTGF5ZXI/LmVuYWJsZVNlYXJjaCAmJiBjdXJMYXllcj8uc2VhcmNoRmllbGRzPy5sZW5ndGggIT09IDBcclxuICAgIGNvbnN0IHRvb2xMaXN0Tm9kZSA9IG1vYmlsZUZsYWcgPyB0aGlzLnJlbmRlckRyb3Bkb3duVG9vbExpc3QoY3VyTGF5ZXIsIGRhdGFTb3VyY2UpIDogdGhpcy5yZW5kZXJCdXR0b25Ub29sTGlzdChjdXJMYXllciwgZGF0YVNvdXJjZSlcclxuXHJcbiAgICBjb25zdCBzZW1wcmFCdXR0b25zID0gbW9iaWxlRmxhZyA/IFwiXCIgOiB0aGlzLnJlbmRlclNlbXByYUJ1dHRvbnMoKVxyXG4gICAgY29uc3QgcGVybWlzc2lvbklzc3VzUG9wdXAgPSB0aGlzLnJlbmRlclBlcm1pc3Npb25Jc3N1c1BvcHVwKClcclxuXHJcbiAgICAvLyBJZiAndmlldyBpbiB0YWJsZScsIHVzZSBzZWxlY3Rpb24gdmlld1xyXG4gICAgY29uc3QgdXNlTGF5ZXJEcyA9IGN1ckxheWVyLmRhdGFBY3Rpb25PYmplY3QgJiYgY3VyTGF5ZXIuZGF0YUFjdGlvblR5cGUgPT09IFRhYmxlRGF0YUFjdGlvblR5cGUuVmlld1xyXG5cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc2VzfSBjc3M9e2dldFN0eWxlKHRoZW1lLCBtb2JpbGVGbGFnLCBzZWFyY2hPbiwgcGFydFByb3BzKX0gcmVmPXtlbCA9PiAodGhpcy5yZWZzLmN1cnJlbnRFbCA9IGVsKX0+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J3N1cmZhY2UtMSBib3JkZXItMCBoLTEwMCc+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGFibGUtaW5kZW50Jz5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YGQtZmxleCAke1xyXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbFRhZyA/ICdob3Jpem9udGFsLXRhZy1saXN0JyA6ICdkcm9wZG93bi10YWctbGlzdCdcclxuICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIHsvKiBzb21ldGluZyB3cm9uZyBpbiBsaW50IGNoZWNrIGZvciBUYWJzICovfVxyXG4gICAgICAgICAgICAgIHtob3Jpem9udGFsVGFnXHJcbiAgICAgICAgICAgICAgICA/IChcclxuICAgICAgICAgICAgICAgICAgPEZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJzIHR5cGU9J3VuZGVybGluZScgb25DaGFuZ2U9e3RoaXMub25UYWdDbGlja30gY2xhc3NOYW1lPSd0YWItZmxleCcgdmFsdWU9e2FjdGl2ZVRhYklkfSBvbkNsb3NlPXt0aGlzLm9uQ2xvc2VUYWJ9IHNjcm9sbGFibGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbExheWVyc0NvbmZpZy5tYXAoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNEYXRhQWN0aW9uID0gISFpdGVtLmRhdGFBY3Rpb25PYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFRhYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l0ZW0uaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkPXtpdGVtLmlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17aXRlbS5uYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J3RleHQtdHJ1bmNhdGUgdGFnLXNpemUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlYWJsZT17aXNEYXRhQWN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nbXQtMicgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVGFiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkgYXMgYW55XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJzPlxyXG4gICAgICAgICAgICAgICAgICA8L0ZyYWdtZW50PlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICA6IChcclxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXthY3RpdmVUYWJJZH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVUYWdDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPSd0b3AtZHJvcCdcclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHthbGxMYXllcnNDb25maWcubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2l0ZW0uaWR9IHZhbHVlPXtpdGVtLmlkfSB0aXRsZT17aXRlbS5uYW1lfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGFibGUtYWN0aW9uLW9wdGlvbic+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGFibGUtYWN0aW9uLW9wdGlvbi10YWInIHRpdGxlPXtpdGVtLm5hbWV9PntpdGVtLm5hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5kYXRhQWN0aW9uT2JqZWN0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ndGFibGUtYWN0aW9uLW9wdGlvbi1jbG9zZSc+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0ndGVydGlhcnknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGV2dCkgPT4geyB0aGlzLm9uQ2xvc2VUYWIoaXRlbS5pZCwgZXZ0KSB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlT3V0bGluZWQgc2l6ZT0ncycgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHshc2VhcmNoT24gJiYgdG9vbExpc3ROb2RlfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7XHJcbiAgICAgICAgICAgICAgICBhcnJhbmdlVHlwZSA9PT0gVGFibGVBcnJhbmdlVHlwZS5UYWJzXHJcbiAgICAgICAgICAgICAgICAgID8gJ2hvcml6b250YWwtcmVuZGVyLWNvbidcclxuICAgICAgICAgICAgICAgICAgOiAnZHJvcGRvd24tcmVuZGVyLWNvbidcclxuICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSd0YWJsZS1oZWFkZXInIHJlZj0nc3VnZ2VzdFBvcHVwJz5cclxuICAgICAgICAgICAgICAgIHtzZWFyY2hPbiAmJiB0aGlzLnJlbmRlclNlYXJjaFRvb2xzKGN1ckxheWVyPy5zZWFyY2hIaW50KX1cclxuICAgICAgICAgICAgICAgIHtjdXJMYXllci5zaG93U2VtcHJhQnV0dG9ucyAmJiBzZW1wcmFCdXR0b25zfVxyXG4gICAgICAgICAgICAgICAge3NlYXJjaE9uICYmXHJcbiAgICAgICAgICAgICAgICAgIDxQb3BwZXJcclxuICAgICAgICAgICAgICAgICAgICBjc3M9e2dldFN1Z2dlc3Rpb25TdHlsZSgpfVxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudD0nYm90dG9tLXN0YXJ0J1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZT17dGhpcy5yZWZzLnN1Z2dlc3RQb3B1cH1cclxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQ9e1swLCAtMl19XHJcbiAgICAgICAgICAgICAgICAgICAgb3Blbj17aXNTaG93U3VnZ2VzdGlvbn1cclxuICAgICAgICAgICAgICAgICAgICB0cmFwRm9jdXM9e2ZhbHNlfVxyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1cz17ZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlPXtlID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1Nob3dTdWdnZXN0aW9uOiAhaXNTaG93U3VnZ2VzdGlvbiB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICB7c2VhcmNoU3VnZ2VzdGlvbi5tYXAoKHN1Z2dlc3Rpb24sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdWdnZXN0aW9uSHRtbCA9IHNhbml0aXplci5zYW5pdGl6ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbi5zdWdnZXN0aW9uSHRtbFxyXG4gICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT0nc2Vjb25kYXJ5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9J3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHsgdGhpcy5vblN1Z2dlc3Rpb25Db25maXJtKHN1Z2dlc3Rpb24uc3VnZ2VzdGlvbikgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IHN1Z2dlc3Rpb25IdG1sIH19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgIDwvUG9wcGVyPlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAge3NlYXJjaE9uICYmIHRvb2xMaXN0Tm9kZX1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICB7ZW1wdHlUYWJsZSAmJlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BsYWNlaG9sZGVyLXRhYmxlLWNvbic+XHJcbiAgICAgICAgICAgICAgICAgIDxXaWRnZXRQbGFjZWhvbGRlclxyXG4gICAgICAgICAgICAgICAgICAgIGljb249e3JlcXVpcmUoJy4vYXNzZXRzL2ljb24uc3ZnJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZT17dGhpcy5mb3JtYXRNZXNzYWdlKCdub0RhdGEnKX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAge25vdFJlYWR5ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9J3BsYWNlaG9sZGVyLWFsZXJ0LWNvbic+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8QWxlcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybT0ndG9vbHRpcCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT0nc21hbGwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9J3dhcm5pbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ9e3RoaXMuZm9ybWF0TWVzc2FnZSgnb3V0cHV0RGF0YUlzTm90R2VuZXJhdGVkJywgeyBvdXRwdXREc0xhYmVsOiBkYXRhU291cmNlTGFiZWwsIHNvdXJjZVdpZGdldE5hbWU6IHdpZGdldExhYmVsIH0pfVxyXG4gICAgICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHsvKiBIaWRlIHRoZSBSZXNldCBidXR0b24gdGVtcG9yYXJpbHkgKi99XHJcbiAgICAgICAgICAgICAgey8qIHtlbXB0eURhdGEgJiZcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdwbGFjZWhvbGRlci1yZXNldC1jb24nPlxyXG4gICAgICAgICAgICAgICAgICA8V2lkZ2V0UGxhY2Vob2xkZXJcclxuICAgICAgICAgICAgICAgICAgICBpY29uPXt3YXJuaW5nSWNvbn1cclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXt0aGlzLmZvcm1hdE1lc3NhZ2UoJ25vRGF0YScpfVxyXG4gICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGxhY2Vob2xkZXItcmVzZXQtYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgICAgICBzaXplPSdzbSdcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT17dGhpcy5mb3JtYXRNZXNzYWdlKCdyZXNldCcpfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuY2xlYXJNZXNzYWdlQWN0aW9ufVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuZm9ybWF0TWVzc2FnZSgncmVzZXQnKX1cclxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICB9ICovfVxyXG4gICAgICAgICAgICAgIDxkaXYgcmVmPSd0YWJsZUNvbnRhaW5lcicgY2xhc3NOYW1lPSd0YWJsZS1jb24nIC8+XHJcbiAgICAgICAgICAgICAge2N1ckxheWVyPy51cGRhdGVUZXh0ICYmIChzaG93TG9hZGluZyB8fCBpbnRlcnZhbCA+IDApICYmIHRoaXMucmVuZGVyTG9hZGluZyhzaG93TG9hZGluZywgaW50ZXJ2YWwpfVxyXG4gICAgICAgICAgICAgIHtjdXJMYXllcj8uc2hvd0NvdW50ICYmIHRoaXMucmVuZGVyVGFibGVDb3VudCh0YWJsZVRvdGFsLCB0YWJsZVNlbGVjdGVkKX1cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0nZHMtY29udGFpbmVyJz5cclxuICAgICAgICAgICAgICAgIHsoZGF0YVNvdXJjZSB8fCB1c2VEYXRhU291cmNlKSAmJlxyXG4gICAgICAgICAgICAgICAgICA8RGF0YVNvdXJjZUNvbXBvbmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZGdldElkPXtpZH1cclxuICAgICAgICAgICAgICAgICAgICB1c2VEYXRhU291cmNlPXtJbW11dGFibGUodXNlRGF0YVNvdXJjZSl9XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVNvdXJjZT17dXNlTGF5ZXJEcyA/IGRhdGFTb3VyY2UgOiBudWxsfVxyXG4gICAgICAgICAgICAgICAgICAgIG9uRGF0YVNvdXJjZUNyZWF0ZWQ9e3RoaXMub25EYXRhU291cmNlQ3JlYXRlZH1cclxuICAgICAgICAgICAgICAgICAgICBvbkNyZWF0ZURhdGFTb3VyY2VGYWlsZWQ9e3RoaXMub25DcmVhdGVEYXRhU291cmNlRmFpbGVkfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vb25TZWxlY3Rpb25DaGFuZ2U9e3RoaXMub25TZWxlY3Rpb25DaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgICAgb25EYXRhU291cmNlSW5mb0NoYW5nZT17dGhpcy5vbkRhdGFTb3VyY2VJbmZvQ2hhbmdlfSAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgb25RdWVyeVJlcXVpcmVkPXt0aGlzLm9uUXVlcnlSZXF1aXJlZH1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICB7cGVybWlzc2lvbklzc3VzUG9wdXB9XHJcbiAgICAgICAgICAgICAgPEdsb2JhbCBzdHlsZXM9e2dldEdsb2JhbFRhYmxlVG9vbHModGhlbWUpfSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxSZWFjdFJlc2l6ZURldGVjdG9yXHJcbiAgICAgICAgICBoYW5kbGVXaWR0aFxyXG4gICAgICAgICAgaGFuZGxlSGVpZ2h0XHJcbiAgICAgICAgICBvblJlc2l6ZT17dGhpcy5kZWJvdW5jZU9uUmVzaXplfVxyXG4gICAgICAgIC8+ICAgICAgICBcclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICBcclxuICAgIClcclxuICB9XHJcbn1cclxuXG4gZXhwb3J0IGZ1bmN0aW9uIF9fc2V0X3dlYnBhY2tfcHVibGljX3BhdGhfXyh1cmwpIHsgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gPSB1cmwgfSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==